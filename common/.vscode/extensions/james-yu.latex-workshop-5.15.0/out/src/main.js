module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t){e.exports=require("path")},function(e,t){e.exports=require("vscode")},function(e,t){e.exports=require("fs")},function(e,t,n){var r=n(2),i=n(112),o=n(114),s=[],a=n(4);var c=function(){};function u(e){i(e),e.gracefulify=u,e.FileReadStream=d,e.FileWriteStream=g,e.createReadStream=function(e,t){return new d(e,t)},e.createWriteStream=function(e,t){return new g(e,t)};var t=e.readFile;e.readFile=function(e,n,r){"function"==typeof n&&(r=n,n=null);return function e(n,r,i){return t(n,r,function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof i&&i.apply(this,arguments),h()):l([e,[n,r,i]])})}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,i){"function"==typeof r&&(i=r,r=null);return function e(t,r,i,o){return n(t,r,i,function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof o&&o.apply(this,arguments),h()):l([e,[t,r,i,o]])})}(e,t,r,i)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,i){"function"==typeof n&&(i=n,n=null);return function e(t,n,i,o){return r(t,n,i,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof o&&o.apply(this,arguments),h()):l([e,[t,n,i,o]])})}(e,t,n,i)});var s=e.readdir;function a(t){return s.apply(e,t)}if(e.readdir=function(e,t,n){var r=[e];"function"!=typeof t?r.push(t):n=t;return r.push(function(e,t){t&&t.sort&&t.sort(),!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof n&&n.apply(this,arguments),h()):l([a,[r]])}),a(r)},"v0.8"===process.version.substr(0,4)){var c=o(e);d=c.ReadStream,g=c.WriteStream}var f=e.ReadStream;d.prototype=Object.create(f.prototype),d.prototype.open=function(){var e=this;y(e.path,e.flags,e.mode,function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())})};var p=e.WriteStream;function d(e,t){return this instanceof d?(f.apply(this,arguments),this):d.apply(Object.create(d.prototype),arguments)}function g(e,t){return this instanceof g?(p.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}g.prototype=Object.create(p.prototype),g.prototype.open=function(){var e=this;y(e.path,e.flags,e.mode,function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))})},e.ReadStream=d,e.WriteStream=g;var m=e.open;function y(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,i){return m(t,n,r,function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof i&&i.apply(this,arguments),h()):l([e,[t,n,r,i]])})}(e,t,n,r)}return e.open=y,e}function l(e){c("ENQUEUE",e[0].name,e[1]),s.push(e)}function h(){var e=s.shift();e&&(c("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}a.debuglog?c=a.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(c=function(){var e=a.format.apply(a,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){c(s),n(28).equal(s.length,0)}),e.exports=u(n(53)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&(e.exports=u(r)),e.exports.close=r.close=function(e){return function(t,n){return e.call(r,t,function(e){e||h(),"function"==typeof n&&n.apply(this,arguments)})}}(r.close),e.exports.closeSync=r.closeSync=function(e){return function(t){var n=e.apply(r,arguments);return h(),n}}(r.closeSync)},function(e,t){e.exports=require("util")},function(e,t,n){"use strict";t.fromCallback=function(e){return Object.defineProperty(function(){if("function"!=typeof arguments[arguments.length-1])return new Promise((t,n)=>{arguments[arguments.length]=((e,r)=>{if(e)return n(e);t(r)}),arguments.length++,e.apply(this,arguments)});e.apply(this,arguments)},"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty(function(){const t=arguments[arguments.length-1];if("function"!=typeof t)return e.apply(this,arguments);e.apply(this,arguments).then(e=>t(null,e),t)},"name",{value:e.name})}},function(e,t,n){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},function(e,t,n){"use strict";const r=(0,n(5).fromCallback)(n(116)),i=n(117);e.exports={mkdirs:r,mkdirsSync:i,mkdirp:r,mkdirpSync:i,ensureDir:r,ensureDirSync:i}},function(e,t,n){"use strict";var r=n(31);function i(e,t){for(var n in t)o(t,n)&&(e[n]=t[n])}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e){r(e)||(e={});for(var t=arguments.length,n=1;n<t;n++){var o=arguments[n];r(o)&&i(e,o)}return e}},function(e,t,n){"use strict";
/*!
 * define-property <https://github.com/jonschlinkert/define-property>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=n(183);e.exports=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("expected an object or function.");if("string"!=typeof t)throw new TypeError("expected `prop` to be a string.");return r(n)&&("set"in n||"get"in n)?Object.defineProperty(e,t,n):Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}},function(e,t,n){"use strict";const r=n(5).fromPromise,i=n(52);e.exports={pathExists:r(function(e){return i.access(e).then(()=>!0).catch(()=>!1)}),pathExistsSync:i.existsSync}},function(e,t,n){"use strict";var r=n(61),i=n(143),o=n(149),s=n(21),a=65536,c={};function u(e,t){if(e instanceof RegExp)return e;if("string"!=typeof e)throw new TypeError("expected a string");if(e.length>a)throw new Error("expected pattern to be less than "+a+" characters");var n=e;if((!t||t&&!1!==t.cache)&&(n=function(e,t){if(!t)return e;var n=e;for(var r in t)t.hasOwnProperty(r)&&(n+=";"+r+"="+String(t[r]));return n}(e,t),c.hasOwnProperty(n)))return c[n];var u=o({},t);!0===u.contains&&(!0===u.negate?u.strictNegate=!1:u.strict=!1),!1===u.strict&&(u.strictOpen=!1,u.strictClose=!1);var l,h=!1!==u.strictOpen?"^":"",f=!1!==u.strictClose?"$":"",p=u.flags||"";!0!==u.nocase||/i/.test(p)||(p+="i");try{if((u.negate||"boolean"==typeof u.strictNegate)&&(e=s.create(e,u)),l=new RegExp(h+"(?:"+e+")"+f,p),!0===u.safe&&!1===r(l))throw new Error("potentially unsafe regular expression: "+l.source)}catch(r){if(!0===u.strictErrors||!0===u.safe)throw r.key=n,r.pattern=e,r.originalOptions=t,r.createdOptions=u,r;try{l=new RegExp("^"+e.replace(/(\W)/g,"\\$1")+"$")}catch(e){l=/.^/}}return!1!==u.cache&&function(e,t,n,r){i(e,"cached",!0),i(e,"pattern",n),i(e,"options",r),i(e,"key",t),c[t]=e}(l,n,e,u),l}e.exports=function(e,t){return Array.isArray(e)?u(e.join("|"),t):u(e,t)},e.exports.makeRe=u},function(e,t,n){"use strict";
/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(6);function i(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==i(e)&&("function"==typeof(t=e.constructor)&&(!1!==i(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},function(e,t,n){try{var r=n(4);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(241)}},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";const r=n(111),i={};r(i,n(52)),r(i,n(115)),r(i,n(57)),r(i,n(7)),r(i,n(29)),r(i,n(120)),r(i,n(124)),r(i,n(125)),r(i,n(126)),r(i,n(127)),r(i,n(133)),r(i,n(10)),e.exports=i},function(e,t,n){"use strict";
/*!
 * is-descriptor <https://github.com/jonschlinkert/is-descriptor>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(144),i=n(145),o=n(147);e.exports=function(e,t){return"object"===r(e)&&("get"in e?i(e,t):o(e,t))}},function(e,t,n){"use strict";var r=n(38),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=h;var o=n(25);o.inherits=n(13);var s=n(92),a=n(95);o.inherits(h,s);for(var c=i(a.prototype),u=0;u<c.length;u++){var l=c[u];h.prototype[l]||(h.prototype[l]=a.prototype[l])}function h(e){if(!(this instanceof h))return new h(e);s.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("events")},function(e,t,n){"use strict";
/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */e.exports=function(e,t){if(null===e||void 0===e)throw new TypeError("expected first argument to be an object.");if(void 0===t||"undefined"==typeof Symbol)return e;if("function"!=typeof Object.getOwnPropertySymbols)return e;for(var n=Object.prototype.propertyIsEnumerable,r=Object(e),i=arguments.length,o=0;++o<i;)for(var s=Object(arguments[o]),a=Object.getOwnPropertySymbols(s),c=0;c<a.length;c++){var u=a[c];n.call(s,u)&&(r[u]=s[u])}return r}},function(e,t,n){"use strict";var r=n(151),i=n(61);function o(e,t){return new RegExp(o.create(e,t))}o.create=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");var n=r({},t);!0===n.contains&&(n.strictNegate=!1);var o=!1!==n.strictOpen?"^":"",s=!1!==n.strictClose?"$":"",a=n.endChar?n.endChar:"+",c=o+(!1===n.strictNegate?"(?:(?!(?:"+e+")).)"+a:"(?:(?!^(?:"+e+")$).)"+a)+s;if(!0===n.safe&&!1===i(c))throw new Error("potentially unsafe regular expression: "+c);return c},e.exports=o},function(e,t,n){"use strict";
/*!
 * array-unique <https://github.com/jonschlinkert/array-unique>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */e.exports=function(e){if(!Array.isArray(e))throw new TypeError("array-unique expects an array.");for(var t=e.length,n=-1;n++<t;)for(var r=n+1;r<e.length;++r)e[n]===e[r]&&e.splice(r--,1);return e},e.exports.immutable=function(t){if(!Array.isArray(t))throw new TypeError("array-unique expects an array.");for(var n=t.length,r=new Array(n),i=0;i<n;i++)r[i]=t[i];return e.exports(r)}},function(e,t,n){"use strict";var r=n(163),i=n(9),o=n(192),s=n(212),a=n(36);function c(e){r.call(this,null,e),this.options=a.extend({source:"string"},this.options),this.compiler=new o(this.options),this.parser=new s(this.options),Object.defineProperty(this,"compilers",{get:function(){return this.compiler.compilers}}),Object.defineProperty(this,"parsers",{get:function(){return this.parser.parsers}}),Object.defineProperty(this,"regex",{get:function(){return this.parser.regex}})}r.extend(c),c.prototype.capture=function(){return this.parser.capture.apply(this.parser,arguments)},c.prototype.use=function(e){return e.call(this,this),this},c.prototype.parse=function(e,t){this.options=a.extend({},this.options,t);var n=this.parser.parse(e,this.options);return i(n,"parser",this.parser),n},c.prototype.compile=function(e,t){this.options=a.extend({},this.options,t);var n=this.compiler.compile(e,this.options);return i(n,"compiler",this.compiler),n},e.exports=c,e.exports.Compiler=o,e.exports.Parser=s},function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/,r=/^data:.+\,.+$/;function i(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var n=e,r=i(e);if(r){if(!r.path)return e;n=r.path}for(var s,a=t.isAbsolute(n),c=n.split(/\/+/),u=0,l=c.length-1;l>=0;l--)"."===(s=c[l])?c.splice(l,1):".."===s?u++:u>0&&(""===s?(c.splice(l+1,u),u=0):(c.splice(l,2),u--));return""===(n=c.join("/"))&&(n=a?"/":"."),r?(r.path=n,o(r)):n}t.urlParse=i,t.urlGenerate=o,t.normalize=s,t.join=function(e,t){""===e&&(e="."),""===t&&(t=".");var n=i(t),a=i(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),o(n);if(n||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);var c="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=c,o(a)):c},t.isAbsolute=function(e){return"/"===e.charAt(0)||!!e.match(n)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var a=!("__proto__"in Object.create(null));function c(e){return e}function u(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function l(e,t){return e===t?0:e>t?1:-1}t.toSetString=a?c:function(e){return u(e)?"$"+e:e},t.fromSetString=a?c:function(e){return u(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=e.source-t.source;return 0!==r?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)||n?r:0!=(r=e.generatedColumn-t.generatedColumn)?r:0!=(r=e.generatedLine-t.generatedLine)?r:e.name-t.name},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r?r:0!=(r=e.generatedColumn-t.generatedColumn)||n?r:0!=(r=e.source-t.source)?r:0!=(r=e.originalLine-t.originalLine)?r:0!=(r=e.originalColumn-t.originalColumn)?r:e.name-t.name},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n?n:0!=(n=e.generatedColumn-t.generatedColumn)?n:0!==(n=l(e.source,t.source))?n:0!=(n=e.originalLine-t.originalLine)?n:0!=(n=e.originalColumn-t.originalColumn)?n:l(e.name,t.name)}},function(e,t){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=Buffer.isBuffer},function(e,t,n){"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),EMPTY_BUFFER:Buffer.alloc(0),NOOP:()=>{}}},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("assert")},function(e,t,n){"use strict";const r=n(5).fromCallback,i=n(119);e.exports={remove:r(i),removeSync:i.sync}},function(e,t){e.exports={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}},function(e,t,n){"use strict";
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */e.exports=function(e){return void 0!==e&&null!==e&&("object"==typeof e||"function"==typeof e)}},function(e,t,n){"use strict";var r=n(64),i=e.exports;i.extend=n(8),i.flatten=n(155),i.isObject=n(6),i.fillRange=n(156),i.repeat=n(158),i.unique=n(22),i.define=function(e,t,n){Object.defineProperty(e,t,{writable:!0,configurable:!0,enumerable:!1,value:n})},i.isEmptySets=function(e){return/^(?:\{,\})+$/.test(e)},i.isQuotedString=function(e){var t=e.charAt(0);return("'"===t||'"'===t||"`"===t)&&e.slice(-1)===t},i.createKey=function(e,t){var n=e;if(void 0===t)return n;for(var r=Object.keys(t),i=0;i<r.length;i++){var o=r[i];n+=";"+o+"="+String(t[o])}return n},i.createOptions=function(e){var t=i.extend.apply(null,arguments);return"boolean"==typeof t.expand&&(t.optimize=!t.expand),"boolean"==typeof t.optimize&&(t.expand=!t.optimize),!0===t.optimize&&(t.makeRe=!0),t},i.join=function(e,t,n){if(n=n||{},e=i.arrayify(e),t=i.arrayify(t),!e.length)return t;if(!t.length)return e;for(var r=e.length,o=-1,s=[];++o<r;){var a=e[o];if(Array.isArray(a)){for(var c=0;c<a.length;c++)a[c]=i.join(a[c],t,n);s.push(a)}else for(var u=0;u<t.length;u++){var l=t[u];Array.isArray(l)?s.push(i.join(a,l,n)):s.push(a+l)}}return s},i.split=function(e,t){var n=i.extend({sep:","},t);return"boolean"!=typeof n.keepQuotes&&(n.keepQuotes=!0),!1===n.unescape&&(n.keepEscaping=!0),r(e,n,i.escapeBrackets(n))},i.expand=function(e,t){var n=i.extend({rangeLimit:1e4},t),r=i.split(e,n),o={segs:r};if(i.isQuotedString(e))return o;if(!0===n.rangeLimit&&(n.rangeLimit=1e4),r.length>1){if(!1===n.optimize)return o.val=r[0],o;o.segs=i.stringifyArray(o.segs)}else if(1===r.length){var s=e.split("..");if(1===s.length)return o.val=o.segs[o.segs.length-1]||o.val||e,o.segs=[],o;if(2===s.length&&s[0]===s[1])return o.escaped=!0,o.val=s[0],o.segs=[],o;if(s.length>1){if(!1!==n.optimize&&(n.optimize=!0,delete n.expand),!0!==n.optimize){var a=Math.min(s[0],s[1]),c=Math.max(s[0],s[1]),u=s[2]||1;if(!1!==n.rangeLimit&&(c-a)/u>=n.rangeLimit)throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.")}return s.push(n),o.segs=i.fillRange.apply(null,s),o.segs.length?(!0===n.optimize&&(o.segs=i.stringifyArray(o.segs)),""===o.segs?o.val=e:o.val=o.segs[0],o):(o.escaped=!0,o.val=e,o)}}else o.val=e;return o},i.escapeBrackets=function(e){return function(t){if(t.escaped&&"b"===t.val)t.val="\\b";else if("("===t.val||"["===t.val){for(var n=i.extend({},e),r=[],o=[],s=[],a=t.val,c=t.str,u=t.idx-1;++u<c.length;){var l=c[u];if("\\"!==l){if("("===l&&(o.push(l),s.push(l)),"["===l&&(r.push(l),s.push(l)),")"===l&&(o.pop(),s.pop(),!s.length)){a+=l;break}if("]"===l&&(r.pop(),s.pop(),!s.length)){a+=l;break}a+=l}else a+=(!1===n.keepEscaping?"":l)+c[++u]}t.split=!1,t.val=a.slice(1),t.idx=u}}},i.isQuantifier=function(e){return/^(?:[0-9]?,[0-9]|[0-9],)$/.test(e)},i.stringifyArray=function(e){return[i.arrayify(e).join("|")]},i.arrayify=function(e){return void 0===e?[]:"string"==typeof e?[e]:e},i.isString=function(e){return null!=e&&"string"==typeof e},i.last=function(e,t){return e[e.length-(t||1)]},i.escapeRegex=function(e){return e.replace(/\\?([!^*?()[\]{}+?/])/g,"\\$1")}},function(e,t,n){var r=n(34),i=Object.prototype.toString;e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if(!0===e||!1===e||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if(void 0!==Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var t=i.call(e);return"[object RegExp]"===t?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":r(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t){function n(e){return e?Array.isArray(e)?e.join("."):e:""}
/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
e.exports=function(e,t,r,i,o){if(!function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}(e)||!t)return e;if(t=n(t),r&&(t+="."+n(r)),i&&(t+="."+n(i)),o&&(t+="."+n(o)),t in e)return e[t];for(var s=t.split("."),a=s.length,c=-1;e&&++c<a;){for(var u=s[c];"\\"===u[u.length-1];)u=u.slice(0,-1)+"."+s[++c];e=e[u]}return e}},function(e,t,n){"use strict";t.extend=n(8),t.SourceMap=n(197),t.sourceMapResolve=n(204),t.unixify=function(e){return e.split(/\\+/).join("/")},t.isString=function(e){return e&&"string"==typeof e},t.arrayify=function(e){return"string"==typeof e?[e]:e?Array.isArray(e)?e:[e]:[]},t.last=function(e,t){return e[e.length-(t||1)]}},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function i(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?i:r,e.exports.posix=r,e.exports.win32=i},function(e,t,n){"use strict";!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,s=arguments.length;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,t)});case 3:return process.nextTick(function(){e.call(null,t,n)});case 4:return process.nextTick(function(){e.call(null,t,n,r)});default:for(i=new Array(s-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick(function(){e.apply(null,i)})}}}:e.exports=process},function(e,t,n){var r=n(246),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";const r=n(266),i=n(267),o=n(51),s=n(26),a=Buffer.from([0,0,255,255]),c=Buffer.from([0]),u=Symbol("permessage-deflate"),l=Symbol("write-in-progress"),h=Symbol("pending-close"),f=Symbol("total-length"),p=Symbol("callback"),d=Symbol("buffers"),g=Symbol("error");let m;function y(e){this[d].push(e),this[f]+=e.length}function v(e){this[f]+=e.length,this[u]._maxPayload<1||this[f]<=this[u]._maxPayload?this[d].push(e):(this[g]=new RangeError("Max payload size exceeded"),this[g][s.kStatusCode]=1009,this.removeListener("data",v),this.reset())}function b(e){this[u]._inflate=null,e[s.kStatusCode]=1007,this[p](e)}e.exports=class{constructor(e,t,n){if(this._maxPayload=0|n,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!m){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;m=new r({concurrency:e})}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){this._inflate&&(this._inflate[l]?this._inflate[h]=!0:(this._inflate.close(),this._inflate=null)),this._deflate&&(this._deflate[l]?this._deflate[h]=!0:(this._deflate.close(),this._deflate=null))}acceptAsServer(e){const t=this._options,n=e.find(e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(n.server_no_context_takeover=!0),t.clientNoContextTakeover&&(n.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(n.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?n.client_max_window_bits=t.clientMaxWindowBits:!0!==n.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete n.client_max_window_bits,n}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach(e=>{Object.keys(e).forEach(t=>{var n=e[t];if(n.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(n=n[0],"client_max_window_bits"===t){if(!0!==n){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}else if("server_max_window_bits"===t){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==n)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}e[t]=n})}),e}decompress(e,t,n){m.push(r=>{this._decompress(e,t,(e,t)=>{r(),n(e,t)})})}compress(e,t,n){m.push(r=>{this._compress(e,t,(e,t)=>{r(),n(e,t)})})}_decompress(e,t,n){const r=this._isServer?"client":"server";if(!this._inflate){const e=`${r}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=i.createInflateRaw(Object.assign({},this._options.zlibInflateOptions,{windowBits:t})),this._inflate[u]=this,this._inflate[f]=0,this._inflate[d]=[],this._inflate.on("error",b),this._inflate.on("data",v)}this._inflate[p]=n,this._inflate[l]=!0,this._inflate.write(e),t&&this._inflate.write(a),this._inflate.flush(()=>{const e=this._inflate[g];if(e)return this._inflate.close(),this._inflate=null,void n(e);const i=o.concat(this._inflate[d],this._inflate[f]);t&&this.params[`${r}_no_context_takeover`]||this._inflate[h]?(this._inflate.close(),this._inflate=null):(this._inflate[l]=!1,this._inflate[f]=0,this._inflate[d]=[]),n(null,i)})}_compress(e,t,n){if(!e||0===e.length)return void process.nextTick(n,null,c);const r=this._isServer?"server":"client";if(!this._deflate){const e=`${r}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=i.createDeflateRaw(Object.assign({memLevel:this._options.memLevel,level:this._options.level},this._options.zlibDeflateOptions,{windowBits:t})),this._deflate[f]=0,this._deflate[d]=[],this._deflate.on("data",y)}this._deflate[l]=!0,this._deflate.write(e),this._deflate.flush(i.Z_SYNC_FLUSH,()=>{var e=o.concat(this._deflate[d],this._deflate[f]);t&&(e=e.slice(0,e.length-4)),t&&this.params[`${r}_no_context_takeover`]||this._deflate[h]?(this._deflate.close(),this._deflate=null):(this._deflate[l]=!1,this._deflate[f]=0,this._deflate[d]=[]),n(null,e)})}}},function(e,t,n){"use strict";const r=n(5).fromCallback,i=n(121);e.exports={readJson:r(i.readFile),readJsonSync:i.readFileSync,writeJson:r(i.writeFile),writeJsonSync:i.writeFileSync}},function(e,t,n){"use strict";var r=n(4),i=n(60),o=n(11),s=n(79),a=n(215),c=n(229),u=n(230),l=n(231);function h(e,t,n){t=l.arrayify(t),e=l.arrayify(e);var r=t.length;if(0===e.length||0===r)return[];if(1===r)return h.match(e,t[0],n);for(var i=[],o=[],s=-1;++s<r;){var a=t[s];"string"==typeof a&&33===a.charCodeAt(0)?i.push.apply(i,h.match(e,a.slice(1),n)):o.push.apply(o,h.match(e,a,n))}var c=l.diff(o,i);return n&&!1===n.nodupes?c:l.unique(c)}function f(e){return""===String(e)||"./"===String(e)}function p(e,t,n,r){var i=l.createKey(e+"="+t,n);if(n&&!1===n.cache)return r(t,n);if(u.has(e,i))return u.get(e,i);var o=r(t,n);return u.set(e,i,o),o}h.match=function(e,t,n){if(Array.isArray(t))throw new TypeError("expected pattern to be a string");for(var r=l.unixify(n),i=p("match",t,n,h.matcher),o=[],s=(e=l.arrayify(e)).length,a=-1;++a<s;){var c=e[a];(c===t||i(c))&&o.push(l.value(c,r,n))}if(void 0===n)return l.unique(o);if(0===o.length){if(!0===n.failglob)throw new Error('no matches found for "'+t+'"');if(!0===n.nonull||!0===n.nullglob)return[n.unescape?l.unescape(t):t]}return n.ignore&&(o=h.not(o,n.ignore,n)),!1!==n.nodupes?l.unique(o):o},h.isMatch=function(e,t,n){if("string"!=typeof e)throw new TypeError('expected a string: "'+r.inspect(e)+'"');return!f(e)&&!f(t)&&(!!l.equalsPattern(n)(e)||p("isMatch",t,n,h.matcher)(e))},h.some=function(e,t,n){"string"==typeof e&&(e=[e]);for(var r=0;r<e.length;r++)if(1===h(e[r],t,n).length)return!0;return!1},h.every=function(e,t,n){"string"==typeof e&&(e=[e]);for(var r=0;r<e.length;r++)if(1!==h(e[r],t,n).length)return!1;return!0},h.any=function(e,t,n){if("string"!=typeof e)throw new TypeError('expected a string: "'+r.inspect(e)+'"');if(f(e)||f(t))return!1;"string"==typeof t&&(t=[t]);for(var i=0;i<t.length;i++)if(h.isMatch(e,t[i],n))return!0;return!1},h.all=function(e,t,n){if("string"!=typeof e)throw new TypeError('expected a string: "'+r.inspect(e)+'"');"string"==typeof t&&(t=[t]);for(var i=0;i<t.length;i++)if(!h.isMatch(e,t[i],n))return!1;return!0},h.not=function(e,t,n){var r=s({},n),i=r.ignore;delete r.ignore;var o=l.unixify(r);e=l.arrayify(e).map(o);var a=l.diff(e,h(e,t,r));return i&&(a=l.diff(a,h(e,i))),!1!==r.nodupes?l.unique(a):a},h.contains=function(e,t,n){if("string"!=typeof e)throw new TypeError('expected a string: "'+r.inspect(e)+'"');if("string"==typeof t){if(f(e)||f(t))return!1;if(l.equalsPattern(t,n)(e))return!0;if(l.containsPattern(t,n)(e))return!0}var i=s({},n,{contains:!0});return h.any(e,t,i)},h.matchBase=function(e,t){return!(e&&-1!==e.indexOf("/")||!t)&&(!0===t.basename||!0===t.matchBase)},h.matchKeys=function(e,t,n){if(!l.isObject(e))throw new TypeError("expected the first argument to be an object");var r=h(Object.keys(e),t,n);return l.pick(e,r)},h.matcher=function e(t,n){if(Array.isArray(t))return function(e,t,n){var r;return p("compose",String(e),t,function(){return function(i){if(!r){r=[];for(var o=0;o<e.length;o++)r.push(n(e[o],t))}for(var s=r.length;s--;)if(!0===r[s](i))return!0;return!1}})}(t,n,e);if(t instanceof RegExp)return i(t);if(!l.isString(t))throw new TypeError("expected pattern to be an array, string or regex");if(!l.hasSpecialChars(t))return n&&!0===n.nocase&&(t=t.toLowerCase()),l.matchPath(t,n);var r=h.makeRe(t,n);if(h.matchBase(t,n))return l.matchBasename(r,n);function i(e){var t=l.equalsPattern(n),r=l.unixify(n);return function(n){return!!t(n)||!!e.test(r(n))}}var o=i(r);return Object.defineProperty(o,"result",{configurable:!0,enumerable:!1,value:r.result}),o},h.capture=function(e,t,n){var r=h.makeRe(e,s({capture:!0},n)),i=l.unixify(n);return p("capture",e,n,function(){return function(e){var t=r.exec(i(e));return t?t.slice(1):null}})(t)},h.makeRe=function(e,t){if("string"!=typeof e)throw new TypeError("expected pattern to be a string");if(e.length>65536)throw new Error("expected pattern to be less than 65536 characters");return p("makeRe",e,t,function(){var n=[],r=h.create(e,t).map(function(e){return e.ast.state=e.state,n.push(e.ast),e.output}),i=o(r.join("|"),t);return Object.defineProperty(i,"result",{configurable:!0,enumerable:!1,value:n}),i})},h.braces=function(e,t){if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("expected pattern to be an array or string");return p("braces",e,t,function(){return t&&!0===t.nobrace||!/\{.*\}/.test(e)?l.arrayify(e):i(e,t)})},h.braceExpand=function(e,t){var n=s({},t,{expand:!0});return h.braces(e,n)},h.create=function(e,t){return p("create",e,t,function(){function n(e,t){return h.compile(h.parse(e,t),t)}for(var r=(e=h.braces(e,t)).length,i=-1,o=[];++i<r;)o.push(n(e[i],t));return o})},h.parse=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");return p("parse",e,t,function(){var n=l.instantiate(null,t);c(n,t);var r=n.parse(e,t);return l.define(r,"snapdragon",n),r.input=e,r})},h.compile=function(e,t){return"string"==typeof e&&(e=h.parse(e,t)),p("compile",e.input,t,function(){var n=l.instantiate(e,t);return a(n,t),n.compile(e,t)})},h.clearCache=function(){h.cache.caches={}},h.compilers=a,h.parsers=c,h.caches=u.caches,e.exports=h},function(e,t,n){"use strict";
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=n(33);e.exports=function(e){var t=r(e);if("string"===t){if(!e.trim())return!1}else if("number"!==t)return!1;return e-e+1>=0}},function(e,t,n){"undefined"!=typeof process&&"renderer"===process.type?e.exports=n(193):e.exports=n(195)},function(e,t){e.exports=require("url")},function(e,t,n){"use strict";
/*!
 * fragment-cache <https://github.com/jonschlinkert/fragment-cache>
 *
 * Copyright (c) 2016-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(78);function i(e){this.caches=e||{}}i.prototype={cache:function(e){return this.caches[e]||(this.caches[e]=new r)},set:function(e,t,n){var r=this.cache(e);return r.set(t,n),r},has:function(e,t){return void 0!==this.get(e,t)},get:function(e,t){var n=this.cache(e);return"string"==typeof t?n.get(t):n}},e.exports=i},function(e,t,n){e.exports=b;var r=n(2),i=n(98),o=n(48),s=(o.Minimatch,n(13)),a=n(19).EventEmitter,c=n(0),u=n(28),l=n(37),h=n(258),f=n(99),p=(f.alphasort,f.alphasorti,f.setopts),d=f.ownProp,g=n(259),m=(n(4),f.childrenIgnored),y=f.isIgnored,v=n(101);function b(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return h(e,t)}return new x(e,t,n)}b.sync=h;var w=b.GlobSync=h.GlobSync;function x(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new w(e,t)}if(!(this instanceof x))return new x(e,t,n);p(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=v(n),this.on("error",n),this.on("end",function(e){n(null,e)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return a();for(var o=!0,s=0;s<r;s++)this._process(this.minimatch.set[s],s,!1,a);function a(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}o=!1}b.glob=b,b.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new x(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var i=0;i<r[0].length;i++)if("string"!=typeof r[0][i])return!0;return!1},b.Glob=x,s(x,a),x.prototype._finish=function(){if(u(this instanceof x),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();f.finish(this),this.emit("end",this.found)}},x.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},x.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,s=r.length;if(0===s)return t();var a=this.matches[e]=Object.create(null);r.forEach(function(n,r){n=o._makeAbs(n),i.realpath(n,o.realpathCache,function(r,i){r?"stat"===r.syscall?a[n]=!0:o.emit("error",r):a[i]=!0,0==--s&&(o.matches[e]=a,t())})})},x.prototype._mark=function(e){return f.mark(this,e)},x.prototype._makeAbs=function(e){return f.makeAbs(this,e)},x.prototype.abort=function(){this.aborted=!0,this.emit("abort")},x.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},x.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var i=r[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},x.prototype._process=function(e,t,n,r){if(u(this instanceof x),u("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var i,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:i=null;break;default:i=e.slice(0,s).join("/")}var a,c=e.slice(s);null===i?a=".":l(i)||l(e.join("/"))?(i&&l(i)||(i="/"+i),a=i):a=i;var h=this._makeAbs(a);if(m(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(i,a,h,c,t,n,r):this._processReaddir(i,a,h,c,t,n,r)}},x.prototype._processReaddir=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,function(c,u){return a._processReaddir2(e,t,n,r,i,o,u,s)})},x.prototype._processReaddir2=function(e,t,n,r,i,o,s,a){if(!s)return a();for(var u=r[0],l=!!this.minimatch.negate,h=u._glob,f=this.dot||"."===h.charAt(0),p=[],d=0;d<s.length;d++){if("."!==(m=s[d]).charAt(0)||f)(l&&!e?!m.match(u):m.match(u))&&p.push(m)}var g=p.length;if(0===g)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(d=0;d<g;d++){var m=p[d];e&&(m="/"!==e?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=c.join(this.root,m)),this._emitMatch(i,m)}return a()}r.shift();for(d=0;d<g;d++){m=p[d];e&&(m="/"!==e?e+"/"+m:e+m),this._process([m].concat(r),i,o,a)}a()},x.prototype._emitMatch=function(e,t){if(!this.aborted&&!y(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var i=this.statCache[n];i&&this.emit("stat",t,i),this.emit("match",t)}}},x.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,i=g("lstat\0"+e,function(r,i){if(r&&"ENOENT"===r.code)return t();var o=i&&i.isSymbolicLink();n.symlinks[e]=o,o||!i||i.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())});i&&r.lstat(e,i)}},x.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=g("readdir\0"+e+"\0"+t,n))){if(t&&!d(this.symlinks,e))return this._readdirInGlobStar(e,n);if(d(this.cache,e)){var i=this.cache[e];if(!i||"FILE"===i)return n();if(Array.isArray(i))return n(null,i)}r.readdir(e,function(e,t,n){return function(r,i){r?e._readdirError(t,r,n):e._readdirEntries(t,i,n)}}(this,e,n))}},x.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,n(null,t)}},x.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},x.prototype._processGlobStar=function(e,t,n,r,i,o,s){var a=this;this._readdir(n,o,function(c,u){a._processGlobStar2(e,t,n,r,i,o,u,s)})},x.prototype._processGlobStar2=function(e,t,n,r,i,o,s,a){if(!s)return a();var c=r.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,i,!1,a);var h=this.symlinks[n],f=s.length;if(h&&o)return a();for(var p=0;p<f;p++){if("."!==s[p].charAt(0)||this.dot){var d=u.concat(s[p],c);this._process(d,i,!0,a);var g=u.concat(s[p],r);this._process(g,i,!0,a)}}a()},x.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,function(i,o){r._processSimple2(e,t,i,o,n)})},x.prototype._processSimple2=function(e,t,n,r,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return i();if(e&&l(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()},x.prototype._stat=function(e,t){var n=this._makeAbs(e),i="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&d(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!i||"DIR"===o)return t(null,o);if(i&&"FILE"===o)return t()}var s=this.statCache[n];if(void 0!==s){if(!1===s)return t(null,s);var a=s.isDirectory()?"DIR":"FILE";return i&&"FILE"===a?t():t(null,a,s)}var c=this,u=g("stat\0"+n,function(i,o){if(o&&o.isSymbolicLink())return r.stat(n,function(r,i){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,i,t)});c._stat2(e,n,i,o,t)});u&&r.lstat(n,u)},x.prototype._stat2=function(e,t,n,r,i){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,i();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return i(null,!1,r);var s=!0;return r&&(s=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,o&&"FILE"===s?i():i(null,s,r)}},function(e,t,n){e.exports=d,d.Minimatch=g;var r={sep:"/"};try{r=n(0)}catch(e){}var i=d.GLOBSTAR=g.GLOBSTAR={},o=n(255),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c=a+"*?",u="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",l="(?:(?!(?:\\/|^)\\.).)*?",h=function(e){return e.split("").reduce(function(e,t){return e[t]=!0,e},{})}("().*{}+?[]^$\\!");var f=/\/+/;function p(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(e).forEach(function(t){n[t]=e[t]}),n}function d(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new g(t,n).match(e))}function g(e,t){if(!(this instanceof g))return new g(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function m(e,t){if(t||(t=this instanceof g?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}d.filter=function(e,t){return t=t||{},function(n,r,i){return d(n,e,t)}},d.defaults=function(e){if(!e||!Object.keys(e).length)return d;var t=d,n=function(n,r,i){return t.minimatch(n,r,p(e,i))};return n.Minimatch=function(n,r){return new t.Minimatch(n,p(e,r))},n},g.defaults=function(e){return e&&Object.keys(e).length?d.defaults(e).Minimatch:g},g.prototype.debug=function(){},g.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map(function(e){return e.split(f)}),this.debug(this.pattern,n),n=n.map(function(e,t,n){return e.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,n),this.set=n},g.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=0;if(this.options.nonegate)return;for(var r=0,i=e.length;r<i&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.substr(n));this.negate=t},d.braceExpand=function(e,t){return m(e,t)},g.prototype.braceExpand=m,g.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return i;if(""===e)return"";var r,o="",u=!!n.nocase,l=!1,f=[],p=[],d=!1,g=-1,m=-1,v="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=this;function w(){if(r){switch(r){case"*":o+=c,u=!0;break;case"?":o+=a,u=!0;break;default:o+="\\"+r}b.debug("clearStateChar %j %j",r,o),r=!1}}for(var x,_=0,k=e.length;_<k&&(x=e.charAt(_));_++)if(this.debug("%s\t%s %s %j",e,_,o,x),l&&h[x])o+="\\"+x,l=!1;else switch(x){case"/":return!1;case"\\":w(),l=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,_,o,x),d){this.debug("  in class"),"!"===x&&_===m+1&&(x="^"),o+=x;continue}b.debug("call clearStateChar %j",r),w(),r=x,n.noext&&w();continue;case"(":if(d){o+="(";continue}if(!r){o+="\\(";continue}f.push({type:r,start:_-1,reStart:o.length,open:s[r].open,close:s[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(d||!f.length){o+="\\)";continue}w(),u=!0;var S=f.pop();o+=S.close,"!"===S.type&&p.push(S),S.reEnd=o.length;continue;case"|":if(d||!f.length||l){o+="\\|",l=!1;continue}w(),o+="|";continue;case"[":if(w(),d){o+="\\"+x;continue}d=!0,m=_,g=o.length,o+=x;continue;case"]":if(_===m+1||!d){o+="\\"+x,l=!1;continue}if(d){var E=e.substring(m+1,_);try{RegExp("["+E+"]")}catch(e){var C=this.parse(E,y);o=o.substr(0,g)+"\\["+C[0]+"\\]",u=u||C[1],d=!1;continue}}u=!0,d=!1,o+=x;continue;default:w(),l?l=!1:!h[x]||"^"===x&&d||(o+="\\"),o+=x}d&&(E=e.substr(m+1),C=this.parse(E,y),o=o.substr(0,g)+"\\["+C[0],u=u||C[1]);for(S=f.pop();S;S=f.pop()){var O=o.slice(S.reStart+S.open.length);this.debug("setting tail",o,S),O=O.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(e,t,n){return n||(n="\\"),t+t+n+"|"}),this.debug("tail=%j\n   %s",O,O,S,o);var T="*"===S.type?c:"?"===S.type?a:"\\"+S.type;u=!0,o=o.slice(0,S.reStart)+T+"\\("+O}w(),l&&(o+="\\\\");var j=!1;switch(o.charAt(0)){case".":case"[":case"(":j=!0}for(var A=p.length-1;A>-1;A--){var P=p[A],L=o.slice(0,P.reStart),R=o.slice(P.reStart,P.reEnd-8),M=o.slice(P.reEnd-8,P.reEnd),I=o.slice(P.reEnd);M+=I;var N=L.split("(").length-1,F=I;for(_=0;_<N;_++)F=F.replace(/\)[+*?]?/,"");var $="";""===(I=F)&&t!==y&&($="$");var D=L+R+I+$+M;o=D}""!==o&&u&&(o="(?=.)"+o);j&&(o=v+o);if(t===y)return[o,u];if(!u)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var W=n.nocase?"i":"";try{var B=new RegExp("^"+o+"$",W)}catch(e){return new RegExp("$.")}return B._glob=e,B._src=o,B};var y={};d.makeRe=function(e,t){return new g(e,t||{}).makeRe()},g.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?u:l,r=t.nocase?"i":"",o=e.map(function(e){return e.map(function(e){return e===i?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src}).join("\\/")}).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},d.match=function(e,t,n){var r=new g(t,n=n||{});return e=e.filter(function(e){return r.match(e)}),r.options.nonull&&!e.length&&e.push(t),e},g.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/"));e=e.split(f),this.debug(this.pattern,"split",e);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<s.length;o++){var a=s[o],c=e;n.matchBase&&1===a.length&&(c=[i]);var u=this.matchOne(c,a,t);if(u)return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},g.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,s=0,a=e.length,c=t.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var u,l=t[s],h=e[o];if(this.debug(t,l,h),!1===l)return!1;if(l===i){this.debug("GLOBSTAR",[t,l,h]);var f=o,p=s+1;if(p===c){for(this.debug("** at the end");o<a;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;f<a;){var d=e[f];if(this.debug("\nglobstar while",e,f,t,p,d),this.matchOne(e.slice(f),t.slice(p),n))return this.debug("globstar found match!",f,a,d),!0;if("."===d||".."===d||!r.dot&&"."===d.charAt(0)){this.debug("dot detected!",e,f,t,p);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",e,f,t,p),f!==a))}if("string"==typeof l?(u=r.nocase?h.toLowerCase()===l.toLowerCase():h===l,this.debug("string match",l,h,u)):(u=h.match(l),this.debug("pattern match",l,h,u)),!u)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&""===e[o];throw new Error("wtf?")}},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";function r(e,t){const n=Buffer.allocUnsafe(t);for(var r=0,i=0;i<e.length;i++){const t=e[i];t.copy(n,r),r+=t.length}return n}function i(e,t,n,r,i){for(var o=0;o<i;o++)n[r+o]=e[o]^t[3&o]}function o(e,t){const n=e.length;for(var r=0;r<n;r++)e[r]^=t[3&r]}try{const t=n(268),s=t.BufferUtil||t;e.exports={mask(e,t,n,r,o){o<48?i(e,t,n,r,o):s.mask(e,t,n,r,o)},unmask(e,t){e.length<32?o(e,t):s.unmask(e,t)},concat:r}}catch(t){e.exports={concat:r,mask:i,unmask:o}}},function(e,t,n){const r=n(5).fromCallback,i=n(3),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>"function"==typeof i[e]);Object.keys(i).forEach(e=>{t[e]=i[e]}),o.forEach(e=>{t[e]=r(i[e])}),t.exists=function(e,t){return"function"==typeof t?i.exists(e,t):new Promise(t=>i.exists(e,t))},t.read=function(e,t,n,r,o,s){return"function"==typeof s?i.read(e,t,n,r,o,s):new Promise((s,a)=>{i.read(e,t,n,r,o,(e,t,n)=>{if(e)return a(e);s({bytesRead:t,buffer:n})})})},t.write=function(e,t,n,r,o,s){return"function"==typeof arguments[arguments.length-1]?i.write(e,t,n,r,o,s):"string"==typeof t?new Promise((o,s)=>{i.write(e,t,n,r,(e,t,n)=>{if(e)return s(e);o({bytesWritten:t,buffer:n})})}):new Promise((s,a)=>{i.write(e,t,n,r,o,(e,t,n)=>{if(e)return a(e);s({bytesWritten:t,buffer:n})})})}},function(e,t,n){"use strict";var r=n(2);e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}(r)},function(e,t,n){"use strict";const r=n(3),i=n(0),o=n(7).mkdirs,s=n(10).pathExists,a=n(56).utimesMillis,c=Symbol("notExist"),u=Symbol("existsReg");function l(e,t,n,r){const a=i.dirname(t);s(a,(i,s)=>i?r(i):s?h(e,t,n,r):void o(a,i=>i?r(i):h(e,t,n,r)))}function h(e,t,n,r){return n.filter?f(p,e,t,n,r):p(e,t,n,r)}function f(e,t,n,r,i){Promise.resolve(r.filter(t,n)).then(o=>o?e(t,n,r,i):i(),e=>i(e))}function p(e,t,n,o){(n.dereference?r.stat:r.lstat)(e,(s,a)=>s?o(s):a.isDirectory()?function(e,t,n,i,o){v(n,(s,a)=>s?o(s):a===c?b(t,n)?o(new Error(`Cannot copy '${t}' to a subdirectory of itself, '${n}'.`)):function(e,t,n,i,o){r.mkdir(n,e.mode,s=>{if(s)return o(s);r.chmod(n,e.mode,e=>e?o(e):y(t,n,i,o))})}(e,t,n,i,o):a===u?b(t,n)?o(new Error(`Cannot copy '${t}' to a subdirectory of itself, '${n}'.`)):function(e,t,n,i){r.stat(t,(r,o)=>r?i(r):o.isDirectory()?y(e,t,n,i):i(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`)))}(t,n,i,o):t===a?o():y(t,n,i,o))}(a,e,t,n,o):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?function(e,t,n,r,i){v(n,(o,s)=>o?i(o):s===c?g(e,t,n,r,i):s===u?d(e,t,n,r,i):t===s?i():d(e,t,n,r,i))}(a,e,t,n,o):a.isSymbolicLink()?function(e,t,n,o){r.readlink(e,(e,s)=>{if(e)return o(e);n.dereference&&(s=i.resolve(process.cwd(),s)),v(t,(e,a)=>e?o(e):a===c||a===u?r.symlink(s,t,o):(n.dereference&&(a=i.resolve(process.cwd(),a)),a===s?o():void r.stat(t,(e,n)=>e?o(e):n.isDirectory()&&b(a,s)?o(new Error(`Cannot overwrite '${a}' with '${s}'.`)):function(e,t,n){r.unlink(t,i=>i?n(i):r.symlink(e,t,n))}(s,t,o))))})}(e,t,n,o):void 0)}function d(e,t,n,i,o){if(!i.overwrite)return i.errorOnExist?o(new Error(`'${n}' already exists`)):o();r.unlink(n,r=>r?o(r):g(e,t,n,i,o))}function g(e,t,n,i,o){return"function"==typeof r.copyFile?r.copyFile(t,n,t=>t?o(t):m(e,n,i,o)):function(e,t,n,i,o){const s=r.createReadStream(t);s.on("error",e=>o(e)).once("open",()=>{const t=r.createWriteStream(n,{mode:e.mode});t.on("error",e=>o(e)).on("open",()=>s.pipe(t)).once("close",()=>m(e,n,i,o))})}(e,t,n,i,o)}function m(e,t,n,i){r.chmod(t,e.mode,r=>r?i(r):n.preserveTimestamps?a(t,e.atime,e.mtime,i):i())}function y(e,t,n,o){r.readdir(e,(r,s)=>r?o(r):function e(t,n,r,o,s){const a=t.pop();if(!a)return s();h(i.join(n,a),i.join(r,a),o,i=>i?s(i):e(t,n,r,o,s))}(s,e,t,n,o))}function v(e,t){r.readlink(e,(e,n)=>e?"ENOENT"===e.code?t(null,c):"EINVAL"===e.code||"UNKNOWN"===e.code?t(null,u):t(e):t(null,n))}function b(e,t){const n=t.split(i.dirname(e)+i.sep)[1];if(n){const r=n.split(i.sep)[0];return!!r&&(e!==t&&t.indexOf(e)>-1&&r===i.basename(e))}return!1}e.exports=function(e,t,n,r){return"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n&&!n.clobber),n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),(e=i.resolve(e))===(t=i.resolve(t))?r(new Error("Source and destination must not be the same.")):n.filter?f(l,e,t,n,r):l(e,t,n,r)}},function(e,t,n){"use strict";const r=n(0);function i(e){return(e=r.normalize(r.resolve(e)).split(r.sep)).length>0?e[0]:null}const o=/[<>:"|?*]/;e.exports={getRootPath:i,invalidWin32Path:function(e){const t=i(e);return e=e.replace(t,""),o.test(e)}}},function(e,t,n){"use strict";const r=n(3),i=n(18),o=n(0);e.exports={hasMillisRes:function(e){let t=o.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));t=o.join(i.tmpdir(),t);const n=new Date(1435410243862);r.writeFile(t,"https://github.com/jprichardson/node-fs-extra/pull/141",i=>{if(i)return e(i);r.open(t,"r+",(i,o)=>{if(i)return e(i);r.futimes(o,n,n,n=>{if(n)return e(n);r.close(o,n=>{if(n)return e(n);r.stat(t,(t,n)=>{if(t)return e(t);e(null,n.mtime>1435410243e3)})})})})})},hasMillisResSync:function(){let e=o.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));e=o.join(i.tmpdir(),e);const t=new Date(1435410243862);r.writeFileSync(e,"https://github.com/jprichardson/node-fs-extra/pull/141");const n=r.openSync(e,"r+");return r.futimesSync(n,t,t),r.closeSync(n),r.statSync(e).mtime>1435410243e3},timeRemoveMillis:function(e){if("number"==typeof e)return 1e3*Math.floor(e/1e3);if(e instanceof Date)return new Date(1e3*Math.floor(e.getTime()/1e3));throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")},utimesMillis:function(e,t,n,i){r.open(e,"r+",(e,o)=>{if(e)return i(e);r.futimes(o,t,n,e=>{r.close(o,t=>{i&&i(e||t)})})})},utimesMillisSync:function(e,t,n){const i=r.openSync(e,"r+");return r.futimesSync(i,t,n),r.closeSync(i)}}},function(e,t,n){e.exports={copySync:n(118)}},function(e,t){e.exports=function(e){if("function"==typeof Buffer.allocUnsafe)try{return Buffer.allocUnsafe(e)}catch(t){return new Buffer(e)}return new Buffer(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(2),o=n(0);function s(e){let t=1,n=0;for(n=0;n<e.length;n++){switch(e[n]){case"{":t++;break;case"}":t--;break;case"\\":n++}if(0===t)break}return e.substring(0,n)}t.getLongestBalancedString=s;t.SectionNodeProvider=class{constructor(e){this.extension=e,this._onDidChangeTreeData=new r.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.sectionDepths={},this.root="",this.ds=[];const t=r.workspace.getConfiguration("latex-workshop");this.hierarchy=t.get("view.outline.sections"),this.hierarchy.forEach((e,t)=>{e.split("|").forEach(e=>{this.sectionDepths[e]=t})})}refresh(){return this.extension.manager.rootFile?(this.ds=this.buildModel(this.extension.manager.rootFile),this.ds):[]}update(){this._onDidChangeTreeData.fire()}buildModel(e,t,n,c=!0){let u=[];t&&(u=t);let l=[];n&&(l=n);let h=void 0;const f=[],p=()=>u[u.length-1],d=()=>0===u.length;let g=i.readFileSync(e,"utf-8");const m=(g=g.replace(/([^\\]|^)%.*$/gm,"$1")).search(/\\end{document}/gm);m>-1&&(g=g.substr(0,m));let y="(?:((?:\\\\(?:input|InputIfFileExists|include|subfile|(?:(?:sub)?import\\*?{([^}]*)}))(?:\\[[^\\[\\]\\{\\}]*\\])?){([^}]*)})|((?:\\\\(";this.hierarchy.forEach((e,t)=>{y+=e,t<this.hierarchy.length-1&&(y+="|")}),y+=")(?:\\*)?(?:\\[[^\\[\\]\\{\\}]*\\])?){(.*)}))";const v=RegExp(y,"m"),b=/(?:\\(begin|end)(?:\[[^\[\]]*\])?){(?:(figure|table)\*?)}/m,w=g.split("\n");for(let t=0;t<w.length;t++){const n=w[t];b.lastIndex=0,v.lastIndex=0;let g=b.exec(n);if(g&&"begin"===g[1])f.push({name:g[2],start:t,end:t});else if(g&&g[2]===f[f.length-1].name){const n=f.pop();if(!n)continue;n.end=t;const i=this.getCaption(w,n);if(!i)continue;const o=d()?0:p().depth+1,s=new a(`${n.name.charAt(0).toUpperCase()+n.name.slice(1)}: ${i}`,r.TreeItemCollapsibleState.Expanded,o,n.start,n.end,e);d()?l.push(s):p().children.push(s)}else if((g=v.exec(n))&&g[5]in this.sectionDepths){const n=g[5],i=this.sectionDepths[n],o=s(g[6]),c=new a(o,r.TreeItemCollapsibleState.Expanded,i,t,t,e);if(h&&(h.toLine=t-1),h=c,d()){l.push(c),u.push(c);continue}for(;!d()&&p().depth>=i;)u.pop();d()?l.push(c):p().children.push(c),u.push(c)}else if(c&&g&&(g[1].startsWith("\\input")||g[1].startsWith("\\InputIfFileExists")||g[1].startsWith("\\include")||g[1].startsWith("\\subfile")||g[1].startsWith("\\subimport")||g[1].startsWith("\\import"))){let t;if(!(t=g[1].startsWith("\\subimport")?this.extension.manager.resolveFile([o.dirname(e)],o.join(g[2],g[3])):g[1].startsWith("\\import")?this.extension.manager.resolveFile([g[2]],g[3]):this.extension.manager.resolveFile([o.dirname(e),this.extension.manager.rootDir],g[3]))){this.extension.logger.addLogMessage(`Could not resolve included file ${e}`);continue}if(""===o.extname(t)&&(t+=".tex"),!i.existsSync(t)&&i.existsSync(t+".tex")&&(t+=".tex"),!1===i.existsSync(t)){this.extension.logger.addLogMessage(`Could not resolve included file ${t}`);continue}this.buildModel(t,u,l)}}return l}getTreeItem(e){const t=e.children.length>0,n=new r.TreeItem(e.label,t?r.TreeItemCollapsibleState.Expanded:r.TreeItemCollapsibleState.None);return n.command={command:"latex-workshop.goto-section",title:"",arguments:[e.fileName,e.lineNumber]},n.tooltip=`Line ${e.lineNumber+1} at ${e.fileName}`,n}getChildren(e){return void 0===this.extension.manager.rootFile?Promise.resolve([]):e?Promise.resolve(e.children):Promise.resolve(this.refresh())}getCaption(e,t){const n=e.slice(t.start,t.end).join("\n"),r=/(?:\\caption(?:\[[^\[\]]*\])?){(.*?)}/gm.exec(n);if(r)return"."===r[1][r[1].length-1]?r[1].substr(0,r[1].length-1):r[1]}};class a extends r.TreeItem{constructor(e,t,n,r,i,s,a){super(e,t),this.label=e,this.collapsibleState=t,this.depth=n,this.lineNumber=r,this.toLine=i,this.fileName=s,this.command=a,this.children=[],this.iconPath={light:o.join(__filename,"..","..","..","resources","light","Section.svg"),dark:o.join(__filename,"..","..","..","resources","dark","Section.svg")},this.contextValue="Section"}}t.Section=a},function(e,t,n){"use strict";var r=n(11),i=n(22),o=n(8),s=n(63),a=n(66),c=n(162),u=n(32),l={};function h(e,t){var n=u.createKey(String(e),t),r=[],o=t&&!1===t.cache;if(!o&&l.hasOwnProperty(n))return l[n];if(Array.isArray(e))for(var s=0;s<e.length;s++)r.push.apply(r,h.create(e[s],t));else r=h.create(e,t);return t&&!0===t.nodupes&&(r=i(r)),o||(l[n]=r),r}function f(e,t,n,r){var i=u.createKey(e+":"+t,n);if(n&&!1===n.cache)return h.clearCache(),r(t,n);if(l.hasOwnProperty(i))return l[i];var o=r(t,n);return l[i]=o,o}h.expand=function(e,t){return h.create(e,o({},t,{expand:!0}))},h.optimize=function(e,t){return h.create(e,t)},h.create=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");var n=t&&t.maxLength||65536;if(e.length>=n)throw new Error("expected pattern to be less than "+n+" characters");return f("create",e,t,function(){if(""===e||e.length<3)return[e];if(u.isEmptySets(e))return[];if(u.isQuotedString(e))return[e.slice(1,-1)];var n=new c(t),r=t&&!0===t.expand?n.expand(e,t):n.optimize(e,t),o=r.output;return t&&!0===t.noempty&&(o=o.filter(Boolean)),t&&!0===t.nodupes&&(o=i(o)),Object.defineProperty(o,"result",{enumerable:!1,value:r}),o})},h.makeRe=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");var n=t&&t.maxLength||65536;if(e.length>=n)throw new Error("expected pattern to be less than "+n+" characters");return f("makeRe",e,t,function(){var n=h(e,t),i=o({strictErrors:!1},t);return r(n,i)})},h.parse=function(e,t){return new c(t).parse(e,t)},h.compile=function(e,t){return new c(t).compile(e,t)},h.clearCache=function(){l=h.cache={}},h.Braces=c,h.compilers=s,h.parsers=a,h.cache=l,e.exports=h},function(e,t,n){var r=n(140),i=r.types;e.exports=function(e,t){t||(t={});var n=void 0===t.limit?25:t.limit;!function(e){return"[object RegExp]"==={}.toString.call(e)}(e)?"string"!=typeof e&&(e=String(e)):e=e.source;try{e=r(e)}catch(e){return!1}var o=0;return function e(t,r){if(t.type===i.REPETITION){if(o++,++r>1)return!1;if(o>n)return!1}if(t.options)for(var s=0,a=t.options.length;s<a;s++){if(!e({stack:t.options[s]},r))return!1}var c=t.stack||t.value&&t.value.stack;if(!c)return!0;for(s=0;s<c.length;s++){if(!e(c[s],r))return!1}return!0}(e,0)}},function(e,t,n){var r=n(30),i=function(){return[{type:r.RANGE,from:48,to:57}]},o=function(){return[{type:r.CHAR,value:95},{type:r.RANGE,from:97,to:122},{type:r.RANGE,from:65,to:90}].concat(i())},s=function(){return[{type:r.CHAR,value:9},{type:r.CHAR,value:10},{type:r.CHAR,value:11},{type:r.CHAR,value:12},{type:r.CHAR,value:13},{type:r.CHAR,value:32},{type:r.CHAR,value:160},{type:r.CHAR,value:5760},{type:r.CHAR,value:6158},{type:r.CHAR,value:8192},{type:r.CHAR,value:8193},{type:r.CHAR,value:8194},{type:r.CHAR,value:8195},{type:r.CHAR,value:8196},{type:r.CHAR,value:8197},{type:r.CHAR,value:8198},{type:r.CHAR,value:8199},{type:r.CHAR,value:8200},{type:r.CHAR,value:8201},{type:r.CHAR,value:8202},{type:r.CHAR,value:8232},{type:r.CHAR,value:8233},{type:r.CHAR,value:8239},{type:r.CHAR,value:8287},{type:r.CHAR,value:12288},{type:r.CHAR,value:65279}]};t.words=function(){return{type:r.SET,set:o(),not:!1}},t.notWords=function(){return{type:r.SET,set:o(),not:!0}},t.ints=function(){return{type:r.SET,set:i(),not:!1}},t.notInts=function(){return{type:r.SET,set:i(),not:!0}},t.whitespace=function(){return{type:r.SET,set:s(),not:!1}},t.notWhitespace=function(){return{type:r.SET,set:s(),not:!0}},t.anyChar=function(){return{type:r.SET,set:[{type:r.CHAR,value:10},{type:r.CHAR,value:13},{type:r.CHAR,value:8232},{type:r.CHAR,value:8233}],not:!0}}},function(e,t,n){"use strict";var r=n(32);function i(e,t,n){return r.flatten(r.repeat(r.arrayify(e),t))}function o(e){return!0===e.escaped}function s(e,t){return void 0!==e&&e.type===t}e.exports=function(e,t){e.compiler.set("bos",function(){this.output||(this.ast.queue=o(this.ast)?[this.ast.val]:[],this.ast.count=1)}).set("bracket",function(e){var t=e.close,n=e.escaped?"\\[":"[",i=e.negated,o=e.inner;"]-"===(o=o.replace(/\\(?=[\\\w]|$)/g,"\\\\"))&&(o="\\]\\-"),i&&-1===o.indexOf(".")&&(o+="."),i&&-1===o.indexOf("/")&&(o+="/");var s=n+i+o+t,a=e.parent.queue,c=r.arrayify(a.pop());a.push(r.join(c,s)),a.push.apply(a,[])}).set("brace",function(e){return e.queue=o(e)?[e.val]:[],e.count=1,this.mapVisit(e.nodes)}).set("brace.open",function(e){e.parent.open=e.val}).set("text",function(e){var n=e.parent.queue,a=e.escaped,c=[e.val];if(!1===e.optimize&&(t=r.extend({},t,{optimize:!1})),e.multiplier>1&&(e.parent.count*=e.multiplier),!0===t.quantifiers&&r.isQuantifier(e.val))a=!0;else if(e.val.length>1){if(s(e.parent,"brace")&&!o(e)){var u=r.expand(e.val,t);if(c=u.segs,u.isOptimized&&(e.parent.isOptimized=!0),!c.length){var l=u.val||e.val;!1!==t.unescape&&(l=(l=l.replace(/\\([,.])/g,"$1")).replace(/["'`]/g,"")),c=[l],a=!0}}}else","===e.val?t.expand?(e.parent.queue.push([""]),c=[""]):c=["|"]:a=!0;if(a&&s(e.parent,"brace")&&(e.parent.nodes.length<=4&&1===e.parent.count?e.parent.escaped=!0:e.parent.length<=3&&(e.parent.escaped=!0)),function(e){return Array.isArray(e.queue)&&e.queue.length}(e.parent)){var h=r.arrayify(n.pop());e.parent.count>1&&t.expand&&(h=i(h,e.parent.count),e.parent.count=1),n.push(r.join(r.flatten(h),c.shift())),n.push.apply(n,c)}else e.parent.queue=c}).set("brace.close",function(e){var n=e.parent.queue,a=e.parent.parent,c=a.queue.pop(),u=e.parent.open,l=e.val;u&&l&&function(e,t){return!!e.parent.isOptimized||s(e.parent,"brace")&&!o(e.parent)&&!0!==t.expand}(e,t)&&(u="(",l=")");var h=r.last(n);e.parent.count>1&&t.expand&&(h=i(n.pop(),e.parent.count),e.parent.count=1,n.push(h)),l&&"string"==typeof h&&1===h.length&&(u="",l=""),!function(e,t){return o(e.parent)||!1!==t.optimize}(e,t)&&!function(e,t){if(1===e.parent.queue.length)return!0;var n=e.parent.nodes;return 3===n.length&&s(n[0],"brace.open")&&!s(n[1],"text")&&s(n[2],"brace.close")}(e)||e.parent.hasEmpty||(n.push(r.join(u,n.pop()||"")),n=r.flatten(r.join(n,l))),void 0===c?a.queue=[n]:a.queue.push(r.flatten(r.join(c,n)))}).set("eos",function(e){this.input||(!1!==t.optimize?this.output=r.last(r.flatten(this.ast.queue)):Array.isArray(r.last(this.ast.queue))?this.output=r.flatten(this.ast.queue.pop()):this.output=r.flatten(this.ast.queue),e.parent.count>1&&t.expand&&(this.output=i(this.output,e.parent.count)),this.output=r.arrayify(this.output),this.ast.queue=[])})}},function(e,t,n){"use strict";
/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(153);function i(e,t,n,r){var o=e.indexOf(t,n);return"\\"===e.charAt(o-1)?i(e,t,o+1):o}function o(e,t){return!0===t.keepDoubleQuotes&&'"'===e||(!0===t.keepSingleQuotes&&"'"===e||t.keepQuotes)}function s(e,t,n){return"function"==typeof e.keepEscaping?e.keepEscaping(t,n):!0===e.keepEscaping||"\\"===t[n+1]}e.exports=function(e,t,n){if("string"!=typeof e)throw new TypeError("expected a string");"function"==typeof t&&(n=t,t=null),"string"==typeof t&&(t={sep:t});var a,c=r({sep:"."},t),u=c.quotes||['"',"'","`"];!0===c.brackets?a={"<":">","(":")","[":"]","{":"}"}:c.brackets&&(a=c.brackets);var l,h=[],f=[],p=[""],d=c.sep,g=e.length,m=-1;function y(){if(a&&f.length)return a[f[f.length-1]]}for(;++m<g;){var v=e[m],b=e[m+1],w={val:v,idx:m,arr:p,str:e};if(h.push(w),"\\"!==v){if(a&&a[v]){f.push(v);var x=y(),_=m+1;if(-1!==e.indexOf(x,_+1))for(;f.length&&_<g;){var k=e[++_];if("\\"!==k)if(-1===u.indexOf(k)){if(x=y(),f.length&&-1===e.indexOf(x,_+1))break;a[k]?f.push(k):x===k&&f.pop()}else _=i(e,k,_+1);else k++}if(-1===(l=_)){p[p.length-1]+=v;continue}v=e.slice(m,l+1),w.val=v,w.idx=m=l}if(-1!==u.indexOf(v)){if(-1===(l=i(e,v,m+1))){p[p.length-1]+=v;continue}v=!0===o(v,c)?e.slice(m,l+1):e.slice(m+1,l),w.val=v,w.idx=m=l}"function"==typeof n&&(n(w,h),v=w.val,m=w.idx),w.val!==d||!1===w.split?p[p.length-1]+=w.val:p.push("")}else w.val=!0===s(c,e,m)?v+b:b,w.escaped=!0,"function"==typeof n&&n(w),p[p.length-1]+=w.val,m++}return p}},function(e,t,n){"use strict";
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r,i="";e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");if(1===t)return e;if(2===t)return e+e;var n=e.length*t;if(r!==e||void 0===r)r=e,i="";else if(i.length>=n)return i.substr(0,n);for(;n>i.length&&t>1;)1&t&&(i+=e),t>>=1,e+=e;return i=(i+=e).substr(0,n)}},function(e,t,n){"use strict";var r=n(159),i=n(32);function o(e,t,n,r){t.orig=t.val;var o=this.prev(),s=i.last(o.nodes),a=!1;if(t.val.length>1){var c=t.val.charAt(0),u=t.val.slice(-1);a='"'===c&&'"'===u||"'"===c&&"'"===u||"`"===c&&"`"===u}if(a&&!1!==r.unescape&&(t.val=t.val.slice(1,t.val.length-1),t.escaped=!0),t.match){var l=t.match[1];l&&-1!==l.indexOf("}")||(l=t.match[0]);var h=l.replace(/\{/g,",").replace(/\}/g,"");t.multiplier*=h.length,t.val=""}"text"===s.type&&1===s.multiplier&&1===t.multiplier&&t.val?s.val+=t.val:o.push(t)}e.exports=function(e,t){e.parser.set("bos",function(){this.parsed||(this.ast=this.nodes[0]=new r(this.ast))}).set("escape",function(){var e=this.position(),n=this.match(/^(?:\\(.)|\$\{)/);if(n){var s=this.prev(),a=i.last(s.nodes),c=e(new r({type:"text",multiplier:1,val:n[0]}));if("\\\\"===c.val)return c;if("${"===c.val)for(var u,l=this.input,h=-1;u=l[++h];)if(this.consume(1),c.val+=u,"\\"!==u){if("}"===u)break}else c.val+=l[++h];return!1!==this.options.unescape&&(c.val=c.val.replace(/\\([{}])/g,"$1")),'"'===a.val&&'"'===this.input.charAt(0)?(a.val=c.val,void this.consume(1)):o.call(this,e,c,s,t)}}).set("bracket",function(){var e=this.isInside("brace"),t=this.position(),n=this.match(/^(?:\[([!^]?)([^\]]{2,}|\]-)(\]|[^*+?]+)|\[)/);if(n){var i=this.prev(),o=n[0],s=n[1]?"^":"",a=n[2]||"",c=n[3]||"";e&&"brace"===i.type&&(i.text=i.text||"",i.text+=o);var u=this.input.slice(0,2);if(""===a&&"\\]"===u){a+=u,this.consume(2);for(var l,h=this.input,f=-1;l=h[++f];){if(this.consume(1),"]"===l){c=l;break}a+=l}}return t(new r({type:"bracket",val:o,escaped:"]"!==c,negated:s,inner:a,close:c}))}}).set("multiplier",function(){var e=this.isInside("brace"),n=this.position(),i=this.match(/^\{((?:,|\{,+\})+)\}/);if(i){this.multiplier=!0;var s=this.prev(),a=i[0];e&&"brace"===s.type&&(s.text=s.text||"",s.text+=a);var c=n(new r({type:"text",multiplier:1,match:i,val:a}));return o.call(this,n,c,s,t)}}).set("brace.open",function(){var e=this.position(),t=this.match(/^\{(?!(?:[^\\}]?|,+)\})/);if(t){var n=this.prev(),o=i.last(n.nodes);o&&o.val&&function(e){return"!"===e||"@"===e||"*"===e||"?"===e||"+"===e}(o.val.slice(-1))&&(o.optimize=!1);var s=e(new r({type:"brace.open",val:t[0]})),a=e(new r({type:"brace",nodes:[]}));a.push(s),n.push(a),this.push("brace",a)}}).set("brace.close",function(){var e=this.position(),t=this.match(/^\}/);if(t&&t[0]){var n=this.pop("brace"),o=e(new r({type:"brace.close",val:t[0]}));if(!this.isType(n,"brace")){if(this.options.strict)throw new Error('missing opening "{"');return o.type="text",o.multiplier=0,o.escaped=!0,o}var s=this.prev(),a=i.last(s.nodes);if(a.text)if(")"===i.last(a.nodes).val&&/[!@*?+]\(/.test(a.text)){var c=a.nodes[0],u=a.nodes[1];"brace.open"===c.type&&u&&"text"===u.type&&(u.optimize=!1)}if(n.nodes.length>2){var l=n.nodes[1];"text"===l.type&&","===l.val&&(n.nodes.splice(1,1),n.nodes.push(l))}n.push(o)}}).set("boundary",function(){var e=this.position(),t=this.match(/^[$^](?!\{)/);if(t)return e(new r({type:"text",val:t[0]}))}).set("nobrace",function(){var e=this.isInside("brace"),t=this.position(),n=this.match(/^\{[^,]?\}/);if(n){var i=this.prev(),o=n[0];return e&&"brace"===i.type&&(i.text=i.text||"",i.text+=o),t(new r({type:"text",multiplier:0,val:o}))}}).set("text",function(){var e=this.isInside("brace"),n=this.position(),i=this.match(/^((?!\\)[^${}[\]])+/);if(i){var s=this.prev(),a=i[0];e&&"brace"===s.type&&(s.text=s.text||"",s.text+=a);var c=n(new r({type:"text",multiplier:1,val:a}));return o.call(this,n,c,s,t)}})}},function(e,t,n){function r(e){if(e)return function(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}(e)}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){"use strict";
/*!
 * object-visit <https://github.com/jonschlinkert/object-visit>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(6);e.exports=function(e,t,n,i){if(!r(e)&&"function"!=typeof e)throw new Error("object-visit expects `thisArg` to be an object.");if("string"!=typeof t)throw new Error("object-visit expects `method` name to be a string");if("function"!=typeof e[t])return e;var o=[].slice.call(arguments,3);for(var s in n=n||{}){var a=[s,n[s]].concat(o);e[t].apply(e,a)}return e}},function(e,t,n){"use strict";
/*!
 * to-object-path <https://github.com/jonschlinkert/to-object-path>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=n(33);e.exports=function(e){return"arguments"!==r(e)&&(e=arguments),function e(t){var n=t.length;var i=-1;var o=[];for(;++i<n;){var s=t[i];"arguments"===r(s)||Array.isArray(s)?o.push.apply(o,e(s)):"string"==typeof s&&o.push(s)}return o}(e).join(".")}},function(e,t,n){"use strict";e.exports=function(e){if(!Array.isArray(e))throw new TypeError("arr-union expects the first argument to be an array.");for(var t=arguments.length,n=0;++n<t;){var r=arguments[n];if(r){Array.isArray(r)||(r=[r]);for(var i=0;i<r.length;i++){var o=r[i];e.indexOf(o)>=0||e.push(o)}}}return e}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";
/*!
 * use <https://github.com/jonschlinkert/use>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function r(e){return e&&"object"==typeof e&&!Array.isArray(e)}function i(e,t,n){Object.defineProperty(e,t,{configurable:!0,writable:!0,value:n})}e.exports=function e(t,n){if(!r(t)&&"function"!=typeof t)throw new TypeError("expected an object or function");var o=r(n)?n:{},s="string"==typeof o.prop?o.prop:"fns";function a(e,n,r){var i=1;if("string"==typeof e||Array.isArray(e)?(n=function(e,t){return function n(){return this.type===e?t.apply(this,arguments):n}}(e,n),i++):(n,n=e),"function"!=typeof n)throw new TypeError("expected a function");var a=this||t,c=a[s],u=[].slice.call(arguments,i);u.unshift(a),"function"==typeof o.hook&&o.hook.apply(a,u);var l=n.apply(a,u);return"function"==typeof l&&-1===c.indexOf(l)&&c.push(l),a}return Array.isArray(t[s])||i(t,s,[]),i(t,"use",a),i(t,"run",function(n){if(r(n)){n.use&&n.run||(i(n,s,n[s]||[]),i(n,"use",a)),n[s]&&-1!==n[s].indexOf(e)||n.use(e);for(var o=(this||t)[s],c=o.length,u=-1;++u<c;)n.use(o[u]);return n}}),t}},function(e,t,n){var r;function i(e){function n(){if(n.enabled){var e=n,i=+new Date,o=i-(r||i);e.diff=o,e.prev=r,e.curr=i,r=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=t.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var c=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var i=t.formatters[r];if("function"==typeof i){var o=s[c];n=i.call(e,o),s.splice(c,1),c--}return n}),t.formatArgs.call(e,s),(n.log||t.log||console.log.bind(console)).apply(e,s)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=i.debug=i.default=i).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(194),t.names=[],t.skips=[],t.formatters={}},function(e,t){e.exports=require("net")},function(e,t,n){var r=n(76),i=n(24),o=n(77).ArraySet,s=n(199).MappingList;function a(e){e||(e={}),this._file=i.getArg(e,"file",null),this._sourceRoot=i.getArg(e,"sourceRoot",null),this._skipValidation=i.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new s,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=i.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)}),e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&n.setSourceContent(t,r)}),n},a.prototype.addMapping=function(e){var t=i.getArg(e,"generated"),n=i.getArg(e,"original",null),r=i.getArg(e,"source",null),o=i.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=i.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[i.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[i.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var s=this._sourceRoot;null!=s&&(r=i.relative(s,r));var a=new o,c=new o;this._mappings.unsortedForEach(function(t){if(t.source===r&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=i.join(n,t.source)),null!=s&&(t.source=i.relative(s,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var u=t.source;null==u||a.has(u)||a.add(u);var l=t.name;null==l||c.has(l)||c.add(l)},this),this._sources=a,this._names=c,e.sources.forEach(function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=i.join(n,t)),null!=s&&(t=i.relative(s,t)),this.setSourceContent(t,r))},this)},a.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},a.prototype._serializeMappings=function(){for(var e,t,n,o,s=0,a=1,c=0,u=0,l=0,h=0,f="",p=this._mappings.toArray(),d=0,g=p.length;d<g;d++){if(e="",(t=p[d]).generatedLine!==a)for(s=0;t.generatedLine!==a;)e+=";",a++;else if(d>0){if(!i.compareByGeneratedPositionsInflated(t,p[d-1]))continue;e+=","}e+=r.encode(t.generatedColumn-s),s=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=r.encode(o-h),h=o,e+=r.encode(t.originalLine-1-u),u=t.originalLine-1,e+=r.encode(t.originalColumn-c),c=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=r.encode(n-l),l=n)),f+=e}return f},a.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=i.relative(t,e));var n=i.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null},this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},function(e,t,n){var r=n(198);t.encode=function(e){var t,n="",i=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&i,(i>>>=5)>0&&(t|=32),n+=r.encode(t)}while(i>0);return n},t.decode=function(e,t,n){var i,o,s=e.length,a=0,c=0;do{if(t>=s)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=r.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));i=!!(32&o),a+=(o&=31)<<c,c+=5}while(i);n.value=function(e){var t=e>>1;return 1==(1&e)?-t:t}(a),n.rest=t}},function(e,t,n){var r=n(24),i=Object.prototype.hasOwnProperty,o="undefined"!=typeof Map;function s(){this._array=[],this._set=o?new Map:Object.create(null)}s.fromArray=function(e,t){for(var n=new s,r=0,i=e.length;r<i;r++)n.add(e[r],t);return n},s.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},s.prototype.add=function(e,t){var n=o?e:r.toSetString(e),s=o?this.has(e):i.call(this._set,n),a=this._array.length;s&&!t||this._array.push(e),s||(o?this._set.set(e,a):this._set[n]=a)},s.prototype.has=function(e){if(o)return this._set.has(e);var t=r.toSetString(e);return i.call(this._set,t)},s.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var n=r.toSetString(e);if(i.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},s.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},s.prototype.toArray=function(){return this._array.slice()},t.ArraySet=s},function(e,t,n){"use strict";
/*!
 * map-cache <https://github.com/jonschlinkert/map-cache>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=Object.prototype.hasOwnProperty;function i(e){this.__data__=e||{}}e.exports=i,i.prototype.set=function(e,t){return"__proto__"!==e&&(this.__data__[e]=t),this},i.prototype.get=function(e){return"__proto__"===e?void 0:this.__data__[e]},i.prototype.has=function(e){return"__proto__"!==e&&r.call(this.__data__,e)},i.prototype.del=function(e){return this.has(e)&&delete this.__data__[e]}},function(e,t,n){"use strict";var r=n(214),i=n(20);function o(e,t){for(var n in t)u(t,n)&&(e[n]=t[n])}function s(e){return e&&"string"==typeof e}function a(e){var t={};for(var n in e)t[n]=e[n];return t}function c(e){return e&&"object"==typeof e||r(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=Object.assign||function(e){if(null===e||void 0===e)throw new TypeError("Cannot convert undefined or null to object");c(e)||(e={});for(var t=1;t<arguments.length;t++){var n=arguments[t];s(n)&&(n=a(n)),c(n)&&(o(e,n),i(e,n))}return e}},function(e,t,n){"use strict";var r=n(4),i=n(11),o=n(81),s=n(217),a=n(218),c=n(219),u=n(220);function l(e,t,n){t=u.arrayify(t),e=u.arrayify(e);var r=t.length;if(0===e.length||0===r)return[];if(1===r)return l.match(e,t[0],n);for(var i=!1,o=[],s=[],a=-1;++a<r;){var c=t[a];"string"==typeof c&&33===c.charCodeAt(0)?(o.push.apply(o,l.match(e,c.slice(1),n)),i=!0):s.push.apply(s,l.match(e,c,n))}if(i&&0===s.length)if(n&&!1===n.unixify)s=e.slice();else for(var h=u.unixify(n),f=0;f<e.length;f++)s.push(h(e[f]));var p=u.diff(s,o);return n&&!1===n.nodupes?p:u.unique(p)}function h(e,t,n,r){var i=u.createKey(e+"="+t,n);if(n&&!1===n.cache)return r(t,n);if(c.has(e,i))return c.get(e,i);var o=r(t,n);return c.set(e,i,o),o}l.match=function(e,t,n){if(Array.isArray(t))throw new TypeError("expected pattern to be a string");for(var r=u.unixify(n),i=h("match",t,n,l.matcher),o=[],s=(e=u.arrayify(e)).length,a=-1;++a<s;){var c=e[a];(c===t||i(c))&&o.push(u.value(c,r,n))}if(void 0===n)return u.unique(o);if(0===o.length){if(!0===n.failglob)throw new Error('no matches found for "'+t+'"');if(!0===n.nonull||!0===n.nullglob)return[n.unescape?u.unescape(t):t]}return n.ignore&&(o=l.not(o,n.ignore,n)),!1!==n.nodupes?u.unique(o):o},l.isMatch=function(e,t,n){if("string"!=typeof e)throw new TypeError('expected a string: "'+r.inspect(e)+'"');return!u.isEmptyString(e)&&!u.isEmptyString(t)&&(!!u.equalsPattern(n)(e)||h("isMatch",t,n,l.matcher)(e))},l.some=function(e,t,n){"string"==typeof e&&(e=[e]);for(var r=0;r<e.length;r++)if(1===l(e[r],t,n).length)return!0;return!1},l.every=function(e,t,n){"string"==typeof e&&(e=[e]);for(var r=0;r<e.length;r++)if(1!==l(e[r],t,n).length)return!1;return!0},l.any=function(e,t,n){if("string"!=typeof e)throw new TypeError('expected a string: "'+r.inspect(e)+'"');if(u.isEmptyString(e)||u.isEmptyString(t))return!1;"string"==typeof t&&(t=[t]);for(var i=0;i<t.length;i++)if(l.isMatch(e,t[i],n))return!0;return!1},l.all=function(e,t,n){if("string"!=typeof e)throw new TypeError('expected a string: "'+r.inspect(e)+'"');"string"==typeof t&&(t=[t]);for(var i=0;i<t.length;i++)if(!l.isMatch(e,t[i],n))return!1;return!0},l.not=function(e,t,n){var r=o({},n),i=r.ignore;delete r.ignore,e=u.arrayify(e);var s=u.diff(e,l(e,t,r));return i&&(s=u.diff(s,l(e,i))),!1!==r.nodupes?u.unique(s):s},l.contains=function(e,t,n){if("string"!=typeof e)throw new TypeError('expected a string: "'+r.inspect(e)+'"');if("string"==typeof t){if(u.isEmptyString(e)||u.isEmptyString(t))return!1;if(u.equalsPattern(t,n)(e))return!0;if(u.containsPattern(t,n)(e))return!0}var i=o({},n,{contains:!0});return l.any(e,t,i)},l.matchBase=function(e,t){return!(e&&-1!==e.indexOf("/")||!t)&&(!0===t.basename||!0===t.matchBase)},l.matchKeys=function(e,t,n){if(!u.isObject(e))throw new TypeError("expected the first argument to be an object");var r=l(Object.keys(e),t,n);return u.pick(e,r)},l.matcher=function e(t,n){if(u.isEmptyString(t))return function(){return!1};if(Array.isArray(t))return function(e,t,n){var r;return h("compose",String(e),t,function(){return function(i){if(!r){r=[];for(var o=0;o<e.length;o++)r.push(n(e[o],t))}for(var s=r.length;s--;)if(!0===r[s](i))return!0;return!1}})}(t,n,e);if(t instanceof RegExp)return i(t);if(!u.isString(t))throw new TypeError("expected pattern to be an array, string or regex");if(!u.hasSpecialChars(t))return n&&!0===n.nocase&&(t=t.toLowerCase()),u.matchPath(t,n);var r=l.makeRe(t,n);if(l.matchBase(t,n))return u.matchBasename(r,n);function i(e){var t=u.equalsPattern(n),r=u.unixify(n);return function(n){return!!t(n)||!!e.test(r(n))}}var o=i(r);return u.define(o,"result",r.result),o},l.capture=function(e,t,n){var r=l.makeRe(e,o({capture:!0},n)),i=u.unixify(n);return h("capture",e,n,function(){return function(e){var t=r.exec(i(e));return t?t.slice(1):null}})(t)},l.makeRe=function(e,t){if(e instanceof RegExp)return e;if("string"!=typeof e)throw new TypeError("expected pattern to be a string");if(e.length>65536)throw new Error("expected pattern to be less than 65536 characters");return h("makeRe",e,t,function(){var n=u.extend({wrap:!1},t),r=l.create(e,n),o=i(r.output,n);return u.define(o,"result",r),o})},l.create=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");return h("create",e,t,function(){return l.compile(l.parse(e,t),t)})},l.parse=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");return h("parse",e,t,function(){var n=u.instantiate(null,t);a(n,t);var r=n.parse(e,t);return u.define(r,"snapdragon",n),r.input=e,r})},l.compile=function(e,t){return"string"==typeof e&&(e=l.parse(e,t)),h("compile",e.input,t,function(){var n=u.instantiate(e,t);return s(n,t),n.compile(e,t)})},l.clearCache=function(){l.cache.__data__={}},l.compilers=s,l.parsers=a,l.cache=c,e.exports=l},function(e,t,n){"use strict";var r=n(216),i=n(20);function o(e,t){for(var n in t)u(t,n)&&(e[n]=t[n])}function s(e){return e&&"string"==typeof e}function a(e){var t={};for(var n in e)t[n]=e[n];return t}function c(e){return e&&"object"==typeof e||r(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=Object.assign||function(e){if(null===e||void 0===e)throw new TypeError("Cannot convert undefined or null to object");c(e)||(e={});for(var t=1;t<arguments.length;t++){var n=arguments[t];s(n)&&(n=a(n)),c(n)&&(o(e,n),i(e,n))}return e}},function(e,t,n){"use strict";
/*!
 * arr-diff <https://github.com/jonschlinkert/arr-diff>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function r(e,t){if(!Array.isArray(t))return e.slice();for(var n=t.length,r=e.length,i=-1,o=[];++i<r;){for(var s=e[i],a=!1,c=0;c<n;c++){if(s===t[c]){a=!0;break}}!1===a&&o.push(s)}return o}e.exports=function(e){for(var t=arguments.length,n=0;++n<t;)e=r(e,arguments[n]);return e}},function(e,t,n){"use strict";
/*!
 * object.pick <https://github.com/jonschlinkert/object.pick>
 *
 * Copyright (c) 2014-2015 Jon Schlinkert, contributors.
 * Licensed under the MIT License
 */var r=n(6);e.exports=function(e,t){if(!r(e)&&"function"!=typeof e)return{};var n={};if("string"==typeof t)return t in e&&(n[t]=e[t]),n;for(var i=t.length,o=-1;++o<i;){var s=t[o];s in e&&(n[s]=e[s])}return n}},function(e,t,n){"use strict";var r=n(8),i=n(22),o=n(11),s=n(85),a=n(87),c=n(228),u=n(89);function l(e,t){return l.create(e,t).output}l.match=function(e,t,n){if("string"!=typeof t)throw new TypeError("expected pattern to be a string");e=u.arrayify(e);for(var r=l.matcher(t,n),o=e.length,s=-1,a=[];++s<o;){var c=e[s];r(c)&&a.push(c)}if(void 0===n)return i(a);if(0===a.length){if(!0===n.failglob)throw new Error('no matches found for "'+t+'"');if(!0===n.nonull||!0===n.nullglob)return[t.split("\\").join("")]}return!1!==n.nodupes?i(a):a},l.isMatch=function(e,t,n){if("string"!=typeof t)throw new TypeError("expected pattern to be a string");if("string"!=typeof e)throw new TypeError("expected a string");return t===e||(""===t||" "===t||"."===t?t===e:u.memoize("isMatch",t,n,l.matcher)(e))},l.contains=function(e,t,n){if("string"!=typeof e)throw new TypeError("expected a string");if(""===t||" "===t||"."===t)return t===e;var i=r({},n,{contains:!0});return i.strictClose=!1,i.strictOpen=!1,l.isMatch(e,t,i)},l.matcher=function(e,t){if("string"!=typeof e)throw new TypeError("expected pattern to be a string");return u.memoize("matcher",e,t,function(){var n=l.makeRe(e,t);return function(e){return n.test(e)}})},l.create=function(e,t){if("string"!=typeof e)throw new TypeError("expected pattern to be a string");return u.memoize("create",e,t,function(){var n=new c(t),r=n.parse(e,t);return n.compile(r,t)})},l.capture=function(e,t,n){var i=l.makeRe(e,r({capture:!0},n));return u.memoize("capture",e,n,function(){return function(e){var t=i.exec(e);return t?t.slice(1):null}})(t)},l.makeRe=function(e,t){if(e instanceof RegExp)return e;if("string"!=typeof e)throw new TypeError("expected pattern to be a string");if(e.length>65536)throw new Error("expected pattern to be less than 65536 characters");var n=u.memoize("makeRe",e,t,function(){var n=r({strictErrors:!1},t);!0===n.strictErrors&&(n.strict=!0);var i=l.create(e,n);return o(i.output,n)});if(n.source.length>65536)throw new SyntaxError("potentially malicious regex detected");return n},l.cache=u.cache,l.clearCache=function(){l.cache.__data__={}},l.Extglob=c,l.compilers=s,l.parsers=a,e.exports=l},function(e,t,n){"use strict";var r=n(86);e.exports=function(e){function t(){return"function"==typeof e.options.star?e.options.star.apply(this,arguments):"string"==typeof e.options.star?e.options.star:".*?"}e.use(r.compilers),e.compiler.set("escape",function(e){return this.emit(e.val,e)}).set("dot",function(e){return this.emit("\\"+e.val,e)}).set("qmark",function(e){var t="[^\\\\/.]",n=this.prev();if("("===e.parsed.slice(-1)){var r=e.rest.charAt(0);return"!"!==r&&"="!==r&&":"!==r?this.emit(t,e):this.emit(e.val,e)}return"text"===n.type&&n.val?this.emit(t,e):(e.val.length>1&&(t+="{"+e.val.length+"}"),this.emit(t,e))}).set("plus",function(e){var t=e.parsed.slice(-1);if("]"===t||")"===t)return this.emit(e.val,e);var n=this.output.slice(-1);return!this.output||/[?*+]/.test(n)&&"bracket"!==e.parent.type?this.emit("\\+",e):/\w/.test(n)&&!e.inside?this.emit("+\\+?",e):this.emit("+",e)}).set("star",function(e){var n=this.prev(),r="text"!==n.type&&"escape"!==n.type?"(?!\\.)":"";return this.emit(r+t.call(this,e),e)}).set("paren",function(e){return this.mapVisit(e.nodes)}).set("paren.open",function(e){var t=this.options.capture?"(":"";switch(e.parent.prefix){case"!":case"^":return this.emit(t+"(?:(?!(?:",e);case"*":case"+":case"?":case"@":return this.emit(t+"(?:",e);default:var n=e.val;return!0===this.options.bash?n="\\"+n:this.options.capture||"("!==n||"?"===e.parent.rest[0]||(n+="?:"),this.emit(n,e)}}).set("paren.close",function(e){var n=this.options.capture?")":"";switch(e.prefix){case"!":case"^":var r=/^(\)|$)/.test(e.rest)?"$":"",i=t.call(this,e);return e.parent.hasSlash&&!this.options.star&&!1!==this.options.slash&&(i=".*?"),this.emit(r+"))"+i+")"+n,e);case"*":case"+":case"?":return this.emit(")"+e.prefix+n,e);case"@":return this.emit(")"+n,e);default:var o=(!0===this.options.bash?"\\":"")+")";return this.emit(o,e)}}).set("text",function(e){var t=e.val.replace(/[\[\]]/g,"\\$&");return this.emit(t,e)})}},function(e,t,n){"use strict";var r=n(224),i=n(226),o=n(44)("expand-brackets"),s=n(8),a=n(23),c=n(11);function u(e,t){return o("initializing from <%s>",__filename),u.create(e,t).output}u.match=function(e,t,n){e=[].concat(e);for(var r=s({},n),i=u.matcher(t,r),o=e.length,a=-1,c=[];++a<o;){var l=e[a];i(l)&&c.push(l)}if(0===c.length){if(!0===r.failglob)throw new Error('no matches found for "'+t+'"');if(!0===r.nonull||!0===r.nullglob)return[t.split("\\").join("")]}return c},u.isMatch=function(e,t,n){return u.matcher(t,n)(e)},u.matcher=function(e,t){var n=u.makeRe(e,t);return function(e){return n.test(e)}},u.makeRe=function(e,t){var n=u.create(e,t),r=s({strictErrors:!1},t);return c(n.output,r)},u.create=function(e,t){var n=t&&t.snapdragon||new a(t);r(n),i(n);var o=n.parse(e,t);o.input=e;var s=n.compile(o,t);return s.input=e,s},u.compilers=r,u.parsers=i,e.exports=u},function(e,t,n){"use strict";var r=n(86),i=n(88),o="([!@*?+]?\\(|\\)|[*?.+\\\\]|\\[:?(?=.*\\])|:?\\])+",s=n(89).createRegex(o);e.exports.TEXT_REGEX=o,e.exports=function(e){e.state=e.state||{},e.use(r.parsers),e.parser.sets.paren=e.parser.sets.paren||[],e.parser.capture("paren.open",function(){var e=this.parsed,t=this.position(),n=this.match(/^([!@*?+])?\(/);if(n){var r=this.prev(),o=n[1],s=t({type:"paren.open",parsed:e,val:n[0]}),a=t({type:"paren",prefix:o,nodes:[s]});"!"===o&&"paren"===r.type&&"!"===r.prefix&&(r.prefix="@",a.prefix="@"),i(a,"rest",this.input),i(a,"parsed",e),i(a,"parent",r),i(s,"parent",a),this.push("paren",a),r.nodes.push(a)}}).capture("paren.close",function(){var e=this.parsed,t=this.position(),n=this.match(/^\)/);if(n){var r=this.pop("paren"),o=t({type:"paren.close",rest:this.input,parsed:e,val:n[0]});if(!this.isType(r,"paren")){if(this.options.strict)throw new Error('missing opening paren: "("');return o.escaped=!0,o}o.prefix=r.prefix,r.nodes.push(o),i(o,"parent",r)}}).capture("escape",function(){var e=this.position(),t=this.match(/^\\(.)/);if(t)return e({type:"escape",val:t[0],ch:t[1]})}).capture("qmark",function(){var t=this.parsed,n=this.position(),r=this.match(/^\?+(?!\()/);if(r)return e.state.metachar=!0,n({type:"qmark",rest:this.input,parsed:t,val:r[0]})}).capture("star",/^\*(?!\()/).capture("plus",/^\+(?!\()/).capture("dot",/^\./).capture("text",s)}},function(e,t,n){"use strict";
/*!
 * define-property <https://github.com/jonschlinkert/define-property>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(16);e.exports=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("expected an object or function.");if("string"!=typeof t)throw new TypeError("expected `prop` to be a string.");return r(n)&&("set"in n||"get"in n)?Object.defineProperty(e,t,n):Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}},function(e,t,n){"use strict";var r=n(21),i=n(46),o=e.exports,s=o.cache=new i;o.arrayify=function(e){return Array.isArray(e)?e:[e]},o.memoize=function(e,t,n,r){var i=o.createKey(e+t,n);if(s.has(e,i))return s.get(e,i);var a=r(t,n);return n&&!1===n.cache?a:(s.set(e,i,a),a)},o.createKey=function(e,t){var n=e;if(void 0===t)return n;for(var r in t)n+=";"+r+"="+String(t[r]);return n},o.createRegex=function(e){return r(e,{contains:!0,strictClose:!1})}},function(e,t,n){
/*!
 * normalize-path <https://github.com/jonschlinkert/normalize-path>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var r=n(234);e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected a string");return e=e.replace(/[\\\/]+/g,"/"),!1!==t&&(e=r(e)),e}},function(e,t,n){"use strict";var r=n(3),i=n(0),o=n(42).isMatch,s=Object.prototype.toString;function a(e){return void 0===e}e.exports=function(e,t,c){var u,l,h,f,p,d,g=[],m={directories:[],files:[]},y=!1,v=!1;if(a(t)){var b=n(244)();u=b.stream,t=b.processEntry,c=b.done,l=b.handleError,h=b.handleFatalError,u.on("close",function(){y=!0}),u.on("pause",function(){v=!0}),u.on("resume",function(){v=!1})}else l=function(e){g.push(e)},h=function(e){l(e),p(g,null)};if(a(e))return h(new Error("Need to pass at least one argument: opts! \nhttps://github.com/paulmillr/readdirp#options")),u;e.root=e.root||".",e.fileFilter=e.fileFilter||function(){return!0},e.directoryFilter=e.directoryFilter||function(){return!0},e.depth=void 0===e.depth?999999999:e.depth,e.entryType=e.entryType||"files";var w=!0===e.lstat?r.lstat.bind(r):r.stat.bind(r);function x(e){if(!a(e))return function(e){return"[object Function]"===s.call(e)}(e)?e:function(e){return"[object String]"===s.call(e)}(e)?function(t){return o(t.name,e.trim())}:e&&Array.isArray(e)?(e&&(e=e.map(function(e){return e.trim()})),function(e){function t(e){return 0===e.indexOf("!")}if(e.some(t)){if(e.every(t))return!0;throw new Error("Cannot mix negated with non negated glob filters: "+e+"\nhttps://github.com/paulmillr/readdirp#filters")}return!1}(e)?function(t){return e.every(function(e){return o(t.name,e)})}:function(t){return e.some(function(e){return o(t.name,e)})}):void 0}function _(t,n,o){var s=arguments;y||(v?setImmediate(function(){_.apply(null,s)}):r.readdir(t,function(s,a){if(s)return l(s),void o();!function(e,t,n){if(!y){var o=t.length,s=0,a=[];r.realpath(e,function(e,r){if(!y){if(e)return l(e),void n(a);var c=i.relative(d,r);0===t.length?n([]):t.forEach(function(e){var t=i.join(r,e),u=i.join(c,e);w(t,function(i,h){i?l(i):a.push({name:e,path:u,fullPath:t,parentDir:c,fullParentDir:r,stat:h}),++s===o&&n(a)})})}})}}(t,a,function(t){var r=t.filter(function(t){return t.stat.isDirectory()&&e.directoryFilter(t)});r.forEach(function(t){"directories"!==e.entryType&&"both"!==e.entryType&&"all"!==e.entryType||f(t),m.directories.push(t)}),t.filter(function(t){return("all"===e.entryType?!t.stat.isDirectory():t.stat.isFile()||t.stat.isSymbolicLink())&&e.fileFilter(t)}).forEach(function(t){"files"!==e.entryType&&"both"!==e.entryType&&"all"!==e.entryType||f(t),m.files.push(t)});var i=r.length;0===i||n===e.depth?o():r.forEach(function(e){_(e.fullPath,n+1,function(){0==(i-=1)&&o()})})})}))}a(c)?(f=function(){},p=t):(f=t,p=c);try{e.fileFilter=x(e.fileFilter),e.directoryFilter=x(e.directoryFilter)}catch(e){return h(e),u}return r.realpath(e.root,function(t,n){if(t)return h(t),u;d=n,_(e.root,0,function(){g.length>0?p(g,m):p(null,m)})}),u}},function(e,t,n){"use strict";var r=n(38);e.exports=v;var i,o=n(71);v.ReadableState=y;n(19).EventEmitter;var s=function(e,t){return e.listeners(t).length},a=n(93),c=n(39).Buffer,u=global.Uint8Array||function(){};var l=n(25);l.inherits=n(13);var h=n(4),f=void 0;f=h&&h.debuglog?h.debuglog("stream"):function(){};var p,d=n(247),g=n(94);l.inherits(v,a);var m=["error","close","destroy","pause","resume"];function y(e,t){i=i||n(17),e=e||{};var r=t instanceof i;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,s=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(p||(p=n(96).StringDecoder),this.decoder=new p(e.encoding),this.encoding=e.encoding)}function v(e){if(i=i||n(17),!(this instanceof v))return new v(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function b(e,t,n,r,i){var o,s=e._readableState;null===t?(s.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,k(e)}(e,s)):(i||(o=function(e,t){var n;(function(e){return c.isBuffer(e)||e instanceof u})(t)||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(s,t)),o?e.emit("error",o):s.objectMode||t&&t.length>0?("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?s.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,s,t,!0):s.ended?e.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(t=s.decoder.write(t),s.objectMode||0!==t.length?w(e,s,t,!1):E(e,s)):w(e,s,t,!1))):r||(s.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(s)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&k(e)),E(e,t)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=g.destroy,v.prototype._undestroy=g.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),b(this,e,t,!1,n)},v.prototype.unshift=function(e){return b(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){return p||(p=n(96).StringDecoder),this._readableState.decoder=new p(e),this._readableState.encoding=e,this};var x=8388608;function _(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=x?e=x:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(S,e):S(e))}function S(e){f("emit readable"),e.emit("readable"),j(e)}function E(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(C,e,t))}function C(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){f("readable nexttick read 0"),e.read(0)}function T(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function A(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,s=e>o.length?o.length:e;if(s===o.length?i+=o:i+=o.slice(0,e),0===(e-=s)){s===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(s));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,s=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,s),0===(e-=s)){s===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(s));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function P(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(L,t,e))}function L(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function R(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}v.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?P(this):k(this),null;if(0===(e=_(e,t))&&t.ended)return 0===t.length&&P(this),null;var r,i=t.needReadable;return f("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",i=!0),t.ended||t.reading?f("reading or ended",i=!1):i&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=_(n,t))),null===(r=e>0?A(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&P(this)),null!==r&&this.emit("data",r),r},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,f("pipe count=%d opts=%j",i.pipesCount,t);var a=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?u:v;function c(t,r){f("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),e.removeListener("close",m),e.removeListener("finish",y),e.removeListener("drain",l),e.removeListener("error",g),e.removeListener("unpipe",c),n.removeListener("end",u),n.removeListener("end",v),n.removeListener("data",d),h=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){f("onend"),e.end()}i.endEmitted?r.nextTick(a):n.once("end",a),e.on("unpipe",c);var l=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,j(e))}}(n);e.on("drain",l);var h=!1;var p=!1;function d(t){f("ondata"),p=!1,!1!==e.write(t)||p||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==R(i.pipes,e))&&!h&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,p=!0),n.pause())}function g(t){f("onerror",t),v(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",y),v()}function y(){f("onfinish"),e.removeListener("close",m),v()}function v(){f("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",m),e.once("finish",y),e.emit("pipe",n),i.flowing||(f("pipe resume"),n.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var s=R(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},v.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&k(this):r.nextTick(O,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(T,e,t))}(this,e)),this},v.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",function(){if(f("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(f("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<m.length;o++)e.on(m[o],this.emit.bind(this,m[o]));return this._read=function(t){f("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=A},function(e,t,n){e.exports=n(27)},function(e,t,n){"use strict";var r=n(38);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(38);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=m;var o,s=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:r.nextTick;m.WritableState=g;var a=n(25);a.inherits=n(13);var c={deprecate:n(248)},u=n(93),l=n(39).Buffer,h=global.Uint8Array||function(){};var f,p=n(94);function d(){}function g(e,t){o=o||n(17),e=e||{};var a=t instanceof o;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:a&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(_,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),_(e,t))}(e,n,i,t,o);else{var a=w(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||b(e,n),i?s(v,e,n,a,o):v(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function m(e){if(o=o||n(17),!(f.call(m,this)||this instanceof o))return new m(e);this._writableState=new g(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function y(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function v(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),_(e,t)}function b(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,c=!0;n;)o[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;o.allBuffers=c,y(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,h=n.callback;if(y(e,t,!1,t.objectMode?1:u.length,u,l,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function x(e,t){e._final(function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),_(e,t)})}function _(e,t){var n=w(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(x,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}a.inherits(m,u),g.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(g.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(m,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===m&&(e&&e._writableState instanceof g)}})):f=function(e){return e instanceof this},m.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},m.prototype.write=function(e,t,n){var i=this._writableState,o=!1,s=!i.objectMode&&function(e){return l.isBuffer(e)||e instanceof h}(e);return s&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=d),i.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),r.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var o=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(e.emit("error",s),r.nextTick(i,s),o=!1),o}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,n));return t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,a,r,i,o);return c}(this,i,s,e,t,n)),o},m.prototype.cork=function(){this._writableState.corked++},m.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||b(this,e))},m.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(m.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),m.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},m.prototype._writev=null,m.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,_(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),m.prototype.destroy=p.destroy,m.prototype._undestroy=p.undestroy,m.prototype._destroy=function(e,t){this.end(),t(e)}},function(e,t,n){"use strict";var r=n(39).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=s(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=o;var r=n(17),i=n(25);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e),this._transformState={afterTransform:function(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush(function(t,n){a(e,t,n)}):a(this,null,null)}function a(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(13),i.inherits(o,r),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},function(e,t,n){e.exports=l,l.realpath=l,l.sync=h,l.realpathSync=h,l.monkeypatch=function(){r.realpath=l,r.realpathSync=h},l.unmonkeypatch=function(){r.realpath=i,r.realpathSync=o};var r=n(2),i=r.realpath,o=r.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),c=n(254);function u(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function l(e,t,n){if(a)return i(e,t,n);"function"==typeof t&&(n=t,t=null),i(e,t,function(r,i){u(r)?c.realpath(e,t,n):n(r,i)})}function h(e,t){if(a)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,"cwd")?(e.cwd=i.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||i.resolve(e.cwd,"/"),e.root=i.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=s(e.cwd)?e.cwd:h(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new a(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=h,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,i=e.matches.length;r<i;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);t?n.push.apply(n,s):s.forEach(function(e){n[e]=!0})}else if(e.nonull){var a=e.minimatch.globSet[r];t?n.push(a):n[a]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:u));if(e.mark){for(var r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter(function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[h(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n}))}e.ignore.length&&(n=n.filter(function(t){return!f(e,t)}));e.found=n},t.mark=function(e,t){var n=h(e,t),r=e.cache[n],i=t;if(r){var o="DIR"===r||Array.isArray(r),s="/"===t.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==t){var a=h(e,i);e.statCache[a]=e.statCache[n],e.cache[a]=e.cache[n]}}return i},t.isIgnored=f,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return!(!e.gmatcher||!e.gmatcher.match(t))})};var i=n(0),o=n(48),s=n(37),a=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function l(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new a(n,{dot:!0})}return{matcher:new a(e,{dot:!0}),gmatcher:t}}function h(e,t){var n=t;return n="/"===t.charAt(0)?i.join(e.root,t):s(t)||""===t?t:e.changedCwd?i.resolve(e.cwd,t):i.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function f(e,t){return!!e.ignore.length&&e.ignore.some(function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))})}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");Object.keys(t).forEach(function(e){r[e]=t[e]});return r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach(function(e){r[e]=i[e]}),r}}},function(e,t,n){var r=n(100);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(i),e.exports.strict=r(o),i.proto=i(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})})},function(e,t,n){"use strict";const r=n(19),i=n(50),o=n(264),s=n(49),a=n(74),c=n(265),u=n(45),l=n(40),h=n(269),f=n(103),p=n(26),d=n(104),g=n(106),m=["CONNECTING","OPEN","CLOSING","CLOSED"],y=p.kWebSocket,v=[8,13],b=3e4;class w extends r{constructor(e,t,n){super(),this.readyState=w.CONNECTING,this.protocol="",this._binaryType=p.BINARY_TYPES[0],this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage="",this._closeTimer=null,this._closeCode=1006,this._extensions={},this._isServer=!0,this._receiver=null,this._sender=null,this._socket=null,null!==e&&(Array.isArray(t)?t=t.join(", "):"object"==typeof t&&null!==t&&(n=t,t=void 0),function(e,t,n){if(n=Object.assign({protocolVersion:v[1],perMessageDeflate:!0},n,{createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:void 0,auth:void 0,host:void 0,path:void 0,port:void 0}),-1===v.indexOf(n.protocolVersion))throw new RangeError(`Unsupported protocol version: ${n.protocolVersion} `+`(supported versions: ${v.join(", ")})`);var r;this._isServer=!1,"object"==typeof e&&void 0!==e.href?(r=e,this.url=e.href):(r=u.parse(e),this.url=e);const a="ws+unix:"===r.protocol;if(!(r.host||a&&r.pathname))throw new Error(`Invalid URL: ${this.url}`);const c="wss:"===r.protocol||"https:"===r.protocol,h=i.randomBytes(16).toString("base64"),d=c?o:s,g=r.search?`${r.pathname||"/"}${r.search}`:r.pathname||"/";var m;n.createConnection=c?_:x,n.port=r.port||(c?443:80),n.host=r.hostname.startsWith("[")?r.hostname.slice(1,-1):r.hostname,n.headers=Object.assign({"Sec-WebSocket-Version":n.protocolVersion,"Sec-WebSocket-Key":h,Connection:"Upgrade",Upgrade:"websocket"},n.headers),n.path=g,n.perMessageDeflate&&(m=new l(!0!==n.perMessageDeflate?n.perMessageDeflate:{},!1),n.headers["Sec-WebSocket-Extensions"]=f.format({[l.extensionName]:m.offer()}));t&&(n.headers["Sec-WebSocket-Protocol"]=t);n.origin&&(n.protocolVersion<13?n.headers["Sec-WebSocket-Origin"]=n.origin:n.headers.Origin=n.origin);r.auth?n.auth=r.auth:(r.username||r.password)&&(n.auth=`${r.username}:${r.password}`);if(a){const e=g.split(":");null==n.agent&&process.versions.modules<57?n._socketPath=e[0]:n.socketPath=e[0],n.path=e[1]}var y=this._req=d.get(n);n.handshakeTimeout&&y.setTimeout(n.handshakeTimeout,()=>k(this,y,"Opening handshake has timed out"));y.on("error",e=>{this._req.aborted||(y=this._req=null,this.readyState=w.CLOSING,this.emit("error",e),this.emitClose())}),y.on("response",e=>{this.emit("unexpected-response",y,e)||k(this,y,`Unexpected server response: ${e.statusCode}`)}),y.on("upgrade",(e,n,r)=>{if(this.emit("upgrade",e),this.readyState!==w.CONNECTING)return;y=this._req=null;const o=i.createHash("sha1").update(h+p.GUID,"binary").digest("base64");if(e.headers["sec-websocket-accept"]!==o)return void k(this,n,"Invalid Sec-WebSocket-Accept header");const s=e.headers["sec-websocket-protocol"],a=(t||"").split(/, */);var c;if(!t&&s?c="Server sent a subprotocol but none was requested":t&&!s?c="Server sent no subprotocol":s&&-1===a.indexOf(s)&&(c="Server sent an invalid subprotocol"),c)k(this,n,c);else{if(s&&(this.protocol=s),m)try{const t=f.parse(e.headers["sec-websocket-extensions"]);t[l.extensionName]&&(m.accept(t[l.extensionName]),this._extensions[l.extensionName]=m)}catch(e){return void k(this,n,"Invalid Sec-WebSocket-Extensions header")}this.setSocket(n,r,0)}})}.call(this,e,t,n))}get CONNECTING(){return w.CONNECTING}get CLOSING(){return w.CLOSING}get CLOSED(){return w.CLOSED}get OPEN(){return w.OPEN}get binaryType(){return this._binaryType}set binaryType(e){p.BINARY_TYPES.indexOf(e)<0||(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?(this._socket.bufferSize||0)+this._sender._bufferedBytes:0}get extensions(){return Object.keys(this._extensions).join()}setSocket(e,t,n){const r=new d(this._binaryType,this._extensions,n);this._sender=new g(e,this._extensions),this._receiver=r,this._socket=e,r[y]=this,e[y]=this,r.on("conclude",S),r.on("drain",E),r.on("error",C),r.on("message",T),r.on("ping",j),r.on("pong",A),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",P),e.on("data",L),e.on("end",R),e.on("error",M),this.readyState=w.OPEN,this.emit("open")}emitClose(){this.readyState=w.CLOSED,this._socket?(this._extensions[l.extensionName]&&this._extensions[l.extensionName].cleanup(),this._receiver.removeAllListeners(),this.emit("close",this._closeCode,this._closeMessage)):this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==w.CLOSED){if(this.readyState===w.CONNECTING){const e="WebSocket was closed before the connection was established";return k(this,this._req,e)}this.readyState!==w.CLOSING?(this.readyState=w.CLOSING,this._sender.close(e,t,!this._isServer,e=>{e||(this._closeFrameSent=!0,this._socket.writable&&(this._closeFrameReceived&&this._socket.end(),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),b)))})):this._closeFrameSent&&this._closeFrameReceived&&this._socket.end()}}ping(e,t,n){if("function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),this.readyState!==w.OPEN){const e=new Error(`WebSocket is not open: readyState ${this.readyState} `+`(${m[this.readyState]})`);if(n)return n(e);throw e}"number"==typeof e&&(e=e.toString()),void 0===t&&(t=!this._isServer),this._sender.ping(e||p.EMPTY_BUFFER,t,n)}pong(e,t,n){if("function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),this.readyState!==w.OPEN){const e=new Error(`WebSocket is not open: readyState ${this.readyState} `+`(${m[this.readyState]})`);if(n)return n(e);throw e}"number"==typeof e&&(e=e.toString()),void 0===t&&(t=!this._isServer),this._sender.pong(e||p.EMPTY_BUFFER,t,n)}send(e,t,n){if("function"==typeof t&&(n=t,t={}),this.readyState!==w.OPEN){const e=new Error(`WebSocket is not open: readyState ${this.readyState} `+`(${m[this.readyState]})`);if(n)return n(e);throw e}"number"==typeof e&&(e=e.toString());const r=Object.assign({binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0},t);this._extensions[l.extensionName]||(r.compress=!1),this._sender.send(e||p.EMPTY_BUFFER,r,n)}terminate(){if(this.readyState!==w.CLOSED){if(this.readyState===w.CONNECTING){const e="WebSocket was closed before the connection was established";return k(this,this._req,e)}this._socket&&(this.readyState=w.CLOSING,this._socket.destroy())}}}function x(e){return e.path=e.socketPath||e._socketPath||void 0,a.connect(e)}function _(e){return e.path=e.socketPath||e._socketPath||void 0,e.servername=e.servername||e.host,c.connect(e)}function k(e,t,n){e.readyState=w.CLOSING;const r=new Error(n);Error.captureStackTrace(r,k),t.setHeader?(t.abort(),t.once("abort",e.emitClose.bind(e)),e.emit("error",r)):(t.destroy(r),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function S(e,t){const n=this[y];n._socket.removeListener("data",L),n._socket.resume(),n._closeFrameReceived=!0,n._closeMessage=t,n._closeCode=e,1005===e?n.close():n.close(e,t)}function E(){this[y]._socket.resume()}function C(e){const t=this[y];t._socket.removeListener("data",L),t.readyState=w.CLOSING,t._closeCode=e[p.kStatusCode],t.emit("error",e),t._socket.destroy()}function O(){this[y].emitClose()}function T(e){this[y].emit("message",e)}function j(e){const t=this[y];t.pong(e,!t._isServer,p.NOOP),t.emit("ping",e)}function A(e){this[y].emit("pong",e)}function P(){const e=this[y];this.removeListener("close",P),this.removeListener("end",R),e.readyState=w.CLOSING,e._socket.read(),e._receiver.end(),this.removeListener("data",L),this[y]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",O),e._receiver.on("finish",O))}function L(e){this[y]._receiver.write(e)||this.pause()}function R(){const e=this[y];e.readyState=w.CLOSING,e._receiver.end(),this.end()}function M(){const e=this[y];this.removeListener("error",M),this.on("error",p.NOOP),e&&(e.readyState=w.CLOSING,this.destroy())}m.forEach((e,t)=>{w[m[t]]=t}),["open","error","close","message"].forEach(e=>{Object.defineProperty(w.prototype,`on${e}`,{get(){const t=this.listeners(e);for(var n=0;n<t.length;n++)if(t[n]._listener)return t[n]._listener},set(t){const n=this.listeners(e);for(var r=0;r<n.length;r++)n[r]._listener&&this.removeListener(e,n[r]);this.addEventListener(e,t)}})}),w.prototype.addEventListener=h.addEventListener,w.prototype.removeEventListener=h.removeEventListener,e.exports=w},function(e,t,n){"use strict";const r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function i(e,t,n){Object.prototype.hasOwnProperty.call(e,t)?e[t].push(n):e[t]=[n]}e.exports={format:function(e){return Object.keys(e).map(t=>{var n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>[t].concat(Object.keys(e).map(t=>{var n=e[t];return Array.isArray(n)||(n=[n]),n.map(e=>!0===e?t:`${t}=${e}`).join("; ")})).join("; ")).join(", ")}).join(", ")},parse:function(e){const t={};if(void 0===e||""===e)return t;for(var n,o,s={},a=!1,c=!1,u=!1,l=-1,h=-1,f=0;f<e.length;f++){const d=e.charCodeAt(f);if(void 0===n)if(-1===h&&1===r[d])-1===l&&(l=f);else if(32===d||9===d)-1===h&&-1!==l&&(h=f);else{if(59!==d&&44!==d)throw new SyntaxError(`Unexpected character at index ${f}`);{if(-1===l)throw new SyntaxError(`Unexpected character at index ${f}`);-1===h&&(h=f);const r=e.slice(l,h);44===d?(i(t,r,s),s={}):n=r,l=h=-1}}else if(void 0===o)if(-1===h&&1===r[d])-1===l&&(l=f);else if(32===d||9===d)-1===h&&-1!==l&&(h=f);else if(59===d||44===d){if(-1===l)throw new SyntaxError(`Unexpected character at index ${f}`);-1===h&&(h=f),i(s,e.slice(l,h),!0),44===d&&(i(t,n,s),s={},n=void 0),l=h=-1}else{if(61!==d||-1===l||-1!==h)throw new SyntaxError(`Unexpected character at index ${f}`);o=e.slice(l,f),l=h=-1}else if(c){if(1!==r[d])throw new SyntaxError(`Unexpected character at index ${f}`);-1===l?l=f:a||(a=!0),c=!1}else if(u)if(1===r[d])-1===l&&(l=f);else if(34===d&&-1!==l)u=!1,h=f;else{if(92!==d)throw new SyntaxError(`Unexpected character at index ${f}`);c=!0}else if(34===d&&61===e.charCodeAt(f-1))u=!0;else if(-1===h&&1===r[d])-1===l&&(l=f);else if(-1===l||32!==d&&9!==d){if(59!==d&&44!==d)throw new SyntaxError(`Unexpected character at index ${f}`);if(-1===l)throw new SyntaxError(`Unexpected character at index ${f}`);-1===h&&(h=f);var p=e.slice(l,h);a&&(p=p.replace(/\\/g,""),a=!1),i(s,o,p),44===d&&(i(t,n,s),s={},n=void 0),o=void 0,l=h=-1}else-1===h&&(h=f)}if(-1===l||u)throw new SyntaxError("Unexpected end of input");-1===h&&(h=f);const d=e.slice(l,h);return void 0===n?i(t,d,{}):(void 0===o?i(s,d,!0):i(s,o,a?d.replace(/\\/g,""):d),i(t,n,s)),t}}},function(e,t,n){"use strict";const r=n(27),i=n(40),o=n(51),s=n(105),a=n(26),c=0,u=1,l=2,h=3,f=4,p=5;function d(e,t,n,r){const i=new e(n?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(i,d),i[a.kStatusCode]=r,i}function g(e,t){return 1===e.length?e[0]:e.length>1?o.concat(e,t):a.EMPTY_BUFFER}e.exports=class extends r.Writable{constructor(e,t,n){super(),this._binaryType=e||a.BINARY_TYPES[0],this[a.kWebSocket]=void 0,this._extensions=t||{},this._maxPayload=0|n,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=c,this._loop=!1}_write(e,t,n){if(8===this._opcode)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const n=this._buffers[0];e>=n.length?this._buffers.shift().copy(t,t.length-e):(n.copy(t,t.length-e,0,e),this._buffers[0]=n.slice(e)),e-=n.length}while(e>0);return t}startLoop(e){var t;this._loop=!0;do{switch(this._state){case c:t=this.getInfo();break;case u:t=this.getPayloadLength16();break;case l:t=this.getPayloadLength64();break;case h:this.getMask();break;case f:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,d(RangeError,"RSV2 and RSV3 must be clear",!0,1002);const t=64==(64&e[0]);if(t&&!this._extensions[i.extensionName])return this._loop=!1,d(RangeError,"RSV1 must be clear",!0,1002);if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,d(RangeError,"RSV1 must be clear",!0,1002);if(!this._fragmented)return this._loop=!1,d(RangeError,"invalid opcode 0",!0,1002);this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,d(RangeError,`invalid opcode ${this._opcode}`,!0,1002);this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,d(RangeError,`invalid opcode ${this._opcode}`,!0,1002);if(!this._fin)return this._loop=!1,d(RangeError,"FIN must be set",!0,1002);if(t)return this._loop=!1,d(RangeError,"RSV1 must be clear",!0,1002);if(this._payloadLength>125)return this._loop=!1,d(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002)}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),126===this._payloadLength)this._state=u;else{if(127!==this._payloadLength)return this.haveLength();this._state=l}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,d(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009)):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,d(RangeError,"Max payload size exceeded",!1,1009);this._masked?this._state=h:this._state=f}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=f)}getData(e){var t=a.EMPTY_BUFFER;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&o.unmask(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=p,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[i.extensionName].decompress(e,this._fin,(e,n)=>{if(e)return t(e);if(n.length){if(this._messageLength+=n.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(d(RangeError,"Max payload size exceeded",!1,1009));this._fragments.push(n)}const r=this.dataMessage();if(r)return t(r);this.startLoop(t)})}dataMessage(){if(this._fin){const t=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){var e;e="nodebuffer"===this._binaryType?g(n,t):"arraybuffer"===this._binaryType?function(e){return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}(g(n,t)):n,this.emit("message",e)}else{const e=g(n,t);if(!s.isValidUTF8(e))return this._loop=!1,d(Error,"invalid UTF-8 sequence",!0,1007);this.emit("message",e.toString())}}this._state=c}controlMessage(e){if(8!==this._opcode)9===this._opcode?this.emit("ping",e):this.emit("pong",e),this._state=c;else if(this._loop=!1,0===e.length)this.emit("conclude",1005,""),this.end();else{if(1===e.length)return d(RangeError,"invalid payload length 1",!0,1002);{const t=e.readUInt16BE(0);if(!s.isValidStatusCode(t))return d(RangeError,`invalid status code ${t}`,!0,1002);const n=e.slice(2);if(!s.isValidUTF8(n))return d(Error,"invalid UTF-8 sequence",!0,1007);this.emit("conclude",t,n.toString()),this.end()}}}}},function(e,t,n){"use strict";try{const e=n(270);t.isValidUTF8="object"==typeof e?e.Validation.isValidUTF8:e}catch(e){t.isValidUTF8=(()=>!0)}t.isValidStatusCode=(e=>e>=1e3&&e<=1013&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999)},function(e,t,n){"use strict";const r=n(50),i=n(40),o=n(51),s=n(105),a=n(26);class c{constructor(e,t){this._extensions=t||{},this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){const n=e.length<1024||t.mask&&t.readOnly;var i=t.mask?6:2,s=e.length;e.length>=65536?(i+=8,s=127):e.length>125&&(i+=2,s=126);const a=Buffer.allocUnsafe(n?e.length+i:i);if(a[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(a[0]|=64),126===s?a.writeUInt16BE(e.length,2):127===s&&(a.writeUInt32BE(0,2),a.writeUInt32BE(e.length,6)),!t.mask)return a[1]=s,n?(e.copy(a,i),[a]):[a,e];const c=r.randomBytes(4);return a[1]=128|s,a[i-4]=c[0],a[i-3]=c[1],a[i-2]=c[2],a[i-1]=c[3],n?(o.mask(e,c,a,i,e.length),[a]):(o.mask(e,c,e,0,e.length),[a,e])}close(e,t,n,r){var i;if(void 0===e)i=a.EMPTY_BUFFER;else{if("number"!=typeof e||!s.isValidStatusCode(e))throw new TypeError("First argument must be a valid error code number");void 0===t||""===t?(i=Buffer.allocUnsafe(2)).writeUInt16BE(e,0):((i=Buffer.allocUnsafe(2+Buffer.byteLength(t))).writeUInt16BE(e,0),i.write(t,2))}this._deflating?this.enqueue([this.doClose,i,n,r]):this.doClose(i,n,r)}doClose(e,t,n){this.sendFrame(c.frame(e,{fin:!0,rsv1:!1,opcode:8,mask:t,readOnly:!1}),n)}ping(e,t,n){var r=!0;Buffer.isBuffer(e)||(e instanceof ArrayBuffer?e=Buffer.from(e):ArrayBuffer.isView(e)?e=u(e):(e=Buffer.from(e),r=!1)),this._deflating?this.enqueue([this.doPing,e,t,r,n]):this.doPing(e,t,r,n)}doPing(e,t,n,r){this.sendFrame(c.frame(e,{fin:!0,rsv1:!1,opcode:9,mask:t,readOnly:n}),r)}pong(e,t,n){var r=!0;Buffer.isBuffer(e)||(e instanceof ArrayBuffer?e=Buffer.from(e):ArrayBuffer.isView(e)?e=u(e):(e=Buffer.from(e),r=!1)),this._deflating?this.enqueue([this.doPong,e,t,r,n]):this.doPong(e,t,r,n)}doPong(e,t,n,r){this.sendFrame(c.frame(e,{fin:!0,rsv1:!1,opcode:10,mask:t,readOnly:n}),r)}send(e,t,n){var r=t.binary?2:1,o=t.compress,s=!0;Buffer.isBuffer(e)||(e instanceof ArrayBuffer?e=Buffer.from(e):ArrayBuffer.isView(e)?e=u(e):(e=Buffer.from(e),s=!1));const a=this._extensions[i.extensionName];if(this._firstFragment?(this._firstFragment=!1,o&&a&&(o=e.length>=a._threshold),this._compress=o):(o=!1,r=0),t.fin&&(this._firstFragment=!0),a){const i={fin:t.fin,rsv1:o,opcode:r,mask:t.mask,readOnly:s};this._deflating?this.enqueue([this.dispatch,e,this._compress,i,n]):this.dispatch(e,this._compress,i,n)}else this.sendFrame(c.frame(e,{fin:t.fin,rsv1:!1,opcode:r,mask:t.mask,readOnly:s}),n)}dispatch(e,t,n,r){if(!t)return void this.sendFrame(c.frame(e,n),r);const o=this._extensions[i.extensionName];this._deflating=!0,o.compress(e,n.fin,(e,t)=>{n.readOnly=!1,this.sendFrame(c.frame(t,n),r),this._deflating=!1,this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[1].length,e[0].apply(this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[1].length,this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.write(e[0]),this._socket.write(e[1],t)):this._socket.write(e[0],t)}}function u(e){const t=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength?t.slice(e.byteOffset,e.byteOffset+e.byteLength):t}e.exports=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);function i(e){let t=e.search(/(?!\\)%/);return-1!==t?(t++,e.slice(0,t)):e}function o(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function s(e,t){const n=[];let r=t.exec(e);for(;r;)n.push(r),r=t.exec(e);return n}t.escapeRegExp=o;t.EnvPair=class{constructor(e){this.beginLength="\\begin".length,this.endLength="\\end".length,this.extension=e}getEnvName(e,t,n){const r=e.slice(t),i=new RegExp("^"+n+"\\{([^\\{\\}]*)\\}"),o=r.match(i);return o&&2===o.length?o[1]:null}tokenizeLine(e,t){const n=i(e.lineAt(t).text),o=t.character;if(o>n.length)return null;const s=n.slice(0,o+1).lastIndexOf("\\"),a=new r.Position(t.line,s);if(s+this.beginLength>=o&&"\\begin"===n.slice(s,s+this.beginLength)){const e=this.getEnvName(n,s,"\\\\begin");if(e)return{pos:a,type:"begin",name:e}}else if(s+this.endLength>=o&&"\\end"===n.slice(s,s+this.endLength)){const e=this.getEnvName(n,s,"\\\\end");if(e)return{pos:a,type:"end",name:e}}return null}locateMatchingPair(e,t,n,o){const a=new RegExp(e,"g");let c=n.line,u=0,l=o.lineAt(c).text;for(1===t?l=l.slice(l.indexOf("}",n.character)+1):-1===t&&(l=l.slice(0,n.character));;){let e=s(l=i(l),a);-1===t&&(e=e.reverse());for(const n of e)if(("begin"===n[1]&&1===t||"end"===n[1]&&-1===t)&&(u+=1),"end"===n[1]&&1===t||"begin"===n[1]&&-1===t){if(0===u){const e=new r.Position(c,n.index+1);return{name:n[2],type:n[1],pos:e}}u-=1}if((c+=t)<0||c>=o.lineCount)break;l=o.lineAt(c).text}return null}gotoPair(){const e=r.window.activeTextEditor;if(!e||"latex"!==e.document.languageId)return;const t=e.selection.active,n=e.document,i=this.tokenizeLine(n,t);if(!i)return;const s=i.pos,a="\\\\(begin|end)\\{"+o(i.name)+"\\}",c="begin"===i.type?1:-1,u=this.locateMatchingPair(a,c,s,n);if(u){const t=u.pos;e.selection=new r.Selection(t,t),e.revealRange(new r.Range(t,t))}}selectEnvName(e){const t=r.window.activeTextEditor;if(!t||"latex"!==t.document.languageId)return;const n=t.selection.active,i=t.document,o="\\\\(begin|end)\\{([^\\{\\}]*)\\}",s=this.locateMatchingPair(o,-1,n,i);if(!s)return;const a=this.locateMatchingPair(o,1,s.pos,i);if(!a)return;const c=s.pos.translate(0,"begin{".length),u=a.pos.translate(0,"end{".length);switch(e){case"cursor":t.selections=[new r.Selection(c,c),new r.Selection(u,u)];break;case"selection":const n=s.name.length,i=c.translate(0,n),o=u.translate(0,n);t.selections=[new r.Selection(c,i),new r.Selection(u,o)];break;default:this.extension.logger.addLogMessage("Error - while selecting environment name")}}closeEnv(){const e=r.window.activeTextEditor;if(!e||"latex"!==e.document.languageId)return;const t=e.document,n=e.selection.active,i=this.locateMatchingPair("\\\\(begin|end)\\{([^\\{\\}]*)\\}",-1,n,t);if(i){const t="\\end{"+i.name+"}";return e.edit(e=>{e.insert(n,t)})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.tokenizer=function(e,t){const n=e.getText(new r.Range(new r.Position(t.line,0),t)).match(/[\\{,\s](?=[^\\{,\s]*$)/),i=e.getText(new r.Range(t,new r.Position(t.line,65535))).match(/[{}\[\],\s]/);if(!(null===n||null===i||void 0===n.index||void 0===i.index||n.index<0||i.index<0))return e.getText(new r.Range(new r.Position(t.line,n.index+1),new r.Position(t.line,t.character+i.index)))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(0),s=n(2),a=n(110),c=n(134),u=n(135),l=n(136),h=n(260),f=n(261),p=n(262),d=n(272),g=n(273),m=n(274),y=n(275),v=n(276),b=n(277),w=n(107),x=n(278),_=n(285),k=n(286),S=n(289),E=n(290),C=n(59),O=n(291),T=n(292),j=n(293);function A(){!function(e,t){const n=i.workspace.getConfiguration("latex-workshop");if(!n.has(e))return;const r=n.inspect(e);r&&void 0!==r.globalValue&&(n.update(t,r.globalValue,!0),n.update(e,void 0,!0)),r&&void 0!==r.workspaceValue&&(n.update(t,r.workspaceValue,!1),n.update(e,void 0,!1))}("placeholder","")}t.activate=function(e){return r(this,void 0,void 0,function*(){const t=new P;global.latex=t,i.commands.executeCommand("setContext","latex-workshop:enabled",!0),i.commands.registerCommand("latex-workshop.build",()=>t.commander.build()),i.commands.registerCommand("latex-workshop.recipes",e=>t.commander.recipes(e)),i.commands.registerCommand("latex-workshop.view",e=>t.commander.view(e)),i.commands.registerCommand("latex-workshop.tab",()=>t.commander.tab()),i.commands.registerCommand("latex-workshop.kill",()=>t.commander.kill()),i.commands.registerCommand("latex-workshop.synctex",()=>t.commander.synctex()),i.commands.registerCommand("latex-workshop.synctexto",e=>t.commander.synctexonref(e)),i.commands.registerCommand("latex-workshop.clean",()=>t.commander.clean()),i.commands.registerCommand("latex-workshop.actions",()=>t.commander.actions()),i.commands.registerCommand("latex-workshop.citation",()=>t.commander.citation()),i.commands.registerCommand("latex-workshop.addtexroot",()=>t.commander.addTexRoot()),i.commands.registerCommand("latex-workshop.wordcount",()=>t.commander.wordcount()),i.commands.registerCommand("latex-workshop.log",e=>t.commander.log(e)),i.commands.registerCommand("latex-workshop.code-action",(e,n,r,i)=>t.codeActions.runCodeAction(e,n,r,i)),i.commands.registerCommand("latex-workshop.goto-section",(e,n)=>t.commander.gotoSection(e,n)),i.commands.registerCommand("latex-workshop.navigate-envpair",()=>t.commander.navigateToEnvPair()),i.commands.registerCommand("latex-workshop.select-envname",()=>t.commander.selectEnvName()),i.commands.registerCommand("latex-workshop.multicursor-envname",()=>t.commander.multiCursorEnvName()),i.commands.registerCommand("latex-workshop.close-env",()=>t.commander.closeEnv()),i.commands.registerCommand("latex-workshop.wrap-env",()=>t.commander.insertSnippet("wrapEnv")),i.commands.registerCommand("latex-workshop.onEnterKey",()=>t.commander.onEnterKey()),i.commands.registerCommand("latex-workshop.onAltEnterKey",()=>t.commander.onEnterKey("alt")),i.commands.registerCommand("latex-workshop-dev.parselog",()=>t.commander.devParseLog()),i.commands.registerCommand("latex-workshop.shortcut.item",()=>t.commander.insertSnippet("item")),i.commands.registerCommand("latex-workshop.shortcut.emph",()=>t.commander.toggleSelectedKeyword("emph")),i.commands.registerCommand("latex-workshop.shortcut.textbf",()=>t.commander.toggleSelectedKeyword("textbf")),i.commands.registerCommand("latex-workshop.shortcut.textit",()=>t.commander.toggleSelectedKeyword("textit")),i.commands.registerCommand("latex-workshop.shortcut.underline",()=>t.commander.toggleSelectedKeyword("underline")),i.commands.registerCommand("latex-workshop.shortcut.textrm",()=>t.commander.toggleSelectedKeyword("textrm")),i.commands.registerCommand("latex-workshop.shortcut.texttt",()=>t.commander.toggleSelectedKeyword("texttt")),i.commands.registerCommand("latex-workshop.shortcut.textsl",()=>t.commander.toggleSelectedKeyword("textsl")),i.commands.registerCommand("latex-workshop.shortcut.textsc",()=>t.commander.toggleSelectedKeyword("textsc")),i.commands.registerCommand("latex-workshop.shortcut.textnormal",()=>t.commander.toggleSelectedKeyword("textnormal")),i.commands.registerCommand("latex-workshop.shortcut.textsuperscript",()=>t.commander.toggleSelectedKeyword("textsuperscript")),i.commands.registerCommand("latex-workshop.shortcut.textsubscript",()=>t.commander.toggleSelectedKeyword("textsubscript")),i.commands.registerCommand("latex-workshop.shortcut.mathbf",()=>t.commander.toggleSelectedKeyword("mathbf")),i.commands.registerCommand("latex-workshop.shortcut.mathit",()=>t.commander.toggleSelectedKeyword("mathit")),i.commands.registerCommand("latex-workshop.shortcut.mathrm",()=>t.commander.toggleSelectedKeyword("mathrm")),i.commands.registerCommand("latex-workshop.shortcut.mathtt",()=>t.commander.toggleSelectedKeyword("mathtt")),i.commands.registerCommand("latex-workshop.shortcut.mathsf",()=>t.commander.toggleSelectedKeyword("mathsf")),i.commands.registerCommand("latex-workshop.shortcut.mathbb",()=>t.commander.toggleSelectedKeyword("mathbb")),i.commands.registerCommand("latex-workshop.shortcut.mathcal",()=>t.commander.toggleSelectedKeyword("mathcal")),i.commands.registerCommand("latex-workshop.surround",()=>t.completer.command.surround()),e.subscriptions.push(i.workspace.onDidSaveTextDocument(e=>{t.manager.hasTexId(e.languageId)&&(t.linter.lintRootFileIfEnabled(),t.structureProvider.refresh(),t.structureProvider.update(),i.workspace.getConfiguration("latex-workshop").get("latex.autoBuild.onSave.enabled")&&!t.builder.disableBuildAfterSave&&(t.logger.addLogMessage(`Auto-build ${e.fileName} upon save.`),t.commander.build(!0)))})),e.subscriptions.push(i.window.onDidChangeTextEditorSelection(e=>{const n=i.window.activeTextEditor;if(n&&e.kind){const r=n.document.getText(new i.Range(e.selections[0].start,e.selections[0].end));(r.length>0||t.completer.command.shouldClearSelection)&&(t.completer.command.selection=r),t.completer.command.shouldClearSelection=0===r.length}})),e.subscriptions.push(i.workspace.onDidOpenTextDocument(e=>{t.manager.hasTexId(e.languageId)&&(A(),t.manager.findRoot(),t.structureProvider.refresh(),t.structureProvider.update()),"pdf"===e.languageId&&"latex-workshop-pdf"!==e.uri.scheme&&i.commands.executeCommand("workbench.action.closeActiveEditor").then(()=>{t.commander.pdf(e.uri)})})),e.subscriptions.push(i.workspace.onDidChangeTextDocument(e=>{t.manager.hasTexId(e.document.languageId)&&t.linter.lintActiveFileIfEnabledAfterInterval()})),e.subscriptions.push(i.window.onDidChangeActiveTextEditor(e=>{i.window.activeTextEditor&&i.window.activeTextEditor.document.fileName&&(t.manager.hasTexId(i.window.activeTextEditor.document.languageId)||"log"===i.window.activeTextEditor.document.languageId.toLowerCase())?(t.logger.status.show(),i.commands.executeCommand("setContext","latex-workshop:enabled",!0)):(t.logger.status.hide(),i.commands.executeCommand("setContext","latex-workshop:enabled",!1)),e&&t.manager.hasTexId(e.document.languageId)&&t.linter.lintActiveFileIfEnabled()})),e.subscriptions.push(i.workspace.createFileSystemWatcher("**/*.tex",!0,!1,!0).onDidChange(e=>{if(i.window.activeTextEditor&&i.window.activeTextEditor.document.fileName===e.fsPath)return;if(!i.workspace.getConfiguration("latex-workshop").get("latex.autoBuild.onTexChange.enabled")||t.builder.disableBuildAfterSave)return;t.logger.addLogMessage(`${e.fsPath} changed. Auto build project.`);const n=t.manager.findRoot();void 0!==n?(t.logger.addLogMessage(`Building root file: ${n}`),t.builder.build(t.manager.rootFile)):t.logger.addLogMessage("Cannot find LaTeX root file.")})),t.manager.findRoot();const n=new T.LatexFormatterProvider(t);i.languages.registerDocumentFormattingEditProvider({scheme:"file",language:"latex"},n),i.languages.registerDocumentFormattingEditProvider({scheme:"file",language:"bibtex"},n),i.languages.registerDocumentRangeFormattingEditProvider({scheme:"file",language:"latex"},n),i.languages.registerDocumentRangeFormattingEditProvider({scheme:"file",language:"bibtex"},n),e.subscriptions.push(i.window.registerTreeDataProvider("latex-commands",new c.LaTeXCommander(t))),e.subscriptions.push(i.window.registerTreeDataProvider("latex-structure",t.structureProvider)),e.subscriptions.push(i.languages.registerHoverProvider({scheme:"file",language:"latex"},new k.HoverProvider(t))),e.subscriptions.push(i.languages.registerDefinitionProvider({scheme:"file",language:"latex"},new O.DefinitionProvider(t))),e.subscriptions.push(i.languages.registerDocumentSymbolProvider({scheme:"file",language:"latex"},new S.DocSymbolProvider(t))),e.subscriptions.push(i.languages.registerWorkspaceSymbolProvider(new E.ProjectSymbolProvider(t))),e.subscriptions.push(i.languages.registerCompletionItemProvider({scheme:"file",language:"tex"},t.completer,"\\","{")),e.subscriptions.push(i.languages.registerCompletionItemProvider({scheme:"file",language:"latex"},t.completer,"\\","{",",","(","[")),e.subscriptions.push(i.languages.registerCompletionItemProvider({scheme:"file",language:"doctex"},t.completer,"\\","{",",","(","[")),e.subscriptions.push(i.languages.registerCodeActionsProvider({scheme:"file",language:"latex"},t.codeActions)),e.subscriptions.push(i.languages.registerFoldingRangeProvider({scheme:"file",language:"latex"},new j.FoldingProvider)),t.linter.lintRootFileIfEnabled(),A(),function(e,t,n){void 0!==i.extensions.getExtension(e)&&i.window.showWarningMessage(`LaTeX Workshop is incompatible with extension "${t}". ${n}`)}("tomoki1207.pdf","vscode-pdf",'All features of "vscode-pdf" are supported by LaTeX Workshop.'),function(e,t){s.readFile(`${e}${o.sep}package.json`,(n,r)=>{if(n)return void t.logger.addLogMessage("Cannot read package information.");if(t.packageInfo=JSON.parse(r.toString()),t.logger.addLogMessage(`LaTeX Workshop version: ${t.packageInfo.version}`),s.existsSync(`${e}${o.sep}VERSION`)&&s.readFileSync(`${e}${o.sep}VERSION`).toString()===t.packageInfo.version)return;s.writeFileSync(`${e}${o.sep}VERSION`,t.packageInfo.version);const a=i.workspace.getConfiguration("latex-workshop");a.get("message.update.show")&&i.window.showInformationMessage(`LaTeX Workshop updated to version ${t.packageInfo.version}.`,"Change log","Star the project","Disable this message").then(e=>{switch(e){case"Change log":i.commands.executeCommand("vscode.open",i.Uri.parse("https://github.com/James-Yu/LaTeX-Workshop/blob/master/CHANGELOG.md"));break;case"Star the project":i.commands.executeCommand("vscode.open",i.Uri.parse("https://github.com/James-Yu/LaTeX-Workshop"));break;case"Disable this message":a.update("message.update.show",!1,!0)}})})}(e.extensionPath,t),i.window.visibleTextEditors.forEach(e=>{const n=e.document;"pdf"===n.languageId&&"latex-workshop-pdf"!==n.uri.scheme&&i.commands.executeCommand("workbench.action.closeActiveEditor").then(()=>{t.commander.pdf(n.uri)})})})};class P{constructor(){this.extensionRoot=o.resolve(`${__dirname}/../../`),this.logger=new u.Logger(this),this.commander=new a.Commander(this),this.manager=new l.Manager(this),this.builder=new h.Builder(this),this.viewer=new f.Viewer(this),this.server=new p.Server(this),this.locator=new d.Locator(this),this.parser=new g.Parser(this),this.completer=new x.Completer(this),this.linter=new m.Linter(this),this.cleaner=new y.Cleaner(this),this.counter=new v.Counter(this),this.codeActions=new _.CodeActions(this),this.texMagician=new b.TeXMagician(this),this.envPair=new w.EnvPair(this),this.structureProvider=new C.SectionNodeProvider(this),this.logger.addLogMessage("LaTeX Workshop initialized.")}}t.Extension=P},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(15),s=n(59);t.Commander=class{constructor(e){let t;this.snippets={},this.extension=e,o.readFile(`${this.extension.extensionRoot}/snippets/latex.json`).then(e=>{t=e.toString()}).then(()=>{const e=JSON.parse(t);Object.keys(e).forEach(t=>{this.snippets[t]=new i.SnippetString(e[t].body)}),this.extension.logger.addLogMessage("Snippet data loaded.")}).catch(e=>this.extension.logger.addLogMessage(`Error reading data: ${e}.`))}build(e=!1,t){return r(this,void 0,void 0,function*(){if(this.extension.logger.addLogMessage("BUILD command invoked."),!i.window.activeTextEditor||!this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId))return;const n=yield this.extension.manager.findRoot();if(void 0!==n)if(e)this.extension.logger.addLogMessage(`Building root file: ${n}`),this.extension.builder.build(n,t);else{const e=this.extension.manager.findSubFiles();e?i.window.showQuickPick([{label:"Default root file",description:`Path: ${n}`},{label:"Subfiles package root file",description:`Path: ${e}`}],{placeHolder:"Subfiles package detected. Which file to build?",matchOnDescription:!0}).then(r=>{if(r)switch(r.label){case"Default root file":this.extension.logger.addLogMessage(`Building root file: ${n}`),this.extension.builder.build(n,t);break;case"Subfiles package root file":this.extension.logger.addLogMessage(`Building root file: ${e}`),this.extension.builder.build(e,t)}}):(this.extension.logger.addLogMessage(`Building root file: ${n}`),this.extension.builder.build(n,t))}else this.extension.logger.addLogMessage("Cannot find LaTeX root file.")})}recipes(e){this.extension.logger.addLogMessage("RECIPES command invoked.");const t=i.workspace.getConfiguration("latex-workshop").get("latex.recipes");t&&(e?this.build(!1,e):i.window.showQuickPick(t.map(e=>e.name),{placeHolder:"Please Select a LaTeX Recipe"}).then(e=>{e&&this.build(!1,e)}))}view(e){return r(this,void 0,void 0,function*(){if(this.extension.logger.addLogMessage("VIEW command invoked."),!i.window.activeTextEditor||!this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId))return;const t=yield this.extension.manager.findRoot();if(void 0===t)return void this.extension.logger.addLogMessage("Cannot find LaTeX root PDF to view.");const n=i.workspace.getConfiguration("latex-workshop");"browser"!==e?"tab"!==e?"set"!==e?("none"===n.get("view.pdf.viewer")?this.setViewer():Promise.resolve()).then(()=>{switch(n.get("view.pdf.viewer")){case"browser":this.extension.viewer.openViewer(t);break;case"tab":default:this.extension.viewer.openTab(t);break;case"external":this.extension.viewer.openExternal(t)}}):this.setViewer():this.extension.viewer.openTab(t):this.extension.viewer.openViewer(t)})}kill(){this.extension.logger.addLogMessage("KILL command invoked."),this.extension.builder.kill()}browser(){return r(this,void 0,void 0,function*(){if(this.extension.logger.addLogMessage("BROWSER command invoked."),!i.window.activeTextEditor||!this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId))return;const e=yield this.extension.manager.findRoot();void 0!==e?this.extension.viewer.openViewer(e):this.extension.logger.addLogMessage("Cannot find LaTeX root PDF to view.")})}tab(){return r(this,void 0,void 0,function*(){if(this.extension.logger.addLogMessage("TAB command invoked."),!i.window.activeTextEditor||!this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId))return;const e=yield this.extension.manager.findRoot();void 0!==e?this.extension.viewer.openTab(e):this.extension.logger.addLogMessage("Cannot find LaTeX root PDF to view.")})}pdf(e){this.extension.logger.addLogMessage("PDF command invoked."),void 0!==e&&e.fsPath.endsWith(".pdf")&&this.extension.viewer.openTab(e.fsPath,!1,!1)}synctex(){return r(this,void 0,void 0,function*(){this.extension.logger.addLogMessage("SYNCTEX command invoked."),yield this.extension.manager.findRoot(),i.window.activeTextEditor&&this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId)&&this.extension.locator.syncTeX()})}synctexonref(e){return r(this,void 0,void 0,function*(){this.extension.logger.addLogMessage("SYNCTEX command invoked."),yield this.extension.manager.findRoot(),i.window.activeTextEditor&&this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId)&&this.extension.locator.syncTeXOnRef(e)})}clean(){return r(this,void 0,void 0,function*(){return this.extension.logger.addLogMessage("CLEAN command invoked."),yield this.extension.manager.findRoot(),this.extension.cleaner.clean()})}addTexRoot(){this.extension.logger.addLogMessage("ADDTEXROOT command invoked."),i.window.activeTextEditor&&this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId)&&this.extension.texMagician.addTexRoot()}citation(){this.extension.logger.addLogMessage("CITATION command invoked."),this.extension.completer.citation.browser()}wordcount(){this.extension.logger.addLogMessage("WORDCOUNT command invoked."),i.window.activeTextEditor&&this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId)&&this.extension.manager.rootFile!==i.window.activeTextEditor.document.fileName?this.extension.counter.count(i.window.activeTextEditor.document.fileName,!1):this.extension.counter.count(this.extension.manager.rootFile)}log(e){this.extension.logger.addLogMessage("LOG command invoked."),e?this.extension.logger.showCompilerLog():this.extension.logger.showLog()}gotoSection(e,t){this.extension.logger.addLogMessage(`GOTOSECTION command invoked. Target ${e}, line ${t}`);const n=i.window.activeTextEditor;i.workspace.openTextDocument(e).then(e=>{i.window.showTextDocument(e).then(e=>{i.commands.executeCommand("revealLine",{lineNumber:t,at:"center"}),n&&(n.selection=new i.Selection(new i.Position(t,0),new i.Position(t,0)))})})}setViewer(){const e=i.workspace.getConfiguration("latex-workshop");return i.window.showQuickPick(["VSCode tab","Web browser"],{placeHolder:"View PDF with"}).then(t=>{switch(t){case"Web browser":e.update("view.pdf.viewer","browser",!0),i.window.showInformationMessage('By default, PDF will be viewed with web browser. This setting can be changed at "latex-workshop.view.pdf.viewer".');break;case"VSCode tab":e.update("view.pdf.viewer","tab",!0),i.window.showInformationMessage('By default, PDF will be viewed with VSCode tab. This setting can be changed at "latex-workshop.view.pdf.viewer".')}})}navigateToEnvPair(){this.extension.logger.addLogMessage("JumpToEnvPair command invoked."),i.window.activeTextEditor&&this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId)&&this.extension.envPair.gotoPair()}selectEnvName(){this.extension.logger.addLogMessage("SelectEnvName command invoked."),i.window.activeTextEditor&&this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId)&&this.extension.envPair.selectEnvName("selection")}multiCursorEnvName(){this.extension.logger.addLogMessage("MutliCursorEnvName command invoked."),i.window.activeTextEditor&&this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId)&&this.extension.envPair.selectEnvName("cursor")}closeEnv(){this.extension.logger.addLogMessage("CloseEnv command invoked."),i.window.activeTextEditor&&this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId)&&this.extension.envPair.closeEnv()}actions(){this.extension.logger.addLogMessage("ACTIONS command invoked.");const e=i.workspace.getConfiguration("latex-workshop");if(!this.commandTitles){const e=this.extension.packageInfo.contributes.commands.filter(e=>e.command.indexOf("latex-workshop-dev")>-1?0:["latex-workshop.actions","latex-workshop.build","latex-workshop.recipes","latex-workshop.view","latex-workshop.compilerlog","latex-workshop.log","latex-workshop.tab"].indexOf(e.command)<0);this.commandTitles=e.map(e=>e.title),this.commands=e.map(e=>e.command)}i.window.showQuickPick(["Build LaTeX project","View LaTeX PDF","View log messages","Miscellaneous LaTeX functions","Create an issue on Github","Star the project"]).then(t=>{if(t)switch(t){case"Build LaTeX project":this.recipes();break;case"View LaTeX PDF":const n=[];"none"!==e.get("view.pdf.viewer")&&n.push("View in default viewer"),i.window.showQuickPick([...n,"Set default viewer","View in web browser","View in VS Code tab"]).then(e=>{switch(e){case"View in default viewer":this.view();break;case"Set default viewer":default:this.setViewer();break;case"View in web browser":this.browser();break;case"View in VS Code tab":this.tab()}});break;case"View log messages":i.window.showQuickPick(["View LaTeX compiler log messages","View LaTeX-Workshop extension messages","View LaTeX-Workshop extension change log"]).then(e=>{switch(e){case"View LaTeX compiler log messages":default:this.log(!0);break;case"View LaTeX-Workshop extension messages":this.log();break;case"View LaTeX-Workshop extension change log":i.commands.executeCommand("vscode.open",i.Uri.parse("https://github.com/James-Yu/LaTeX-Workshop/blob/master/CHANGELOG.md"))}});break;case"Miscellaneous LaTeX functions":i.window.showQuickPick(this.commandTitles).then(e=>{void 0!==e&&i.commands.executeCommand(this.commands[this.commandTitles.indexOf(e)])});break;case"Create an issue on Github":i.commands.executeCommand("vscode.open",i.Uri.parse("https://github.com/James-Yu/LaTeX-Workshop/issues/new"));break;case"Star the project":i.commands.executeCommand("vscode.open",i.Uri.parse("https://github.com/James-Yu/LaTeX-Workshop"));break;default:const r=this.commands[this.commandTitles.indexOf(t)];i.commands.executeCommand(r)}})}insertSnippet(e){const t=i.window.activeTextEditor;t&&e in this.snippets&&t.insertSnippet(this.snippets[e])}onEnterKey(e){const t=i.window.activeTextEditor;if(!t)return;if(!i.workspace.getConfiguration("latex-workshop").get("bind.enter.key"))return t.edit(()=>{i.commands.executeCommand("type",{source:"keyboard",text:"\n"})});if("alt"===e)return i.commands.executeCommand("editor.action.insertLineAfter");const n=t.selection.active,r=t.document.lineAt(n.line);if(/^\s*\\item(\[\s*\])?\s*$/.exec(r.text)){const e=r.range.with(n.with(r.lineNumber,r.firstNonWhitespaceCharacterIndex),r.range.end);return t.edit(t=>{t.delete(e)})}const o=/^(\s*)\\item(\[[^\[\]]*\])?\s*(.*)$/.exec(r.text);if(o){let e,s="";return o[1]&&(s+=o[1]),o[2]?(s+="\\item[] ",e=n.with(r.lineNumber+1,s.length-2)):(s+="\\item ",e=n.with(r.lineNumber+1,s.length)),t.edit(e=>{e.insert(n,"\n"+s)}).then(()=>{t.selection=new i.Selection(e,e)}).then(()=>{t.revealRange(t.selection)})}return t.edit(()=>{i.commands.executeCommand("type",{source:"keyboard",text:"\n"})})}toggleSelectedKeyword(e,t){const n=i.window.activeTextEditor;if(void 0===n)return;const{selection:r,document:o}=n,a=o.getText(r),c=o.lineAt(r.anchor),u=new RegExp(`\\\\${e}{`,"g");let l=u.exec(c.text);for(;null!==l;){const e=c.range.start.translate(0,l.index),t=e.translate(0,l[0].length),a=o.getText(new i.Range(t,c.range.end)),h=s.getLongestBalancedString(a),f=new i.Range(e,t.translate(0,h.length+1));if(f.contains(r))return n.edit(e=>{e.replace(f,h)}),"removed";l=u.exec(c.text)}if(a.length>0)n.edit(n=>{!0===t?n.replace(r,`{\\${e} ${a}}`):n.replace(r,`\\${e}{${a}}`)});else{let o;o=!0===t?new i.SnippetString(`{\\${e} $1}`):new i.SnippetString(`\\${e}{$1}`),n.insertSnippet(o,r.start)}return"added"}devParseLog(){void 0!==i.window.activeTextEditor&&this.extension.parser.parse(i.window.activeTextEditor.document.getText())}}},function(e,t,n){"use strict";e.exports=function(){const e=[].slice.call(arguments).filter(e=>e),t=e.shift();return e.forEach(e=>{Object.keys(e).forEach(n=>{t[n]=e[n]})}),t}},function(e,t,n){var r=n(53),i=n(113),o=process.cwd,s=null,a=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return s||(s=o.call(process)),s};try{process.cwd()}catch(e){}var c=process.chdir;function u(e){return e?function(t,n,i){return e.call(r,t,n,function(e){g(e)&&(e=null),i&&i.apply(this,arguments)})}:e}function l(e){return e?function(t,n){try{return e.call(r,t,n)}catch(e){if(!g(e))throw e}}:e}function h(e){return e?function(t,n,i,o){return e.call(r,t,n,i,function(e){g(e)&&(e=null),o&&o.apply(this,arguments)})}:e}function f(e){return e?function(t,n,i){try{return e.call(r,t,n,i)}catch(e){if(!g(e))throw e}}:e}function p(e){return e?function(t,n){return e.call(r,t,function(e,t){if(!t)return n.apply(this,arguments);t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296),n&&n.apply(this,arguments)})}:e}function d(e){return e?function(t){var n=e.call(r,t);return n.uid<0&&(n.uid+=4294967296),n.gid<0&&(n.gid+=4294967296),n}:e}function g(e){return!e||("ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code))}process.chdir=function(e){s=null,c.call(process,e)},e.exports=function(e){i.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,r){e.open(t,i.O_WRONLY|i.O_SYMLINK,n,function(t,i){t?r&&r(t):e.fchmod(i,n,function(t){e.close(i,function(e){r&&r(t||e)})})})},e.lchmodSync=function(t,n){var r,o=e.openSync(t,i.O_WRONLY|i.O_SYMLINK,n),s=!0;try{r=e.fchmodSync(o,n),s=!1}finally{if(s)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return r}}(e);e.lutimes||function(e){i.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,n,r,o){e.open(t,i.O_SYMLINK,function(t,i){t?o&&o(t):e.futimes(i,n,r,function(t){e.close(i,function(e){o&&o(t||e)})})})},e.lutimesSync=function(t,n,r){var o,s=e.openSync(t,i.O_SYMLINK),a=!0;try{o=e.futimesSync(s,n,r),a=!1}finally{if(a)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return o}):(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e);e.chown=h(e.chown),e.fchown=h(e.fchown),e.lchown=h(e.lchown),e.chmod=u(e.chmod),e.fchmod=u(e.fchmod),e.lchmod=u(e.lchmod),e.chownSync=f(e.chownSync),e.fchownSync=f(e.fchownSync),e.lchownSync=f(e.lchownSync),e.chmodSync=l(e.chmodSync),e.fchmodSync=l(e.fchmodSync),e.lchmodSync=l(e.lchmodSync),e.stat=p(e.stat),e.fstat=p(e.fstat),e.lstat=p(e.lstat),e.statSync=d(e.statSync),e.fstatSync=d(e.fstatSync),e.lstatSync=d(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){});e.lchown||(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){});"win32"===a&&(e.rename=function(t){return function(n,r,i){var o=Date.now(),s=0;t(n,r,function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-o<6e4)return setTimeout(function(){e.stat(r,function(e,o){e&&"ENOENT"===e.code?t(n,r,a):i(c)})},s),void(s<100&&(s+=10));i&&i(c)})}}(e.rename));e.read=function(t){return function(n,r,i,o,s,a){var c;if(a&&"function"==typeof a){var u=0;c=function(l,h,f){if(l&&"EAGAIN"===l.code&&u<10)return u++,t.call(e,n,r,i,o,s,c);a.apply(this,arguments)}}return t.call(e,n,r,i,o,s,c)}}(e.read),e.readSync=function(t){return function(n,r,i,o,s){for(var a=0;;)try{return t.call(e,n,r,i,o,s)}catch(e){if("EAGAIN"===e.code&&a<10){a++;continue}throw e}}}(e.readSync)}},function(e,t){e.exports=require("constants")},function(e,t,n){var r=n(27).Stream;e.exports=function(e){return{ReadStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);var o=this;this.path=n;this.fd=null;this.readable=!0;this.paused=!1;this.flags="r";this.mode=438;this.bufferSize=65536;i=i||{};var s=Object.keys(i);for(var a=0,c=s.length;a<c;a++){var u=s[a];this[u]=i[u]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick(function(){o._read()});e.open(this.path,this.flags,this.mode,function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()})},WriteStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);this.path=n;this.fd=null;this.writable=!0;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;i=i||{};var o=Object.keys(i);for(var s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1;this._queue=[];null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(e,t,n){const r=n(5).fromCallback;e.exports={copy:r(n(54))}},function(e,t,n){"use strict";const r=n(3),i=n(0),o=n(55).invalidWin32Path,s=parseInt("0777",8);e.exports=function e(t,n,a,c){if("function"==typeof n?(a=n,n={}):n&&"object"==typeof n||(n={mode:n}),"win32"===process.platform&&o(t)){const e=new Error(t+" contains invalid WIN32 path characters.");return e.code="EINVAL",a(e)}let u=n.mode;const l=n.fs||r;void 0===u&&(u=s&~process.umask()),c||(c=null),a=a||function(){},t=i.resolve(t),l.mkdir(t,u,r=>{if(!r)return a(null,c=c||t);switch(r.code){case"ENOENT":if(i.dirname(t)===t)return a(r);e(i.dirname(t),n,(r,i)=>{r?a(r,i):e(t,n,a,i)});break;default:l.stat(t,(e,t)=>{e||!t.isDirectory()?a(r,c):a(null,c)})}})}},function(e,t,n){"use strict";const r=n(3),i=n(0),o=n(55).invalidWin32Path,s=parseInt("0777",8);e.exports=function e(t,n,a){n&&"object"==typeof n||(n={mode:n});let c=n.mode;const u=n.fs||r;if("win32"===process.platform&&o(t)){const e=new Error(t+" contains invalid WIN32 path characters.");throw e.code="EINVAL",e}void 0===c&&(c=s&~process.umask()),a||(a=null),t=i.resolve(t);try{u.mkdirSync(t,c),a=a||t}catch(r){switch(r.code){case"ENOENT":if(i.dirname(t)===t)throw r;e(t,n,a=e(i.dirname(t),n,a));break;default:let o;try{o=u.statSync(t)}catch(e){throw r}if(!o.isDirectory())throw r}}return a}},function(e,t,n){"use strict";const r=n(3),i=n(0),o=n(7).mkdirsSync,s=n(56).utimesMillisSync,a=Symbol("notExist"),c=Symbol("existsReg");function u(e,t,n){if(!n.filter||n.filter(e,t))return function(e,t,n){const o=(n.dereference?r.statSync:r.lstatSync)(e);if(o.isDirectory())return function(e,t,n,i){const o=p(n);if(o===a){if(d(t,n))throw new Error(`Cannot copy '${t}' to a subdirectory of itself, '${n}'.`);return function(e,t,n,i){return r.mkdirSync(n,e.mode),r.chmodSync(n,e.mode),f(t,n,i)}(e,t,n,i)}if(o===c){if(d(t,n))throw new Error(`Cannot copy '${t}' to a subdirectory of itself, '${n}'.`);return function(e,t,n){if(!r.statSync(t).isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);return f(e,t,n)}(t,n,i)}if(t===o)return;return f(t,n,i)}(o,e,t,n);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return function(e,t,n,r){const i=p(n);if(i===a)return h(e,t,n,r);if(i===c)return l(e,t,n,r);if(t===i)return;return l(e,t,n,r)}(o,e,t,n);if(o.isSymbolicLink())return function(e,t,n){let o=r.readlinkSync(e);n.dereference&&(o=i.resolve(process.cwd(),o));let s=p(t);if(s===a||s===c)return r.symlinkSync(o,t);if(n.dereference&&(s=i.resolve(process.cwd(),s)),s===o)return;if(r.statSync(t).isDirectory()&&d(s,o))throw new Error(`Cannot overwrite '${s}' with '${o}'.`);return function(e,t){return r.unlinkSync(t),r.symlinkSync(e,t)}(o,t)}(e,t,n)}(e,t,n)}function l(e,t,n,i){if(i.overwrite)return r.unlinkSync(n),h(e,t,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}function h(e,t,i,o){return"function"==typeof r.copyFileSync?(r.copyFileSync(t,i),r.chmodSync(i,e.mode),o.preserveTimestamps?s(i,e.atime,e.mtime):void 0):function(e,t,i,o){const s=n(58)(65536),a=r.openSync(t,"r"),c=r.openSync(i,"w",e.mode);let u=1,l=0;for(;u>0;)u=r.readSync(a,s,0,65536,l),r.writeSync(c,s,0,u),l+=u;o.preserveTimestamps&&r.futimesSync(c,e.atime,e.mtime);r.closeSync(a),r.closeSync(c)}(e,t,i,o)}function f(e,t,n){r.readdirSync(e).forEach(r=>{u(i.join(e,r),i.join(t,r),n)})}function p(e){let t;try{t=r.readlinkSync(e)}catch(e){if("ENOENT"===e.code)return a;if("EINVAL"===e.code||"UNKNOWN"===e.code)return c;throw e}return t}function d(e,t){const n=t.split(i.dirname(e)+i.sep)[1];if(n){const r=n.split(i.sep)[0];return!!r&&(e!==t&&t.indexOf(e)>-1&&r===i.basename(e))}return!1}e.exports=function(e,t,n){if("function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n&&!n.clobber),n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),(e=i.resolve(e))===(t=i.resolve(t)))throw new Error("Source and destination must not be the same.");if(n.filter&&!n.filter(e,t))return;const s=i.dirname(t);return r.existsSync(s)||o(s),u(e,t,n)}},function(e,t,n){"use strict";const r=n(3),i=n(0),o=n(28),s="win32"===process.platform;function a(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{e[t]=e[t]||r[t],e[t+="Sync"]=e[t]||r[t]}),e.maxBusyTries=e.maxBusyTries||3}function c(e,t,n){let r=0;"function"==typeof t&&(n=t,t={}),o(e,"rimraf: missing path"),o.equal(typeof e,"string","rimraf: path should be a string"),o.equal(typeof n,"function","rimraf: callback function required"),o(t,"rimraf: invalid options argument provided"),o.equal(typeof t,"object","rimraf: options should be object"),a(t),u(e,t,function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&r<t.maxBusyTries){return r++,setTimeout(()=>u(e,t,i),100*r)}"ENOENT"===o.code&&(o=null)}n(o)})}function u(e,t,n){o(e),o(t),o("function"==typeof n),t.lstat(e,(r,i)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&s?l(e,t,r,n):i&&i.isDirectory()?f(e,t,r,n):void t.unlink(e,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return s?l(e,t,r,n):f(e,t,r,n);if("EISDIR"===r.code)return f(e,t,r,n)}return n(r)}))}function l(e,t,n,r){o(e),o(t),o("function"==typeof r),n&&o(n instanceof Error),t.chmod(e,438,i=>{i?r("ENOENT"===i.code?null:n):t.stat(e,(i,o)=>{i?r("ENOENT"===i.code?null:n):o.isDirectory()?f(e,t,n,r):t.unlink(e,r)})})}function h(e,t,n){let r;o(e),o(t),n&&o(n instanceof Error);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw n}try{r=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}r.isDirectory()?d(e,t,n):t.unlinkSync(e)}function f(e,t,n,r){o(e),o(t),n&&o(n instanceof Error),o("function"==typeof r),t.rmdir(e,s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?r(n):r(s):function(e,t,n){o(e),o(t),o("function"==typeof n),t.readdir(e,(r,o)=>{if(r)return n(r);let s,a=o.length;if(0===a)return t.rmdir(e,n);o.forEach(r=>{c(i.join(e,r),t,r=>{if(!s)return r?n(s=r):void(0==--a&&t.rmdir(e,n))})})})}(e,t,r)})}function p(e,t){let n;a(t=t||{}),o(e,"rimraf: missing path"),o.equal(typeof e,"string","rimraf: path should be a string"),o(t,"rimraf: missing options"),o.equal(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&s&&h(e,t,n)}try{n&&n.isDirectory()?d(e,t,null):t.unlinkSync(e)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return s?h(e,t,n):d(e,t,n);if("EISDIR"!==n.code)throw n;d(e,t,n)}}function d(e,t,n){o(e),o(t),n&&o(n instanceof Error);try{t.rmdirSync(e)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(e,t){o(e),o(t),t.readdirSync(e).forEach(n=>p(i.join(e,n),t));const n=s?100:1;let r=0;for(;;){let i=!0;try{const o=t.rmdirSync(e,t);return i=!1,o}finally{if(++r<n&&i)continue}}}(e,t);else if("ENOENT"!==r.code)throw r}}e.exports=c,c.sync=p},function(e,t,n){"use strict";const r=n(5).fromCallback,i=n(41);i.outputJson=r(n(122)),i.outputJsonSync=n(123),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i},function(e,t,n){var r;try{r=n(3)}catch(e){r=n(2)}function i(e,t){var n,r="\n";return"object"==typeof t&&null!==t&&(t.spaces&&(n=t.spaces),t.EOL&&(r=t.EOL)),JSON.stringify(e,t?t.replacer:null,n).replace(/\n/g,r)+r}function o(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e=e.replace(/^\uFEFF/,"")}var s={readFile:function(e,t,n){null==n&&(n=t,t={}),"string"==typeof t&&(t={encoding:t});var i=(t=t||{}).fs||r,s=!0;"throws"in t&&(s=t.throws),i.readFile(e,t,function(r,i){if(r)return n(r);var a;i=o(i);try{a=JSON.parse(i,t?t.reviver:null)}catch(t){return s?(t.message=e+": "+t.message,n(t)):n(null,null)}n(null,a)})},readFileSync:function(e,t){"string"==typeof(t=t||{})&&(t={encoding:t});var n=t.fs||r,i=!0;"throws"in t&&(i=t.throws);try{var s=n.readFileSync(e,t);return s=o(s),JSON.parse(s,t.reviver)}catch(t){if(i)throw t.message=e+": "+t.message,t;return null}},writeFile:function(e,t,n,o){null==o&&(o=n,n={});var s=(n=n||{}).fs||r,a="";try{a=i(t,n)}catch(e){return void(o&&o(e,null))}s.writeFile(e,a,n,o)},writeFileSync:function(e,t,n){var o=(n=n||{}).fs||r,s=i(t,n);return o.writeFileSync(e,s,n)}};e.exports=s},function(e,t,n){"use strict";const r=n(0),i=n(7),o=n(10).pathExists,s=n(41);e.exports=function(e,t,n,a){"function"==typeof n&&(a=n,n={});const c=r.dirname(e);o(c,(r,o)=>r?a(r):o?s.writeJson(e,t,n,a):void i.mkdirs(c,r=>{if(r)return a(r);s.writeJson(e,t,n,a)}))}},function(e,t,n){"use strict";const r=n(3),i=n(0),o=n(7),s=n(41);e.exports=function(e,t,n){const a=i.dirname(e);r.existsSync(a)||o.mkdirsSync(a),s.writeJsonSync(e,t,n)}},function(e,t,n){"use strict";const r=n(5).fromCallback,i=n(3),o=n(54),s=n(0),a=n(29).remove,c=n(7).mkdirs;function u(e,t,n,r){i.stat(e,(o,s)=>{if(o)return r(o);s.isDirectory()?l(e,t,n,r):function(e,t,n,r){const o=n?"w":"wx",s=i.createReadStream(e),a=i.createWriteStream(t,{flags:o});function c(){i.unlink(e,r)}s.on("error",o=>{s.destroy(),a.destroy(),a.removeListener("close",c),i.unlink(t,()=>{"EISDIR"===o.code||"EPERM"===o.code?l(e,t,n,r):r(o)})}),a.on("error",e=>{s.destroy(),a.destroy(),a.removeListener("close",c),r(e)}),a.once("close",c),s.pipe(a)}(e,t,n,r)})}function l(e,t,n,r){const i={overwrite:!1};function s(){o(e,t,i,t=>{if(t)return r(t);a(e,r)})}n?a(t,e=>{if(e)return r(e);s()}):s()}e.exports={move:r(function e(t,n,r,o){"function"==typeof r&&(o=r,r={});const l=r.overwrite||r.clobber||!1;!function(e,t,n){i.stat(e,(r,i)=>{if(r)return n(r);if(i.isDirectory()){const r=t.split(s.dirname(e)+s.sep)[1];if(r){const i=r.split(s.sep)[0];return n(null,!!i&&(e!==t&&t.indexOf(e)>-1&&i===s.basename(e)))}return n(null,!1)}return n(null,!1)})}(t,n,(h,f)=>h?o(h):f?o(new Error(`Cannot move '${t}' to a subdirectory of itself, '${n}'.`)):void c(s.dirname(n),c=>{if(c)return o(c);s.resolve(t)===s.resolve(n)?i.access(t,o):l?i.rename(t,n,i=>{if(!i)return o();if("ENOTEMPTY"!==i.code&&"EEXIST"!==i.code){if("EPERM"!==i.code)return"EXDEV"!==i.code?o(i):void u(t,n,l,o);setTimeout(()=>{a(n,i=>{if(i)return o(i);r.overwrite=!1,e(t,n,r,o)})},200)}else a(n,i=>{if(i)return o(i);r.overwrite=!1,e(t,n,r,o)})}):i.link(t,n,e=>e?"EXDEV"===e.code||"EISDIR"===e.code||"EPERM"===e.code||"ENOTSUP"===e.code?u(t,n,l,o):o(e):i.unlink(t,o))}))})}},function(e,t,n){"use strict";const r=n(3),i=n(0),o=n(57).copySync,s=n(29).removeSync,a=n(7).mkdirsSync,c=n(58);function u(e,t,n){return r.statSync(e).isDirectory()?function(e,t,n){const r={overwrite:!1};n?(s(t),i()):i();function i(){return o(e,t,r),s(e)}}(e,t,n):function(e,t,n){const i=c(65536),o=n?"w":"wx",s=r.openSync(e,"r"),a=r.fstatSync(s),u=r.openSync(t,o,a.mode);let l=1,h=0;for(;l>0;)l=r.readSync(s,i,0,65536,h),r.writeSync(u,i,0,l),h+=l;return r.closeSync(s),r.closeSync(u),r.unlinkSync(e)}(e,t,n)}e.exports={moveSync:function e(t,n,o){const c=(o=o||{}).overwrite||o.clobber||!1;if(t=i.resolve(t),n=i.resolve(n),t===n)return r.accessSync(t);if(function(e,t){try{return r.statSync(e).isDirectory()&&e!==t&&t.indexOf(e)>-1&&t.split(i.dirname(e)+i.sep)[1].split(i.sep)[0]===i.basename(e)}catch(e){return!1}}(t,n))throw new Error(`Cannot move '${t}' into itself '${n}'.`);a(i.dirname(n)),function(){if(c)try{r.renameSync(t,n)}catch(r){if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)return s(n),o.overwrite=!1,e(t,n,o);if("EXDEV"!==r.code)throw r;return u(t,n,c)}else try{r.linkSync(t,n),r.unlinkSync(t)}catch(e){if("EXDEV"===e.code||"EISDIR"===e.code||"EPERM"===e.code||"ENOTSUP"===e.code)return u(t,n,c);throw e}}()}}},function(e,t,n){"use strict";const r=n(5).fromCallback,i=n(2),o=n(0),s=n(7),a=n(29),c=r(function(e,t){t=t||function(){},i.readdir(e,(n,r)=>{if(n)return s.mkdirs(e,t);r=r.map(t=>o.join(e,t)),function e(){const n=r.pop();if(!n)return t();a.remove(n,n=>{if(n)return t(n);e()})}()})});function u(e){let t;try{t=i.readdirSync(e)}catch(t){return s.mkdirsSync(e)}t.forEach(t=>{t=o.join(e,t),a.removeSync(t)})}e.exports={emptyDirSync:u,emptydirSync:u,emptyDir:c,emptydir:c}},function(e,t,n){"use strict";const r=n(128),i=n(129),o=n(130);e.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:o.createSymlink,createSymlinkSync:o.createSymlinkSync,ensureSymlink:o.createSymlink,ensureSymlinkSync:o.createSymlinkSync}},function(e,t,n){"use strict";const r=n(5).fromCallback,i=n(0),o=n(3),s=n(7),a=n(10).pathExists;e.exports={createFile:r(function(e,t){function n(){o.writeFile(e,"",e=>{if(e)return t(e);t()})}o.stat(e,(r,o)=>{if(!r&&o.isFile())return t();const c=i.dirname(e);a(c,(e,r)=>e?t(e):r?n():void s.mkdirs(c,e=>{if(e)return t(e);n()}))})}),createFileSync:function(e){let t;try{t=o.statSync(e)}catch(e){}if(t&&t.isFile())return;const n=i.dirname(e);o.existsSync(n)||s.mkdirsSync(n),o.writeFileSync(e,"")}}},function(e,t,n){"use strict";const r=n(5).fromCallback,i=n(0),o=n(3),s=n(7),a=n(10).pathExists;e.exports={createLink:r(function(e,t,n){function r(e,t){o.link(e,t,e=>{if(e)return n(e);n(null)})}a(t,(c,u)=>c?n(c):u?n(null):void o.lstat(e,(o,c)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),n(o);const u=i.dirname(t);a(u,(i,o)=>i?n(i):o?r(e,t):void s.mkdirs(u,i=>{if(i)return n(i);r(e,t)}))}))}),createLinkSync:function(e,t,n){if(o.existsSync(t))return;try{o.lstatSync(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const r=i.dirname(t);return o.existsSync(r)?o.linkSync(e,t):(s.mkdirsSync(r),o.linkSync(e,t))}}},function(e,t,n){"use strict";const r=n(5).fromCallback,i=n(0),o=n(3),s=n(7),a=s.mkdirs,c=s.mkdirsSync,u=n(131),l=u.symlinkPaths,h=u.symlinkPathsSync,f=n(132),p=f.symlinkType,d=f.symlinkTypeSync,g=n(10).pathExists;e.exports={createSymlink:r(function(e,t,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,g(t,(s,c)=>s?r(s):c?r(null):void l(e,t,(s,c)=>{if(s)return r(s);e=c.toDst,p(c.toCwd,n,(n,s)=>{if(n)return r(n);const c=i.dirname(t);g(c,(n,i)=>n?r(n):i?o.symlink(e,t,s,r):void a(c,n=>{if(n)return r(n);o.symlink(e,t,s,r)}))})}))}),createSymlinkSync:function(e,t,n,r){if(r="function"==typeof n?n:r,n="function"!=typeof n&&n,o.existsSync(t))return;const s=h(e,t);e=s.toDst,n=d(s.toCwd,n);const a=i.dirname(t);return o.existsSync(a)?o.symlinkSync(e,t,n):(c(a),o.symlinkSync(e,t,n))}}},function(e,t,n){"use strict";const r=n(0),i=n(3),o=n(10).pathExists;e.exports={symlinkPaths:function(e,t,n){if(r.isAbsolute(e))return i.lstat(e,(t,r)=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:e}));{const s=r.dirname(t),a=r.join(s,e);return o(a,(t,o)=>t?n(t):o?n(null,{toCwd:a,toDst:e}):i.lstat(e,(t,i)=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:r.relative(s,e)})))}},symlinkPathsSync:function(e,t){let n;if(r.isAbsolute(e)){if(!(n=i.existsSync(e)))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const o=r.dirname(t),s=r.join(o,e);if(n=i.existsSync(s))return{toCwd:s,toDst:e};if(!(n=i.existsSync(e)))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:r.relative(o,e)}}}}},function(e,t,n){"use strict";const r=n(3);e.exports={symlinkType:function(e,t,n){if(n="function"==typeof t?t:n,t="function"!=typeof t&&t)return n(null,t);r.lstat(e,(e,r)=>{if(e)return n(null,"file");t=r&&r.isDirectory()?"dir":"file",n(null,t)})},symlinkTypeSync:function(e,t){let n;if(t)return t;try{n=r.lstatSync(e)}catch(e){return"file"}return n&&n.isDirectory()?"dir":"file"}}},function(e,t,n){"use strict";const r=n(5).fromCallback,i=n(3),o=n(0),s=n(7),a=n(10).pathExists;e.exports={outputFile:r(function(e,t,n,r){"function"==typeof n&&(r=n,n="utf8");const c=o.dirname(e);a(c,(o,a)=>o?r(o):a?i.writeFile(e,t,n,r):void s.mkdirs(c,o=>{if(o)return r(o);i.writeFile(e,t,n,r)}))}),outputFileSync:function(e,t,n){const r=o.dirname(e);if(i.existsSync(r))return i.writeFileSync.apply(i,arguments);s.mkdirsSync(r),i.writeFileSync.apply(i,arguments)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.LaTeXCommander=class{constructor(e){this.commands=[],this.extension=e,this.buildCommander()}buildCommander(){const e=r.workspace.getConfiguration("latex-workshop"),t=new i("Build LaTeX project",r.TreeItemCollapsibleState.Collapsed,{command:"latex-workshop.build",title:""});this.commands.push(t);const n=e.get("latex.recipes");t.children.push(new i("Clean up auxiliary files",r.TreeItemCollapsibleState.None,{command:"latex-workshop.clean",title:""})),t.children.push(new i("Terminate current compilation",r.TreeItemCollapsibleState.None,{command:"latex-workshop.kill",title:""})),n&&n.forEach(e=>{t.children.push(new i(`Recipe: ${e.name}`,r.TreeItemCollapsibleState.None,{command:"latex-workshop.recipes",title:"",arguments:[e.name]}))});const o=new i("View LaTeX PDF",r.TreeItemCollapsibleState.Collapsed,{command:"latex-workshop.view",title:""});this.commands.push(o),o.children.push(new i("View in VSCode tab",r.TreeItemCollapsibleState.None,{command:"latex-workshop.view",title:"",arguments:["tab"]})),o.children.push(new i("View in web browser",r.TreeItemCollapsibleState.None,{command:"latex-workshop.view",title:"",arguments:["browser"]})),o.children.push(new i("Set default viewer",r.TreeItemCollapsibleState.None,{command:"latex-workshop.view",title:"",arguments:["set"]}));const s=new i("View Log messages",r.TreeItemCollapsibleState.Collapsed,{command:"latex-workshop.log",title:""});this.commands.push(s),s.children.push(new i("View LaTeX Workshop extension log",r.TreeItemCollapsibleState.None,{command:"latex-workshop.log",title:""})),s.children.push(new i("View LaTeX compiler log",r.TreeItemCollapsibleState.None,{command:"latex-workshop.log",title:"",arguments:["compiler"]}));const a=new i("Navigate, select, and edit",r.TreeItemCollapsibleState.Collapsed);this.commands.push(a),a.children.push(new i("SyncTeX from cursor",r.TreeItemCollapsibleState.None,{command:"latex-workshop.synctex",title:""})),a.children.push(new i("Navigate to matching begin/end",r.TreeItemCollapsibleState.None,{command:"latex-workshop.navigate-envpair",title:""})),a.children.push(new i("Select current environment name",r.TreeItemCollapsibleState.None,{command:"latex-workshop.select-envname",title:""})),a.children.push(new i("Close current environment",r.TreeItemCollapsibleState.None,{command:"latex-workshop.close-env",title:""})),a.children.push(new i("Insert %!TeX root magic comment",r.TreeItemCollapsibleState.None,{command:"latex-workshop.addtexroot",title:""}));const c=new i("Miscellaneous",r.TreeItemCollapsibleState.Collapsed);this.commands.push(c),c.children.push(new i("Open citation browser",r.TreeItemCollapsibleState.None,{command:"latex-workshop.citation",title:""})),c.children.push(new i("Count words in LaTeX project",r.TreeItemCollapsibleState.None,{command:"latex-workshop.wordcount",title:""}))}getTreeItem(e){const t=new r.TreeItem(e.label,e.collapsibleState);return t.command=e.command,t}getChildren(e){return e?Promise.resolve(e.children):Promise.resolve(this.commands)}};class i extends r.TreeItem{constructor(e,t,n){super(e,t),this.label=e,this.collapsibleState=t,this.command=n,this.children=[]}}t.LaTeXCommand=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.Logger=class{constructor(e){this.extension=e,this.logPanel=r.window.createOutputChannel("LaTeX Workshop"),this.compilerLogPanel=r.window.createOutputChannel("LaTeX Compiler"),this.compilerLogPanel.append("Ready"),this.addLogMessage("Initializing LaTeX Workshop."),this.status=r.window.createStatusBarItem(r.StatusBarAlignment.Left,-1e4),this.status.command="latex-workshop.actions",this.status.show(),this.displayStatus("check","statusBar.foreground")}addLogMessage(e){r.workspace.getConfiguration("latex-workshop").get("message.log.show")&&this.logPanel.append(`[${(new Date).toLocaleTimeString("en-US",{hour12:!1})}] ${e}\n`)}addCompilerMessage(e){this.compilerLogPanel.append(e)}clearCompilerMessage(){this.compilerLogPanel.clear()}displayStatus(e,t,n,i="info",o=""){if(this.status.text=`$(${e})${o}`,this.status.tooltip=n,this.status.color=new r.ThemeColor(t),void 0===n)return;const s=r.workspace.getConfiguration("latex-workshop");switch(i){case"info":s.get("message.information.show")&&r.window.showInformationMessage(n);break;case"warning":s.get("message.warning.show")&&r.window.showWarningMessage(n);break;case"error":default:s.get("message.error.show")&&r.window.showErrorMessage(n)}}showErrorMessage(e,...t){return r.workspace.getConfiguration("latex-workshop").get("message.error.show")?r.window.showErrorMessage(e,...t):void 0}showLog(){this.logPanel.show()}showCompilerLog(){this.compilerLogPanel.show()}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(0),s=n(2),a=n(137),c=n(47);t.Manager=class{constructor(e){this.texFileTree={},this.extension=e,this.watched=[],this.rootFiles={},this.rootOfFiles={},this.workspace=""}getOutputDir(e){const t=e.replace(/\.tex$/,"").split(o.sep).join("/"),n=o.basename(e,".tex").split(o.sep).join("/"),r=i.workspace.getConfiguration("latex-workshop"),s=r.get("docker.enabled");let a=r.get("latex.outputDir");return a=a.replace("%DOC%",s?n:t).replace("%DOCFILE%",n).replace("%DIR%",o.dirname(e).split(o.sep).join("/"))}get rootDir(){return o.dirname(this.rootFile)}get rootFile(){const e=this.documentRoot();return e?(this.rootFiles[this.workspace]=e,e):this.rootFiles[this.workspace]}set rootFile(e){this.rootFiles[this.workspace]=e}documentRoot(){const e=i.window.activeTextEditor;if(e&&e.document&&this.rootOfFiles.hasOwnProperty(e.document.fileName))return this.rootOfFiles[e.document.fileName]}tex2pdf(e,t=!0){let n="./";return t&&(n=this.getOutputDir(e)),o.resolve(o.dirname(e),n,o.basename(`${e.substr(0,e.lastIndexOf("."))}.pdf`))}hasTexId(e){return"tex"===e||"latex"===e||"doctex"===e}stripComments(e,t){const n=RegExp("([^\\\\]|^)"+t+".*$","gm");return e.replace(n,"$1")}resolveFile(e,t){t.startsWith("/")&&e.unshift("");for(const n of e){let e=o.resolve(o.join(n,t));if(""===o.extname(e)&&(e+=".tex"),!s.existsSync(e)&&s.existsSync(e+".tex")&&(e+=".tex"),s.existsSync(e))return e}return null}updateWorkspace(){let e=i.workspace.rootPath;const t=i.window.activeTextEditor;if(t){const n=i.workspace.getWorkspaceFolder(t.document.uri);n&&(e=n.uri.fsPath)}e?e!==this.workspace&&(this.workspace=e):this.workspace=""}findRoot(){return r(this,void 0,void 0,function*(){this.updateWorkspace();const e=[()=>this.findRootMagic(),()=>this.findRootSelf(),()=>this.findRootSaved(),()=>this.findRootDir()];for(const t of e){const e=yield t();if(void 0!==e)return this.rootFile!==e?(this.extension.logger.addLogMessage(`Root file changed from: ${this.rootFile}. Find all dependencies.`),this.rootFile=e,this.findAllDependentFiles(e),this.updateRootOfFiles(e,e)):this.extension.logger.addLogMessage(`Root file remains unchanged from: ${this.rootFile}.`),e}})}updateRootOfFiles(e,t){if(this.texFileTree.hasOwnProperty(t)){this.rootOfFiles[t]=e;for(const n of this.texFileTree[t])this.updateRootOfFiles(e,n)}}findRootMagic(){if(!i.window.activeTextEditor)return;const e=/^(?:%\s*!\s*T[Ee]X\sroot\s*=\s*([^\s]*\.tex)$)/m;var t=i.window.activeTextEditor.document.getText(),n=t.match(e);if(n){var r=o.resolve(o.dirname(i.window.activeTextEditor.document.fileName),n[1]);for(this.extension.logger.addLogMessage(`Found root file by magic comment: ${r}`),n=(t=s.readFileSync(r).toString()).match(e);n;)r=o.resolve(o.dirname(r),n[1]),this.extension.logger.addLogMessage(`Recursively found root file by magic comment: ${r}`),n=(t=s.readFileSync(r).toString()).match(e);return r}}findRootSelf(){if(i.window.activeTextEditor&&this.stripComments(i.window.activeTextEditor.document.getText(),"%").match(/\\begin{document}/m)){const e=i.window.activeTextEditor.document.fileName;return this.extension.logger.addLogMessage(`Found root file from active editor: ${e}`),e}}findSubFiles(){if(!i.window.activeTextEditor)return;const e=this.stripComments(i.window.activeTextEditor.document.getText(),"%").match(/(?:\\documentclass\[(.*(?:\.tex))\]{subfiles})/);if(e){const t=o.join(o.dirname(i.window.activeTextEditor.document.fileName),e[1]);return this.extension.logger.addLogMessage(`Found root file of this subfile from active editor: ${t}`),t}}findRootSaved(){return this.documentRoot()}findRootDir(){return r(this,void 0,void 0,function*(){const e=/\\begin{document}/m;if(this.workspace)try{const t=yield i.workspace.findFiles("**/*.tex",void 0);for(const n of t)if(this.stripComments(s.readFileSync(n.fsPath).toString(),"%").match(e)){const e=n.fsPath;this.extension.logger.addLogMessage(`Try root file in root directory: ${e}`);const t=i.window;if(t&&t.activeTextEditor&&this.isRoot(n.fsPath,t.activeTextEditor.document.fileName,!0))return this.extension.logger.addLogMessage(`Found root file in root directory: ${e}`),e}}catch(e){}})}isRoot(e,t,n=!1){if(!s.existsSync(e))return!1;if(e===t)return!0;if(n&&this.findDependentFiles(e,void 0,!0),!this.texFileTree.hasOwnProperty(e)||!this.texFileTree.hasOwnProperty(t))return!1;for(const n of this.texFileTree[e])if(this.isRoot(n,t))return!0;return!1}findAllDependentFiles(e){let t=!1;if(void 0!==this.fileWatcher&&this.watched.indexOf(e)<0&&(this.extension.logger.addLogMessage("Root file changed -> cleaning up old file watcher."),this.fileWatcher.close(),this.watched=[],t=!0),t||void 0===this.fileWatcher){this.extension.logger.addLogMessage(`Instatiating new file watcher for ${e}`),this.fileWatcher=a.watch(e),this.watched.push(e),this.fileWatcher.on("change",e=>{this.extension.logger.addLogMessage(`File watcher: responding to change in ${e}`),this.findDependentFiles(e)}),this.fileWatcher.on("unlink",t=>r(this,void 0,void 0,function*(){this.extension.logger.addLogMessage(`File watcher: ${t} deleted.`),this.fileWatcher.unwatch(t),this.watched.splice(this.watched.indexOf(t),1),t===e&&(this.extension.logger.addLogMessage(`Deleted ${t} was root - triggering root search`),yield this.findRoot())})),this.findDependentFiles(e);const t=i.workspace.getConfiguration("latex-workshop").get("latex.additionalBib");for(const e of t)c(e,{cwd:this.extension.manager.rootDir},(t,n)=>{if(t)this.extension.logger.addLogMessage(`Error identifying additional bibfile with glob ${e}: ${n}.`);else for(const e of n)this.extension.logger.addLogMessage(`Try to watch global bibliography file ${e}.`),this.addBibToWatcher(e,this.extension.manager.rootDir)})}}findDependentFiles(e,t,n=!1){t||(t=o.dirname(e)),this.extension.logger.addLogMessage(`Parsing ${e}`);const r=this.stripComments(s.readFileSync(e,"utf-8"),"%"),i=/(?:\\(?:input|InputIfFileExists|include|subfile|(?:(?:sub)?import\*?{([^}]*)}))(?:\[[^\[\]\{\}]*\])?){([^}]*)}/g;for(this.texFileTree[e]=new Set;;){const a=i.exec(r);if(!a)break;let c;c=a[0].startsWith("\\subimport")?this.resolveFile([o.dirname(e)],o.join(a[1],a[2])):a[0].startsWith("\\import")?this.extension.manager.resolveFile([a[1]],a[2]):this.resolveFile([o.dirname(e),t],a[2]),s.existsSync(c)&&(this.texFileTree[e].add(c),!n&&this.fileWatcher&&this.watched.indexOf(c)<0&&(this.extension.logger.addLogMessage(`Adding ${c} to file watcher.`),this.fileWatcher.add(c),this.watched.push(c)),this.findDependentFiles(c,t))}if(n)return;const a=/(?:\\(?:bibliography|addbibresource)(?:\[[^\[\]\{\}]*\])?){(.+?)}/g;for(;;){const e=a.exec(r);if(!e)break;const n=e[1].split(",").map(e=>e.trim());for(const e of n)this.addBibToWatcher(e,t)}this.extension.completer.command.getCommandsTeX(e),this.extension.completer.reference.getReferencesTeX(e)}addBibToWatcher(e,t){let n;n=o.isAbsolute(e)?e:o.resolve(o.join(t,e)),""===o.extname(n)&&(n+=".bib"),!s.existsSync(n)&&s.existsSync(n+".bib")&&(n+=".bib"),s.existsSync(n)&&(this.extension.logger.addLogMessage(`Found .bib file ${n}`),void 0===this.bibWatcher?(this.extension.logger.addLogMessage("Creating file watcher for .bib files."),this.bibWatcher=a.watch(n),this.bibWatcher.on("change",e=>{this.extension.logger.addLogMessage(`Bib file watcher - responding to change in ${e}`),this.extension.completer.citation.parseBibFile(e)}),this.bibWatcher.on("unlink",e=>{this.extension.logger.addLogMessage(`Bib file watcher: ${e} deleted.`),this.extension.completer.citation.forgetParsedBibItems(e),this.bibWatcher.unwatch(e),this.watched.splice(this.watched.indexOf(e),1)}),this.extension.completer.citation.parseBibFile(n)):this.watched.indexOf(n)<0?(this.extension.logger.addLogMessage(`Adding .bib file ${n} to bib file watcher.`),this.bibWatcher.add(n),this.watched.push(n),this.extension.completer.citation.parseBibFile(n)):this.extension.logger.addLogMessage(`.bib file ${n} is already being watched.`))}}},function(e,t,n){"use strict";var r=n(19).EventEmitter,i=n(2),o=n(0),s=n(138),a=n(139),c=n(235),u=n(239),l=n(37),h=n(13),f=n(60),p=n(90),d=n(242),g=n(243),m=n(252),y=function(e){return null==e?[]:Array.isArray(e)?e:[e]},v=function(e,t){return null==t&&(t=[]),e.forEach(function(e){Array.isArray(e)?v(e,t):t.push(e)}),t},b=function(e){return"string"==typeof e};function w(e){r.call(this);var t={};if(e)for(var n in e)t[n]=e[n];function i(e){return void 0===t[e]}this._watched=Object.create(null),this._closers=Object.create(null),this._ignoredPaths=Object.create(null),Object.defineProperty(this,"_globIgnored",{get:function(){return Object.keys(this._ignoredPaths)}}),this.closed=!1,this._throttled=Object.create(null),this._symlinkPaths=Object.create(null),i("persistent")&&(t.persistent=!0),i("ignoreInitial")&&(t.ignoreInitial=!1),i("ignorePermissionErrors")&&(t.ignorePermissionErrors=!1),i("interval")&&(t.interval=100),i("binaryInterval")&&(t.binaryInterval=300),i("disableGlobbing")&&(t.disableGlobbing=!1),this.enableBinaryInterval=t.binaryInterval!==t.interval,i("useFsEvents")&&(t.useFsEvents=!t.usePolling),m.canUse()||(t.useFsEvents=!1),i("usePolling")&&!t.useFsEvents&&(t.usePolling="darwin"===process.platform);var o=process.env.CHOKIDAR_USEPOLLING;if(void 0!==o){var s=o.toLowerCase();t.usePolling="false"!==s&&"0"!==s&&("true"===s||"1"===s||!!s)}var a=process.env.CHOKIDAR_INTERVAL;a&&(t.interval=parseInt(a)),i("atomic")&&(t.atomic=!t.usePolling&&!t.useFsEvents),t.atomic&&(this._pendingUnlinks=Object.create(null)),i("followSymlinks")&&(t.followSymlinks=!0),i("awaitWriteFinish")&&(t.awaitWriteFinish=!1),!0===t.awaitWriteFinish&&(t.awaitWriteFinish={});var c=t.awaitWriteFinish;c&&(c.stabilityThreshold||(c.stabilityThreshold=2e3),c.pollInterval||(c.pollInterval=100),this._pendingWrites=Object.create(null)),t.ignored&&(t.ignored=y(t.ignored)),this._isntIgnored=function(e,t){return!this._isIgnored(e,t)}.bind(this);var u=0;this._emitReady=function(){++u>=this._readyCount&&(this._emitReady=Function.prototype,this._readyEmitted=!0,process.nextTick(this.emit.bind(this,"ready")))}.bind(this),this.options=t,Object.freeze(t)}h(w,r),w.prototype._emit=function(e,t,n,r,s){this.options.cwd&&(t=o.relative(this.options.cwd,t));var a=[e,t];void 0!==s?a.push(n,r,s):void 0!==r?a.push(n,r):void 0!==n&&a.push(n);var c=this.options.awaitWriteFinish;if(c&&this._pendingWrites[t])return this._pendingWrites[t].lastChange=new Date,this;if(this.options.atomic){if("unlink"===e)return this._pendingUnlinks[t]=a,setTimeout(function(){Object.keys(this._pendingUnlinks).forEach(function(e){this.emit.apply(this,this._pendingUnlinks[e]),this.emit.apply(this,["all"].concat(this._pendingUnlinks[e])),delete this._pendingUnlinks[e]}.bind(this))}.bind(this),"number"==typeof this.options.atomic?this.options.atomic:100),this;"add"===e&&this._pendingUnlinks[t]&&(e=a[0]="change",delete this._pendingUnlinks[t])}var u=function(){this.emit.apply(this,a),"error"!==e&&this.emit.apply(this,["all"].concat(a))}.bind(this);if(c&&("add"===e||"change"===e)&&this._readyEmitted){return this._awaitWriteFinish(t,c.stabilityThreshold,e,function(t,n){t?(e=a[0]="error",a[1]=t,u()):n&&(a.length>2?a[2]=n:a.push(n),u())}),this}if("change"===e&&!this._throttle("change",t,50))return this;if(!this.options.alwaysStat||void 0!==n||"add"!==e&&"addDir"!==e&&"change"!==e)u();else{var l=this.options.cwd?o.join(this.options.cwd,t):t;i.stat(l,function(e,t){!e&&t&&(a.push(t),u())})}return this},w.prototype._handleError=function(e){var t=e&&e.code,n=this.options.ignorePermissionErrors;return e&&"ENOENT"!==t&&"ENOTDIR"!==t&&(!n||"EPERM"!==t&&"EACCES"!==t)&&this.emit("error",e),e||this.closed},w.prototype._throttle=function(e,t,n){e in this._throttled||(this._throttled[e]=Object.create(null));var r=this._throttled[e];if(t in r)return r[t].count++,!1;function i(){var e=r[t]?r[t].count:0;return delete r[t],clearTimeout(o),e}var o=setTimeout(i,n);return r[t]={timeoutObject:o,clear:i,count:0},r[t]},w.prototype._awaitWriteFinish=function(e,t,n,r){var s,a=e;this.options.cwd&&!l(e)&&(a=o.join(this.options.cwd,e));var c=new Date,u=function(n){i.stat(a,function(i,o){if(!i&&e in this._pendingWrites){var a=new Date;n&&o.size!=n.size&&(this._pendingWrites[e].lastChange=a),a-this._pendingWrites[e].lastChange>=t?(delete this._pendingWrites[e],r(null,o)):s=setTimeout(u.bind(this,o),this.options.awaitWriteFinish.pollInterval)}else i&&"ENOENT"!==i.code&&r(i)}.bind(this))}.bind(this);e in this._pendingWrites||(this._pendingWrites[e]={lastChange:c,cancelWait:function(){return delete this._pendingWrites[e],clearTimeout(s),n}.bind(this)},s=setTimeout(u.bind(this),this.options.awaitWriteFinish.pollInterval))};var x=/\..*\.(sw[px])$|\~$|\.subl.*\.tmp/;w.prototype._isIgnored=function(e,t){if(this.options.atomic&&x.test(e))return!0;if(!this._userIgnored){var n=this.options.cwd,r=this.options.ignored;n&&r&&(r=r.map(function(e){return"string"!=typeof e?e:d.normalize(l(e)?e:o.join(n,e))}));var i=y(r).filter(function(e){return"string"==typeof e&&!u(e)}).map(function(e){return e+"/**"});this._userIgnored=a(this._globIgnored.concat(r).concat(i))}return this._userIgnored([e,t])};var _=/^\.[\/\\]/;function k(e){Object.keys(e.prototype).forEach(function(t){w.prototype[t]=e.prototype[t]})}w.prototype._getWatchHelpers=function(e,t){e=e.replace(_,"");var n,r=t||this.options.disableGlobbing||!u(e)?e:c(e),i=o.resolve(r),s=r!==e,l=!!s&&a(e),h=this.options.followSymlinks,p=!(!s||!h)&&null,d=function(e){return null==p&&(p=e.fullParentDir!==i&&{realPath:e.fullParentDir,linkPath:i}),p?e.fullPath.replace(p.realPath,p.linkPath):e.fullPath},g=function(e){return o.join(r,o.relative(r,d(e)))},m=function(e){if(e.stat&&e.stat.isSymbolicLink())return b(e);var t=g(e);return(!s||l(t))&&this._isntIgnored(t,e.stat)&&(this.options.ignorePermissionErrors||this._hasReadPermissions(e.stat))}.bind(this),y=function(e){if(!s)return!1;var t=[];return f.expand(e).forEach(function(e){t.push(o.relative(r,e).split(/[\/\\]/))}),t},v=y(e);v&&v.forEach(function(e){e.length>1&&e.pop()});var b=function(e){if(s){var t=y(d(e)),r=!1;n=!v.some(function(e){return e.every(function(e,n){return"**"===e&&(r=!0),r||!t[0][n]||a(e,t[0][n])})})}return!n&&this._isntIgnored(g(e),e.stat)}.bind(this);return{followSymlinks:h,statMethod:h?"stat":"lstat",path:e,watchPath:r,entryPath:g,hasGlob:s,globFilter:l,filterPath:m,filterDir:b}},w.prototype._getWatchedDir=function(e){var t=o.resolve(e),n=this._remove.bind(this);return t in this._watched||(this._watched[t]={_items:Object.create(null),add:function(e){"."!==e&&".."!==e&&(this._items[e]=!0)},remove:function(e){delete this._items[e],this.children().length||i.readdir(t,function(e){e&&n(o.dirname(t),o.basename(t))})},has:function(e){return e in this._items},children:function(){return Object.keys(this._items)}}),this._watched[t]},w.prototype._hasReadPermissions=function(e){return Boolean(4&parseInt((511&(e&&e.mode)).toString(8)[0],10))},w.prototype._remove=function(e,t){var n=o.join(e,t),r=o.resolve(n),i=this._watched[n]||this._watched[r];if(this._throttle("remove",n,100)){var s=Object.keys(this._watched);i||this.options.useFsEvents||1!==s.length||this.add(e,t,!0),this._getWatchedDir(n).children().forEach(function(e){this._remove(n,e)},this);var a=this._getWatchedDir(e),c=a.has(t);a.remove(t);var u=n;if(this.options.cwd&&(u=o.relative(this.options.cwd,n)),this.options.awaitWriteFinish&&this._pendingWrites[u])if("add"===this._pendingWrites[u].cancelWait())return;delete this._watched[n],delete this._watched[r];var l=i?"unlinkDir":"unlink";c&&!this._isIgnored(n)&&this._emit(l,n),this.options.useFsEvents||this._closePath(n)}},w.prototype._closePath=function(e){this._closers[e]&&(this._closers[e](),delete this._closers[e],this._getWatchedDir(o.dirname(e)).remove(o.basename(e)))},w.prototype.add=function(e,t,n){var r=this.options.disableGlobbing,i=this.options.cwd;if(this.closed=!1,!(e=v(y(e))).every(b))throw new TypeError("Non-string provided as watch path: "+e);return i&&(e=e.map(function(e){var t;return t=l(e)?e:"!"===e[0]?"!"+o.join(i,e.substring(1)):o.join(i,e),r||!u(e)?t:p(t)})),e=e.filter(function(e){if("!"!==e[0])return delete this._ignoredPaths[e],delete this._ignoredPaths[e+"/**"],this._userIgnored=null,!0;this._ignoredPaths[e.substring(1)]=!0},this),this.options.useFsEvents&&m.canUse()?(this._readyCount||(this._readyCount=e.length),this.options.persistent&&(this._readyCount*=2),e.forEach(this._addToFsEvents,this)):(this._readyCount||(this._readyCount=0),this._readyCount+=e.length,s(e,function(e,r){this._addToNodeFs(e,!n,0,0,t,function(e,t){t&&this._emitReady(),r(e,t)}.bind(this))}.bind(this),function(e,n){n.forEach(function(e){e&&!this.closed&&this.add(o.dirname(e),o.basename(t||e))},this)}.bind(this))),this},w.prototype.unwatch=function(e){return this.closed?this:((e=v(y(e))).forEach(function(e){l(e)||this._closers[e]||(this.options.cwd&&(e=o.join(this.options.cwd,e)),e=o.resolve(e)),this._closePath(e),this._ignoredPaths[e]=!0,e in this._watched&&(this._ignoredPaths[e+"/**"]=!0),this._userIgnored=null},this),this)},w.prototype.close=function(){return this.closed?this:(this.closed=!0,Object.keys(this._closers).forEach(function(e){this._closers[e](),delete this._closers[e]},this),this._watched=Object.create(null),this.removeAllListeners(),this)},w.prototype.getWatched=function(){var e={};return Object.keys(this._watched).forEach(function(t){var n=this.options.cwd?o.relative(this.options.cwd,t):t;e[n||"."]=Object.keys(this._watched[t]._items).sort()}.bind(this)),e},k(g),m.canUse()&&k(m),t.FSWatcher=w,t.watch=function(e,t){return new w(t).add(e)}},function(e,t,n){var r;!function(n){"use strict";var i=function(e,t,n){if(!Array.isArray(e))throw new TypeError("each() expects array as first argument");if("function"!=typeof t)throw new TypeError("each() expects function as second argument");if("function"!=typeof n&&(n=Function.prototype),0===e.length)return n(void 0,e);var r=new Array(e.length),i=0,o=!1;e.forEach(function(s,a){t(s,function(t,s){if(!o)return t?(o=!0,n(t)):(r[a]=s,(i+=1)===e.length?n(void 0,r):void 0)})})};void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";var r=n(42),i=n(90),o=n(0),s=function(e){return null==e?[]:Array.isArray(e)?e:[e]},a=function(e,t,n,c,u){if(e=s(e),t=s(t),1===arguments.length)return a.bind(null,e.map(function(e){return"string"==typeof e&&"!"!==e[0]?r.matcher(e):e}));c=c||0;var l,h,f=t[0],p=!1,d=-1;var g=e,m=g.reduce(function(t,n,r){return"string"==typeof n&&"!"===n[0]&&(g===e&&(g=g.slice()),g[r]=null,t.push(n.substr(1))),t},[]);return m.length&&r.any(f,m)||("\\"===o.sep&&"string"==typeof f&&(l=(l=i(f))===f?null:l)&&(h=[l].concat(t.slice(1))),p=g.slice(c,u).some(function(e,n){var i;switch(Object.prototype.toString.call(e)){case"[object String]":i=(i=f===e||l&&l===e)||r.isMatch(f,e);break;case"[object RegExp]":i=e.test(f)||l&&e.test(l);break;case"[object Function]":i=(i=e.apply(null,t))||h&&e.apply(null,h);break;default:i=!1}return i&&(d=n+c),i})),!0===n?d:p};e.exports=a},function(e,t,n){var r=n(141),i=n(30),o=n(62),s=n(142);e.exports=function(e){var t,n,a=0,c={type:i.ROOT,stack:[]},u=c,l=c.stack,h=[],f=function(t){r.error(e,"Nothing to repeat at column "+(t-1))},p=r.strToChars(e);for(t=p.length;a<t;)switch(n=p[a++]){case"\\":switch(n=p[a++]){case"b":l.push(s.wordBoundary());break;case"B":l.push(s.nonWordBoundary());break;case"w":l.push(o.words());break;case"W":l.push(o.notWords());break;case"d":l.push(o.ints());break;case"D":l.push(o.notInts());break;case"s":l.push(o.whitespace());break;case"S":l.push(o.notWhitespace());break;default:/\d/.test(n)?l.push({type:i.REFERENCE,value:parseInt(n,10)}):l.push({type:i.CHAR,value:n.charCodeAt(0)})}break;case"^":l.push(s.begin());break;case"$":l.push(s.end());break;case"[":var d;"^"===p[a]?(d=!0,a++):d=!1;var g=r.tokenizeClass(p.slice(a),e);a+=g[1],l.push({type:i.SET,set:g[0],not:d});break;case".":l.push(o.anyChar());break;case"(":var m={type:i.GROUP,stack:[],remember:!0};"?"===(n=p[a])&&(n=p[a+1],a+=2,"="===n?m.followedBy=!0:"!"===n?m.notFollowedBy=!0:":"!==n&&r.error(e,"Invalid group, character '"+n+"' after '?' at column "+(a-1)),m.remember=!1),l.push(m),h.push(u),u=m,l=m.stack;break;case")":0===h.length&&r.error(e,"Unmatched ) at column "+(a-1)),l=(u=h.pop()).options?u.options[u.options.length-1]:u.stack;break;case"|":u.options||(u.options=[u.stack],delete u.stack);var y=[];u.options.push(y),l=y;break;case"{":var v,b,w=/^(\d+)(,(\d+)?)?\}/.exec(p.slice(a));null!==w?(0===l.length&&f(a),v=parseInt(w[1],10),b=w[2]?w[3]?parseInt(w[3],10):1/0:v,a+=w[0].length,l.push({type:i.REPETITION,min:v,max:b,value:l.pop()})):l.push({type:i.CHAR,value:123});break;case"?":0===l.length&&f(a),l.push({type:i.REPETITION,min:0,max:1,value:l.pop()});break;case"+":0===l.length&&f(a),l.push({type:i.REPETITION,min:1,max:1/0,value:l.pop()});break;case"*":0===l.length&&f(a),l.push({type:i.REPETITION,min:0,max:1/0,value:l.pop()});break;default:l.push({type:i.CHAR,value:n.charCodeAt(0)})}return 0!==h.length&&r.error(e,"Unterminated group"),c},e.exports.types=i},function(e,t,n){var r=n(30),i=n(62),o={0:0,t:9,n:10,v:11,f:12,r:13};t.strToChars=function(e){return e=e.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z\[\\\]\^?])|([0tnvfr]))/g,function(e,t,n,r,i,s,a,c){if(n)return e;var u=t?8:r?parseInt(r,16):i?parseInt(i,16):s?parseInt(s,8):a?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(a):o[c],l=String.fromCharCode(u);return/[\[\]{}\^$.|?*+()]/.test(l)&&(l="\\"+l),l})},t.tokenizeClass=function(e,n){for(var o,s,a=[],c=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?(.)/g;null!=(o=c.exec(e));)if(o[1])a.push(i.words());else if(o[2])a.push(i.ints());else if(o[3])a.push(i.whitespace());else if(o[4])a.push(i.notWords());else if(o[5])a.push(i.notInts());else if(o[6])a.push(i.notWhitespace());else if(o[7])a.push({type:r.RANGE,from:(o[8]||o[9]).charCodeAt(0),to:o[10].charCodeAt(0)});else{if(!(s=o[12]))return[a,c.lastIndex];a.push({type:r.CHAR,value:s.charCodeAt(0)})}t.error(n,"Unterminated character class")},t.error=function(e,t){throw new SyntaxError("Invalid regular expression: /"+e+"/: "+t)}},function(e,t,n){var r=n(30);t.wordBoundary=function(){return{type:r.POSITION,value:"b"}},t.nonWordBoundary=function(){return{type:r.POSITION,value:"B"}},t.begin=function(){return{type:r.POSITION,value:"^"}},t.end=function(){return{type:r.POSITION,value:"$"}}},function(e,t,n){"use strict";
/*!
 * define-property <https://github.com/jonschlinkert/define-property>
 *
 * Copyright (c) 2015-2018, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(6),i=n(16),o="undefined"!=typeof Reflect&&Reflect.defineProperty?Reflect.defineProperty:Object.defineProperty;e.exports=function(e,t,n){if(!r(e)&&"function"!=typeof e&&!Array.isArray(e))throw new TypeError("expected an object, function, or array");if("string"!=typeof t)throw new TypeError('expected "key" to be a string');return i(n)?(o(e,t,n),e):(o(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n}),e)}},function(e,t){var n=Object.prototype.toString;function r(e){return e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return function(e,t){return"GeneratorFunction"===r(e)}(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){if(e.constructor&&"function"==typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return!1}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(r(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=n.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},function(e,t,n){"use strict";
/*!
 * is-accessor-descriptor <https://github.com/jonschlinkert/is-accessor-descriptor>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(146),i={get:"function",set:"function",configurable:"boolean",enumerable:"boolean"};function o(e,t){return{}.hasOwnProperty.call(e,t)}e.exports=function(e,t){if("string"==typeof t)return void 0!==Object.getOwnPropertyDescriptor(e,t);if("object"!==r(e))return!1;if(o(e,"value")||o(e,"writable"))return!1;if(!o(e,"get")||"function"!=typeof e.get)return!1;if(o(e,"set")&&"function"!=typeof e[n]&&void 0!==e[n])return!1;for(var n in e)if(i.hasOwnProperty(n)&&r(e[n])!==i[n]&&void 0!==e[n])return!1;return!0}},function(e,t){var n=Object.prototype.toString;function r(e){return e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return function(e,t){return"GeneratorFunction"===r(e)}(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){if(e.constructor&&"function"==typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return!1}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(r(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=n.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},function(e,t,n){"use strict";
/*!
 * is-data-descriptor <https://github.com/jonschlinkert/is-data-descriptor>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(148);e.exports=function(e,t){var n={configurable:"boolean",enumerable:"boolean",writable:"boolean"};if("object"!==r(e))return!1;if("string"==typeof t)return void 0!==Object.getOwnPropertyDescriptor(e,t);if(!("value"in e||"writable"in e))return!1;for(var i in e)if("value"!==i&&n.hasOwnProperty(i)&&r(e[i])!==n[i]&&void 0!==e[i])return!1;return!0}},function(e,t){var n=Object.prototype.toString;function r(e){return e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return function(e,t){return"GeneratorFunction"===r(e)}(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){if(e.constructor&&"function"==typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return!1}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(r(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=n.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},function(e,t,n){"use strict";var r=n(150),i=n(20);function o(e,t){for(var n in t)u(t,n)&&(e[n]=t[n])}function s(e){return e&&"string"==typeof e}function a(e){var t={};for(var n in e)t[n]=e[n];return t}function c(e){return e&&"object"==typeof e||r(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=Object.assign||function(e){if(null===e||void 0===e)throw new TypeError("Cannot convert undefined or null to object");c(e)||(e={});for(var t=1;t<arguments.length;t++){var n=arguments[t];s(n)&&(n=a(n)),c(n)&&(o(e,n),i(e,n))}return e}},function(e,t,n){"use strict";
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(12);e.exports=function(e){return r(e)||"function"==typeof e||Array.isArray(e)}},function(e,t,n){"use strict";var r=n(152),i=n(20);function o(e,t){for(var n in t)u(t,n)&&(e[n]=t[n])}function s(e){return e&&"string"==typeof e}function a(e){var t={};for(var n in e)t[n]=e[n];return t}function c(e){return e&&"object"==typeof e||r(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=Object.assign||function(e){if(null===e||void 0===e)throw new TypeError("Cannot convert undefined or null to object");c(e)||(e={});for(var t=1;t<arguments.length;t++){var n=arguments[t];s(n)&&(n=a(n)),c(n)&&(o(e,n),i(e,n))}return e}},function(e,t,n){"use strict";
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(12);e.exports=function(e){return r(e)||"function"==typeof e||Array.isArray(e)}},function(e,t,n){"use strict";var r=n(154),i=n(20);function o(e,t){for(var n in t)u(t,n)&&(e[n]=t[n])}function s(e){return e&&"string"==typeof e}function a(e){var t={};for(var n in e)t[n]=e[n];return t}function c(e){return e&&"object"==typeof e||r(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=Object.assign||function(e){if(null===e||void 0===e)throw new TypeError("Cannot convert undefined or null to object");c(e)||(e={});for(var t=1;t<arguments.length;t++){var n=arguments[t];s(n)&&(n=a(n)),c(n)&&(o(e,n),i(e,n))}return e}},function(e,t,n){"use strict";
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(12);e.exports=function(e){return r(e)||"function"==typeof e||Array.isArray(e)}},function(e,t,n){"use strict";
/*!
 * arr-flatten <https://github.com/jonschlinkert/arr-flatten>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e){return function e(t,n){var r,i=0;var o=t.length;for(;i<o;i++)r=t[i],Array.isArray(r)?e(r,n):n.push(r);return n}(e,[])}},function(e,t,n){"use strict";
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(4),i=n(43),o=n(8),s=n(65),a=n(157);function c(e,t){if(t.isPadded){var n=String(e),r=n.length,i="";"-"===n.charAt(0)&&(i="-",n=n.slice(1));var o=t.maxLength-r;e=i+s("0",o)+n}return t.stringify?String(e):e}function u(e){return Number(e)||0}function l(e){return/^-?0\d/.test(e)}function h(e){return"string"==typeof e&&1===e.length&&/^\w+$/.test(e)}function f(e){return i(e)&&!/\./.test(e)}e.exports=function(e,t,n,s){if(void 0===e)return[];if(void 0===t||e===t){var p="string"==typeof e;return i(e)&&!u(e)?[p?"0":0]:[e]}"number"!=typeof n&&"string"!=typeof n&&(s=n,n=void 0),"function"==typeof s&&(s={transform:s});var d=o({step:n},s);if(d.step&&!f(d.step)){if(!0===d.strictRanges)throw new TypeError("expected options.step to be a number");return[]}if(d.isNumber=f(e)&&f(t),!d.isNumber&&!function(e,t){return(f(e)||h(e))&&(f(t)||h(t))}(e,t)){if(!0===d.strictRanges)throw new RangeError("invalid range arguments: "+r.inspect([e,t]));return[]}return d.isPadded=l(e)||l(t),d.toString=d.stringify||"string"==typeof d.step||"string"==typeof e||"string"==typeof t||!d.isNumber,d.isPadded&&(d.maxLength=Math.max(String(e).length,String(t).length)),"boolean"==typeof d.optimize&&(d.toRegex=d.optimize),"boolean"==typeof d.makeRe&&(d.toRegex=d.makeRe),function(e,t,n){var r=n.isNumber?u(e):e.charCodeAt(0),i=n.isNumber?u(t):t.charCodeAt(0),o=Math.abs(u(n.step))||1;if(n.toRegex&&1===o)return function(e,t,n,r,i){if(i.isPadded)return a(n,r,i);if(i.isNumber)return a(Math.min(e,t),Math.max(e,t),i);var n=String.fromCharCode(Math.min(e,t)),r=String.fromCharCode(Math.max(e,t));return"["+n+"-"+r+"]"}(r,i,e,t,n);for(var s={greater:[],lesser:[]},l=r<i,h=new Array(Math.round((l?i-r:r-i)/o)),f=0;l?r<=i:r>=i;){var p=n.isNumber?r:String.fromCharCode(r);n.toRegex&&(p>=0||!n.isNumber)?s.greater.push(p):s.lesser.push(Math.abs(p)),n.isPadded&&(p=c(p,n)),n.toString&&(p=String(p)),"function"==typeof n.transform?h[f++]=n.transform(p,r,i,o,f,h,n):h[f++]=p,l?r+=o:r-=o}return!0===n.toRegex?function(e,t,n){var r="",i="";t.greater.length&&(r=t.greater.join("|")),t.lesser.length&&(i="-("+t.lesser.join("|")+")");var o=r&&i?r+"|"+i:r||i;return n.capture?"("+o+")":o}(0,s,n):h}(e,t,d)}},function(e,t,n){"use strict";
/*!
 * to-regex-range <https://github.com/jonschlinkert/to-regex-range>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(65),i=n(43),o={};function s(e,t,n){if(e===t)return{pattern:String(e),digits:[]};for(var r=function(e,t){var n=[];for(var r in e)n.push([e[r],t[r]]);return n}(String(e),String(t)),i=r.length,o=-1,s="",a=0;++o<i;){var c=r[o],u=c[0],l=c[1];u===l?s+=u:"0"!==u||"9"!==l?s+=g(u,l):a+=1}return a&&(s+=n.shorthand?"\\d":"[0-9]"),{pattern:s,digits:[a]}}function a(e,t,n,r){for(var i,o=function(e,t){e=Number(e);for(var n=1,r=[t=Number(t)],i=+f(e,n);e<=i&&i<=t;)r=l(r,i),i=+f(e,n+=1);var o=1;for(i=p(t+1,o)-1;e<i&&i<=t;)r=l(r,i),i=p(t+1,o+=1)-1;return r.sort(u),r}(e,t),a=o.length,c=-1,h=[],g=e;++c<a;){var m=o[c],v=s(g,m,r),b="";n.isPadded||!i||i.pattern!==v.pattern?(n.isPadded&&(b=y(m,n)),v.string=b+v.pattern+d(v.digits),h.push(v),g=m+1,i=v):(i.digits.length>1&&i.digits.pop(),i.digits.push(v.digits[0]),i.string=i.pattern+d(i.digits),g=m+1)}return h}function c(e,t,n,r,i){for(var o=[],s=0;s<e.length;s++){var a=e[s].string;!1!==i.relaxZeros&&"-"===n&&"0"===a.charAt(0)&&(a="{"===a.charAt(1)?"0*"+a.replace(/^0\{\d+\}/,""):"0*"+a.slice(1)),r||h(t,"string",a)||o.push(n+a),r&&h(t,"string",a)&&o.push(n+a)}return o}function u(e,t){return e>t?1:t>e?-1:0}function l(e,t){return-1===e.indexOf(t)&&e.push(t),e}function h(e,t,n){for(var r=0;r<e.length;r++)if(e[r][t]===n)return!0;return!1}function f(e,t){return String(e).slice(0,-t)+r("9",t)}function p(e,t){return e-e%Math.pow(10,t)}function d(e){var t=e[0],n=e[1]?","+e[1]:"";return n||t&&1!==t?"{"+t+n+"}":""}function g(e,t){return"["+e+(t-e==1?"":"-")+t+"]"}function m(e){return/^-?(0+)\d/.exec(e)}function y(e,t){if(t.isPadded){var n=Math.abs(t.maxLen-String(e).length);switch(n){case 0:return"";case 1:return"0";default:return"0{"+n+"}"}}return e}e.exports=function(e,t,n){if(!1===i(e))throw new RangeError("toRegexRange: first argument is invalid.");if(void 0===t||e===t)return String(e);if(!1===i(t))throw new RangeError("toRegexRange: second argument is invalid.");n=n||{};var r=e+":"+t+"="+String(n.relaxZeros)+String(n.shorthand)+String(n.capture);if(o.hasOwnProperty(r))return o[r].result;var s=Math.min(e,t),u=Math.max(e,t);if(1===Math.abs(s-u)){var l=e+"|"+t;return n.capture?"("+l+")":l}var h=m(e)||m(t),f=[],p=[],d={min:e,max:t,a:s,b:u};return h&&(d.isPadded=h,d.maxLen=String(d.max).length),s<0&&(p=a(u<0?Math.abs(u):1,Math.abs(s),d,n),s=d.a=0),u>=0&&(f=a(s,u,d,n)),d.negatives=p,d.positives=f,d.result=function(e,t,n){var r=c(e,t,"-",!1,n)||[],i=c(t,e,"",!1,n)||[],o=c(e,t,"-?",!0,n)||[];return r.concat(o).concat(i).join("|")}(p,f,n),n.capture&&f.length+p.length>1&&(d.result="("+d.result+")"),o[r]=d,d.result}},function(e,t,n){"use strict";
/*!
 * repeat-element <https://github.com/jonschlinkert/repeat-element>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Licensed under the MIT license.
 */e.exports=function(e,t){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n}},function(e,t,n){"use strict";var r,i=n(6),o=n(160),s=n(161);function a(e,t,n){if("string"!=typeof t&&(n=t,t=null),o(this,"parent",n),o(this,"isNode",!0),o(this,"expect",null),"string"!=typeof t&&i(e)){r||(r=Object.getOwnPropertyNames(a.prototype));for(var s=Object.keys(e),c=0;c<s.length;c++){var u=s[c];-1===r.indexOf(u)&&(this[u]=e[u])}}else this.type=t,this.val=e}function c(e,t){if(!e)throw new Error(t)}a.isNode=function(e){return s.isNode(e)},a.prototype.define=function(e,t){return o(this,e,t),this},a.prototype.isEmpty=function(e){return s.isEmpty(this,e)},a.prototype.push=function(e){return c(a.isNode(e),"expected node to be an instance of Node"),o(e,"parent",this),this.nodes=this.nodes||[],this.nodes.push(e)},a.prototype.unshift=function(e){return c(a.isNode(e),"expected node to be an instance of Node"),o(e,"parent",this),this.nodes=this.nodes||[],this.nodes.unshift(e)},a.prototype.pop=function(){return this.nodes&&this.nodes.pop()},a.prototype.shift=function(){return this.nodes&&this.nodes.shift()},a.prototype.remove=function(e){c(a.isNode(e),"expected node to be an instance of Node"),this.nodes=this.nodes||[];var t=e.index;return-1!==t?(e.index=-1,this.nodes.splice(t,1)):null},a.prototype.find=function(e){return s.findNode(this.nodes,e)},a.prototype.isType=function(e){return s.isType(this,e)},a.prototype.hasType=function(e){return s.hasType(this,e)},Object.defineProperty(a.prototype,"siblings",{set:function(){throw new Error("node.siblings is a getter and cannot be defined")},get:function(){return this.parent?this.parent.nodes:null}}),Object.defineProperty(a.prototype,"index",{set:function(e){o(this,"idx",e)},get:function(){return Array.isArray(this.siblings)?((-1!==this.idx?this.siblings[this.idx]:null)!==this&&(this.idx=this.siblings.indexOf(this)),this.idx):-1}}),Object.defineProperty(a.prototype,"prev",{set:function(){throw new Error("node.prev is a getter and cannot be defined")},get:function(){return Array.isArray(this.siblings)?this.siblings[this.index-1]||this.parent.prev:null}}),Object.defineProperty(a.prototype,"next",{set:function(){throw new Error("node.next is a getter and cannot be defined")},get:function(){return Array.isArray(this.siblings)?this.siblings[this.index+1]||this.parent.next:null}}),Object.defineProperty(a.prototype,"first",{get:function(){return this.nodes?this.nodes[0]:null}}),Object.defineProperty(a.prototype,"last",{get:function(){return this.nodes?s.last(this.nodes):null}}),Object.defineProperty(a.prototype,"scope",{get:function(){return!0!==this.isScope&&this.parent?this.parent.scope:this}}),e.exports=a},function(e,t,n){"use strict";
/*!
 * define-property <https://github.com/jonschlinkert/define-property>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(16);e.exports=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("expected an object or function.");if("string"!=typeof t)throw new TypeError("expected `prop` to be a string.");return r(n)&&("set"in n||"get"in n)?Object.defineProperty(e,t,n):Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}},function(e,t,n){"use strict";var r=n(33),i=e.exports;function o(e){return"object"===r(e)}function s(e){return"function"==typeof e}function a(e,t,n){return"function"!=typeof e.append?e.emit(t,n):e.append(t,n)}function c(e,t){if(!e)throw new Error(t)}i.isNode=function(e){return"object"===r(e)&&!0===e.isNode},i.noop=function(e){a(this,"",e)},i.identity=function(e){a(this,e.val,e)},i.append=function(e){return function(t){a(this,e,t)}},i.toNoop=function(e,t){t?e.nodes=t:(delete e.nodes,e.type="text",e.val="")},i.visit=function(e,t){return c(i.isNode(e),"expected node to be an instance of Node"),c(s(t),"expected a visitor function"),t(e),e.nodes?i.mapVisit(e,t):e},i.mapVisit=function(e,t){c(i.isNode(e),"expected node to be an instance of Node"),c(function(e){return Array.isArray(e)}(e.nodes),"expected node.nodes to be an array"),c(s(t),"expected a visitor function");for(var n=0;n<e.nodes.length;n++)i.visit(e.nodes[n],t);return e},i.addOpen=function(e,t,n,r){if(c(i.isNode(e),"expected node to be an instance of Node"),c(s(t),"expected Node to be a constructor function"),"function"==typeof n&&(r=n,n=""),"function"!=typeof r||r(e)){var o=new t({type:e.type+".open",val:n}),a=e.unshift||e.unshiftNode;return"function"==typeof a?a.call(e,o):i.unshiftNode(e,o),o}},i.addClose=function(e,t,n,r){if(c(i.isNode(e),"expected node to be an instance of Node"),c(s(t),"expected Node to be a constructor function"),"function"==typeof n&&(r=n,n=""),"function"!=typeof r||r(e)){var o=new t({type:e.type+".close",val:n}),a=e.push||e.pushNode;return"function"==typeof a?a.call(e,o):i.pushNode(e,o),o}},i.wrapNodes=function(e,t,n){return c(i.isNode(e),"expected node to be an instance of Node"),c(s(t),"expected Node to be a constructor function"),i.addOpen(e,t,n),i.addClose(e,t,n),e},i.pushNode=function(e,t){return c(i.isNode(e),"expected parent node to be an instance of Node"),c(i.isNode(t),"expected node to be an instance of Node"),t.define("parent",e),e.nodes=e.nodes||[],e.nodes.push(t),t},i.unshiftNode=function(e,t){c(i.isNode(e),"expected parent node to be an instance of Node"),c(i.isNode(t),"expected node to be an instance of Node"),t.define("parent",e),e.nodes=e.nodes||[],e.nodes.unshift(t)},i.popNode=function(e){return c(i.isNode(e),"expected node to be an instance of Node"),"function"==typeof e.pop?e.pop():e.nodes&&e.nodes.pop()},i.shiftNode=function(e){return c(i.isNode(e),"expected node to be an instance of Node"),"function"==typeof e.shift?e.shift():e.nodes&&e.nodes.shift()},i.removeNode=function(e,t){if(c(i.isNode(e),"expected parent.node to be an instance of Node"),c(i.isNode(t),"expected node to be an instance of Node"),!e.nodes)return null;if("function"==typeof e.remove)return e.remove(t);var n=e.nodes.indexOf(t);return-1!==n?e.nodes.splice(n,1):void 0},i.isType=function(e,t){switch(c(i.isNode(e),"expected node to be an instance of Node"),r(t)){case"array":for(var n=t.slice(),o=0;o<n.length;o++)if(i.isType(e,n[o]))return!0;return!1;case"string":return e.type===t;case"regexp":return t.test(e.type);default:throw new TypeError('expected "type" to be an array, string or regexp')}},i.hasType=function(e,t){if(c(i.isNode(e),"expected node to be an instance of Node"),!Array.isArray(e.nodes))return!1;for(var n=0;n<e.nodes.length;n++)if(i.isType(e.nodes[n],t))return!0;return!1},i.firstOfType=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(i.isType(r,t))return r}},i.findNode=function(e,t){return Array.isArray(e)?"number"==typeof t?e[t]:i.firstOfType(e,t):null},i.isOpen=function(e){return c(i.isNode(e),"expected node to be an instance of Node"),".open"===e.type.slice(-5)},i.isClose=function(e){return c(i.isNode(e),"expected node to be an instance of Node"),".close"===e.type.slice(-6)},i.hasOpen=function(e){c(i.isNode(e),"expected node to be an instance of Node");var t=e.first||e.nodes?e.nodes[0]:null;return!!i.isNode(t)&&t.type===e.type+".open"},i.hasClose=function(e){c(i.isNode(e),"expected node to be an instance of Node");var t=e.last||e.nodes?e.nodes[e.nodes.length-1]:null;return!!i.isNode(t)&&t.type===e.type+".close"},i.hasOpenAndClose=function(e){return i.hasOpen(e)&&i.hasClose(e)},i.addType=function(e,t){c(i.isNode(t),"expected node to be an instance of Node"),c(o(e),"expected state to be an object");var n=t.parent?t.parent.type:t.type.replace(/\.open$/,"");e.hasOwnProperty("inside")||(e.inside={}),e.inside.hasOwnProperty(n)||(e.inside[n]=[]);var r=e.inside[n];return r.push(t),r},i.removeType=function(e,t){c(i.isNode(t),"expected node to be an instance of Node"),c(o(e),"expected state to be an object");var n=t.parent?t.parent.type:t.type.replace(/\.close$/,"");if(e.inside.hasOwnProperty(n))return e.inside[n].pop()},i.isEmpty=function(e,t){if(c(i.isNode(e),"expected node to be an instance of Node"),!Array.isArray(e.nodes))return"text"!==e.type||("function"==typeof t?t(e,e.parent):!i.trim(e.val));for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(!i.isOpen(r)&&!i.isClose(r)&&!i.isEmpty(r,t))return!1}return!0},i.isInsideType=function(e,t){return c(o(e),"expected state to be an object"),c(function(e){return"string"==typeof e}(t),"expected type to be a string"),!!e.hasOwnProperty("inside")&&(!!e.inside.hasOwnProperty(t)&&e.inside[t].length>0)},i.isInside=function(e,t,n){if(c(i.isNode(t),"expected node to be an instance of Node"),c(o(e),"expected state to be an object"),Array.isArray(n)){for(var s=0;s<n.length;s++)if(i.isInside(e,t,n[s]))return!0;return!1}var a=t.parent;if("string"==typeof n)return a&&a.type===n||i.isInsideType(e,n);if("regexp"===r(n)){if(a&&a.type&&n.test(a.type))return!0;for(var u=Object.keys(e.inside),l=u.length,h=-1;++h<l;){var f=u[h],p=e.inside[f];if(Array.isArray(p)&&0!==p.length&&n.test(f))return!0}}return!1},i.last=function(e,t){return e[e.length-(t||1)]},i.arrayify=function(e){return"string"==typeof e&&""!==e?[e]:Array.isArray(e)?e:[]},i.stringify=function(e){return i.arrayify(e).join(",")},i.trim=function(e){return"string"==typeof e?e.trim():""}},function(e,t,n){"use strict";var r=n(8),i=n(23),o=n(63),s=n(66),a=n(32);function c(e){this.options=r({},e)}c.prototype.init=function(e){if(!this.isInitialized){this.isInitialized=!0;var t=a.createOptions({},this.options,e);this.snapdragon=this.options.snapdragon||new i(t),this.compiler=this.snapdragon.compiler,this.parser=this.snapdragon.parser,o(this.snapdragon,t),s(this.snapdragon,t),a.define(this.snapdragon,"parse",function(e,t){var n=i.prototype.parse.apply(this,arguments);this.parser.ast.input=e;for(var r=this.parser.stack;r.length;)o({type:"brace.close",val:""},r.pop());function o(e,t){a.define(e,"parent",t),t.nodes.push(e)}return a.define(n,"parser",this.parser),n})}},c.prototype.parse=function(e,t){return e&&"object"==typeof e&&e.nodes?e:(this.init(t),this.snapdragon.parse(e,t))},c.prototype.compile=function(e,t){return"string"==typeof e?e=this.parse(e,t):this.init(t),this.snapdragon.compile(e,t)},c.prototype.expand=function(e){var t=this.parse(e,{expand:!0});return this.compile(t,{expand:!0})},c.prototype.optimize=function(e){var t=this.parse(e,{optimize:!0});return this.compile(t,{optimize:!0})},e.exports=c},function(e,t,n){"use strict";var r=n(4),i=n(164),o=n(165),s=n(67),a=n(6),c=n(178),u=n(181),l=n(182);function h(e){var t=e?o.namespace(e):o,n=[];function h(e,n){if(!(this instanceof h))return new h(e,n);t.call(this,e),this.is("base"),this.initBase(e,n)}return r.inherits(h,t),s(h),h.prototype.initBase=function(t,r){this.options=c({},this.options,r),this.cache=this.cache||{},this.define("registered",{}),e&&(this[e]={}),this.define("_callbacks",this._callbacks),a(t)&&this.visit("set",t),h.run(this,"use",n)},h.prototype.is=function(e){if("string"!=typeof e)throw new TypeError("expected name to be a string");return this.define("is"+u(e),!0),this.define("_name",e),this.define("_appname",e),this},h.prototype.isRegistered=function(e,t){return!!this.registered.hasOwnProperty(e)||(!1!==t&&(this.registered[e]=!0,this.emit("plugin",e)),!1)},h.prototype.use=function(e){return e.call(this,this),this},h.prototype.define=function(e,t){return a(e)?this.visit("define",e):(i(this,e,t),this)},h.prototype.mixin=function(e,t){return h.prototype[e]=t,this},h.prototype.mixins=h.prototype.mixins||[],Object.defineProperty(h.prototype,"base",{configurable:!0,get:function(){return this.parent?this.parent.base:this}}),i(h,"use",function(e){return n.push(e),h}),i(h,"run",function(e,t,n){for(var r=n.length,i=0;r--;)e[t](n[i++]);return h}),i(h,"extend",l.extend(h,function(e,t){return e.prototype.mixins=e.prototype.mixins||[],i(e,"mixin",function(t){var n=t(e.prototype,e);return"function"==typeof n&&e.prototype.mixins.push(n),e}),i(e,"mixins",function(t){return h.run(t,"mixin",e.prototype.mixins),e}),e.prototype.mixin=function(t,n){return e.prototype[t]=n,this},h})),i(h,"mixin",function(e){var t=e(h.prototype,h);return"function"==typeof t&&h.prototype.mixins.push(t),h}),i(h,"mixins",function(e){return h.run(e,"mixin",h.prototype.mixins),h}),i(h,"inherit",l.inherit),i(h,"bubble",l.bubble),h}e.exports=h(),e.exports.namespace=h},function(e,t,n){"use strict";
/*!
 * define-property <https://github.com/jonschlinkert/define-property>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(16);e.exports=function(e,t,n){if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("expected an object or function.");if("string"!=typeof t)throw new TypeError("expected `prop` to be a string.");return r(n)&&("set"in n||"get"in n)?Object.defineProperty(e,t,n):Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}},function(e,t,n){"use strict";var r=n(6),i=n(67),o=n(166),s=n(69),a=n(168),c=n(170),u=n(35),l=(n(174),n(177));function h(e){function t(t){e&&(this[e]={}),t&&this.set(t)}return i(t.prototype),t.prototype.set=function(t,n){return Array.isArray(t)&&2===arguments.length&&(t=s(t)),r(t)||Array.isArray(t)?this.visit("set",t):(l(e?this[e]:this,t,n),this.emit("set",t,n)),this},t.prototype.union=function(t,n){Array.isArray(t)&&2===arguments.length&&(t=s(t));var r=e?this[e]:this;return a(r,t,function(e){return e?Array.isArray(e)?e:[e]:[]}(n)),this.emit("union",n),this},t.prototype.get=function(t){t=s(arguments);var n=e?this[e]:this,r=u(n,t);return this.emit("get",t,r),r},t.prototype.has=function(t){t=s(arguments);var n=e?this[e]:this,r=void 0!==u(n,t);return this.emit("has",t,r),r},t.prototype.del=function(t){return Array.isArray(t)?this.visit("del",t):(c(e?this[e]:this,t),this.emit("del",t)),this},t.prototype.clear=function(){e&&(this[e]={})},t.prototype.visit=function(e,t){return o(this,e,t),this},t}e.exports=h(),e.exports.namespace=h},function(e,t,n){"use strict";
/*!
 * collection-visit <https://github.com/jonschlinkert/collection-visit>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(68),i=n(167);e.exports=function(e,t,n){var o;if("string"==typeof n&&t in e){var s=[].slice.call(arguments,2);o=e[t].apply(e,s)}else o=Array.isArray(n)?i.apply(null,arguments):r.apply(null,arguments);return void 0!==o?o:e}},function(e,t,n){"use strict";var r=n(4),i=n(68);function o(e){return e&&("function"==typeof e||!Array.isArray(e)&&"object"==typeof e)}e.exports=function(e,t,n){if(o(n))return i.apply(null,arguments);if(!Array.isArray(n))throw new TypeError("expected an array: "+r.inspect(n));for(var s=[].slice.call(arguments,3),a=0;a<n.length;a++){var c=n[a];o(c)?i.apply(null,[e,t,c].concat(s)):e[t].apply(e,[c].concat(s))}}},function(e,t,n){"use strict";var r=n(31),i=n(70),o=n(35),s=n(169);function a(e){return null===e||void 0===e?[]:Array.isArray(e)?e:[e]}e.exports=function(e,t,n){if(!r(e))throw new TypeError("union-value expects the first argument to be an object.");if("string"!=typeof t)throw new TypeError("union-value expects `prop` to be a string.");var c=a(o(e,t));return s(e,t,i(c,a(n))),e}},function(e,t,n){"use strict";
/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(69),i=n(8),o=n(12),s=n(31);e.exports=function(e,t,n){if(!s(e))return e;if(Array.isArray(t)&&(t=r(t)),"string"!=typeof t)return e;for(var a,c=t.split("."),u=c.length,l=-1,h=e;++l<u;){for(var f=c[l];"\\"===f[f.length-1];)f=f.slice(0,-1)+"."+c[++l];if(l===u-1){a=f;break}s(e[f])||(e[f]={}),e=e[f]}return e.hasOwnProperty(a)&&s(e[a])&&o(n)?i(e[a],n):e[a]=n,h}},function(e,t,n){"use strict";
/*!
 * unset-value <https://github.com/jonschlinkert/unset-value>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(6),i=n(171);e.exports=function(e,t){if(!r(e))throw new TypeError("expected an object.");if(e.hasOwnProperty(t))return delete e[t],!0;if(i(e,t)){for(var n=t.split("."),o=n.pop();n.length&&"\\"===n[n.length-1].slice(-1);)o=n.pop().slice(0,-1)+"."+o;for(;n.length;)e=e[t=n.shift()];return delete e[o]}return!0}},function(e,t,n){"use strict";
/*!
 * has-value <https://github.com/jonschlinkert/has-value>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=n(172),i=n(173),o=n(35);e.exports=function(e,t,n){return r(e)?i(o(e,t),n):i(e,t)}},function(e,t,n){"use strict";
/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=n(71);e.exports=function(e){return null!=e&&"object"==typeof e&&!1===r(e)}},function(e,t,n){"use strict";
/*!
 * has-values <https://github.com/jonschlinkert/has-values>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */e.exports=function(e,t){if(null===e||void 0===e)return!1;if("boolean"==typeof e)return!0;if("number"==typeof e)return 0!==e||!0!==t;if(void 0!==e.length)return 0!==e.length;for(var n in e)if(e.hasOwnProperty(n))return!0;return!1}},function(e,t,n){"use strict";
/*!
 * has-value <https://github.com/jonschlinkert/has-value>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=n(6),i=n(175),o=n(35);e.exports=function(e,t){return i(r(e)&&t?o(e,t):e)}},function(e,t,n){"use strict";
/*!
 * has-values <https://github.com/jonschlinkert/has-values>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(176),i=n(43);e.exports=function e(t){if(i(t))return!0;switch(r(t)){case"null":case"boolean":case"function":return!0;case"string":case"arguments":return 0!==t.length;case"error":return""!==t.message;case"array":var n=t.length;if(0===n)return!1;for(var o=0;o<n;o++)if(e(t[o]))return!0;return!1;case"file":case"map":case"set":return 0!==t.size;case"object":var s=Object.keys(t);if(0===s.length)return!1;for(o=0;o<s.length;o++){if(e(t[s[o]]))return!0}return!1;default:return!1}}},function(e,t,n){var r=n(34),i=Object.prototype.toString;e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if(!0===e||!1===e||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if(void 0!==Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var t=i.call(e);return"[object RegExp]"===t?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":"[object Promise]"===t?"promise":r(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}},function(e,t,n){"use strict";
/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(64),i=n(8),o=n(12),s=n(31);e.exports=function(e,t,n){if(!s(e))return e;if(Array.isArray(t)&&(t=[].concat.apply([],t).join(".")),"string"!=typeof t)return e;for(var a=r(t,{sep:".",brackets:!0}),c=a.length,u=-1,l=e;++u<c;){var h=a[u];u===c-1?o(l[h])&&o(n)?l[h]=i({},l[h],n):l[h]=n:(s(l[h])||(l[h]={}),l=l[h])}return e}},function(e,t,n){"use strict";var r=n(179),i=n(180);function o(e,t){for(var n=arguments.length,r=0;++r<n;){var o=arguments[r];a(o)&&i(o,s,e)}return e}function s(e,t){if("__proto__"!==t){var n=this[t];a(e)&&a(n)?o(n,e):this[t]=e}}function a(e){return r(e)&&!Array.isArray(e)}e.exports=o},function(e,t,n){"use strict";
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(12);e.exports=function(e){return r(e)||"function"==typeof e||Array.isArray(e)}},function(e,t,n){"use strict";
/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */e.exports=function(e,t,n){for(var r in e)if(!1===t.call(n,e[r],r,e))break}},function(e,t){e.exports=
/*!
 * pascalcase <https://github.com/jonschlinkert/pascalcase>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
function(e){if("string"!=typeof e)throw new TypeError("expected a string.");return 1===(e=e.replace(/([A-Z])/g," $1")).length?e.toUpperCase():(e=(e=e.replace(/^[\W_]+|[\W_]+$/g,"").toLowerCase()).charAt(0).toUpperCase()+e.slice(1)).replace(/[\W_]+(\w|$)/g,function(e,t){return t.toUpperCase()})}},function(e,t,n){"use strict";n(4);var r=n(70),i=n(9),o=n(189),s=n(6),a=e.exports;a.isObject=function(e){return s(e)||"function"==typeof e},a.has=function(e,t){var n=(t=a.arrayify(t)).length;if(a.isObject(e)){for(var r in e)if(t.indexOf(r)>-1)return!0;var i=a.nativeKeys(e);return a.has(i,t)}if(Array.isArray(e)){for(var o=e;n--;)if(o.indexOf(t[n])>-1)return!0;return!1}throw new TypeError("expected an array or object.")},a.hasAll=function(e,t){for(var n=(t=a.arrayify(t)).length;n--;)if(!a.has(e,t[n]))return!1;return!0},a.arrayify=function(e){return e?Array.isArray(e)?e:[e]:[]},a.noop=function(){},a.identity=function(e){return e},a.hasConstructor=function(e){return a.isObject(e)&&void 0!==e.constructor},a.nativeKeys=function(e){if(!a.hasConstructor(e))return[];var t=Object.getOwnPropertyNames(e);return"caller"in e&&t.push("caller"),t},a.getDescriptor=function(e,t){if(!a.isObject(e))throw new TypeError("expected an object.");if("string"!=typeof t)throw new TypeError("expected key to be a string.");return Object.getOwnPropertyDescriptor(e,t)},a.copyDescriptor=function(e,t,n){if(!a.isObject(e))throw new TypeError("expected receiving object to be an object.");if(!a.isObject(t))throw new TypeError("expected providing object to be an object.");if("string"!=typeof n)throw new TypeError("expected name to be a string.");var r=a.getDescriptor(t,n);r&&Object.defineProperty(e,n,r)},a.copy=function(e,t,n){if(!a.isObject(e))throw new TypeError("expected receiving object to be an object.");if(!a.isObject(t))throw new TypeError("expected providing object to be an object.");var r,o=Object.getOwnPropertyNames(t),s=Object.keys(t),c=o.length;for(n=a.arrayify(n);c--;)r=o[c],a.has(s,r)?i(e,r,t[r]):r in e||a.has(n,r)||a.copyDescriptor(e,t,r)},a.inherit=function(e,t,n){if(!a.isObject(e))throw new TypeError("expected receiving object to be an object.");if(!a.isObject(t))throw new TypeError("expected providing object to be an object.");var r=[];for(var i in t)r.push(i),e[i]=t[i];r=r.concat(a.arrayify(n));var o=t.prototype||t,s=e.prototype||e;a.copy(s,o,r)},a.extend=function(){return o.apply(null,arguments)},a.bubble=function(e,t){t=t||[],e.bubble=function(n,i){Array.isArray(i)&&(t=r([],t,i));for(var o=t.length,s=-1;++s<o;){var c=t[s];e.on(c,n.emit.bind(n,c))}a.bubble(n,t)}}},function(e,t,n){"use strict";
/*!
 * is-descriptor <https://github.com/jonschlinkert/is-descriptor>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(184),i=n(185),o=n(187);e.exports=function(e,t){return"object"===r(e)&&("get"in e?i(e,t):o(e,t))}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){var t=typeof e;return"undefined"===t?"undefined":null===e?"null":!0===e||!1===e||e instanceof Boolean?"boolean":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?void 0!==e.constructor.name&&"Generator"===e.constructor.name.slice(0,9)?"generatorfunction":"function":void 0!==Array.isArray&&Array.isArray(e)?"array":e instanceof RegExp?"regexp":e instanceof Date?"date":"[object RegExp]"===(t=n.call(e))?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":"[object Promise]"===t?"promise":function(e){return e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Map Iterator]"===t?"mapiterator":"[object Set Iterator]"===t?"setiterator":"[object String Iterator]"===t?"stringiterator":"[object Array Iterator]"===t?"arrayiterator":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}},function(e,t,n){"use strict";
/*!
 * is-accessor-descriptor <https://github.com/jonschlinkert/is-accessor-descriptor>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=n(186),i={get:"function",set:"function",configurable:"boolean",enumerable:"boolean"};function o(e,t){return{}.hasOwnProperty.call(e,t)}e.exports=function(e,t){if("string"==typeof t)return void 0!==Object.getOwnPropertyDescriptor(e,t);if("object"!==r(e))return!1;if(o(e,"value")||o(e,"writable"))return!1;if(!o(e,"get")||"function"!=typeof e.get)return!1;if(o(e,"set")&&"function"!=typeof e[n]&&void 0!==e[n])return!1;for(var n in e)if(i.hasOwnProperty(n)&&r(e[n])!==i[n]&&void 0!==e[n])return!1;return!0}},function(e,t,n){var r=n(34),i=Object.prototype.toString;e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if(!0===e||!1===e||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if(void 0!==Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var t=i.call(e);return"[object RegExp]"===t?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":r(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}},function(e,t,n){"use strict";
/*!
 * is-data-descriptor <https://github.com/jonschlinkert/is-data-descriptor>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=n(188),i={configurable:"boolean",enumerable:"boolean",writable:"boolean"};e.exports=function(e,t){if("object"!==r(e))return!1;if("string"==typeof t)return void 0!==Object.getOwnPropertyDescriptor(e,t);if(!("value"in e||"writable"in e))return!1;for(var n in e)if("value"!==n&&i.hasOwnProperty(n)&&r(e[n])!==i[n]&&void 0!==e[n])return!1;return!0}},function(e,t,n){var r=n(34),i=Object.prototype.toString;e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if(!0===e||!1===e||e instanceof Boolean)return"boolean";if("string"==typeof e||e instanceof String)return"string";if("number"==typeof e||e instanceof Number)return"number";if("function"==typeof e||e instanceof Function)return"function";if(void 0!==Array.isArray&&Array.isArray(e))return"array";if(e instanceof RegExp)return"regexp";if(e instanceof Date)return"date";var t=i.call(e);return"[object RegExp]"===t?"regexp":"[object Date]"===t?"date":"[object Arguments]"===t?"arguments":"[object Error]"===t?"error":r(e)?"buffer":"[object Set]"===t?"set":"[object WeakSet]"===t?"weakset":"[object Map]"===t?"map":"[object WeakMap]"===t?"weakmap":"[object Symbol]"===t?"symbol":"[object Int8Array]"===t?"int8array":"[object Uint8Array]"===t?"uint8array":"[object Uint8ClampedArray]"===t?"uint8clampedarray":"[object Int16Array]"===t?"int16array":"[object Uint16Array]"===t?"uint16array":"[object Int32Array]"===t?"int32array":"[object Uint32Array]"===t?"uint32array":"[object Float32Array]"===t?"float32array":"[object Float64Array]"===t?"float64array":"object"}},function(e,t,n){"use strict";
/*!
 * static-extend <https://github.com/jonschlinkert/static-extend>
 *
 * Copyright (c) 2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r=n(190),i=n(9),o=n(4);e.exports=function e(t,n){if("function"!=typeof t)throw new TypeError("expected Parent to be a function.");return function(s,a){if("function"!=typeof s)throw new TypeError("expected Ctor to be a function.");if(o.inherits(s,t),r(s,t),"object"==typeof a){var c=Object.create(a);for(var u in c)s.prototype[u]=c[u]}i(s.prototype,"_parent_",{configurable:!0,set:function(){},get:function(){return t.prototype}}),"function"==typeof n&&n(s,t),s.extend=e(s,n)}}},function(e,t,n){"use strict";var r=n(33),i=n(191),o=n(9);function s(e){return"object"===r(e)||"function"==typeof e}function a(e,t){var n=(t=c(t)).length;if(s(e)){for(var r in e)if(t.indexOf(r)>-1)return!0;return a(u(e),t)}if(Array.isArray(e)){for(var i=e;n--;)if(i.indexOf(t[n])>-1)return!0;return!1}throw new TypeError("expected an array or object.")}function c(e){return e?Array.isArray(e)?e:[e]:[]}function u(e){return function(e){return s(e)&&void 0!==e.constructor}(e)?Object.getOwnPropertyNames(e):[]}e.exports=function(e,t,n){if(!s(e))throw new TypeError("expected receiving object to be an object.");if(!s(t))throw new TypeError("expected providing object to be an object.");var r=u(t),l=Object.keys(t),h=r.length;for(n=c(n);h--;){var f=r[h];a(l,f)?o(e,f,t[f]):f in e||a(n,f)||i(e,t,f)}},e.exports.has=a},function(e,t,n){"use strict";
/*!
 * copy-descriptor <https://github.com/jonschlinkert/copy-descriptor>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */function r(e){return"[object Object]"==={}.toString.call(e)}e.exports=function(e,t,n,i){if(r(t)||"function"==typeof t||(i=n,n=t,t=e),!r(e)&&"function"!=typeof e)throw new TypeError("expected the first argument to be an object");if(!r(t)&&"function"!=typeof t)throw new TypeError("expected provider to be an object");if("string"!=typeof i&&(i=n),"string"!=typeof n)throw new TypeError("expected key to be a string");if(!(n in t))throw new Error('property "'+n+'" does not exist');var o=Object.getOwnPropertyDescriptor(t,n);o&&Object.defineProperty(e,i,o)}},function(e,t,n){"use strict";var r=n(72),i=n(9),o=n(44)("snapdragon:compiler"),s=n(36);function a(e,t){o("initializing",__filename),this.options=s.extend({source:"string"},e),this.state=t||{},this.compilers={},this.output="",this.set("eos",function(e){return this.emit(e.val,e)}),this.set("noop",function(e){return this.emit(e.val,e)}),this.set("bos",function(e){return this.emit(e.val,e)}),r(this)}a.prototype={error:function(e,t){var n=t.position||{start:{column:0}},r=this.options.source+" column:"+n.start.column+": "+e,i=new Error(r);if(i.reason=e,i.column=n.start.column,i.source=this.pattern,!this.options.silent)throw i;this.errors.push(i)},define:function(e,t){return i(this,e,t),this},emit:function(e,t){return this.output+=e,e},set:function(e,t){return this.compilers[e]=t,this},get:function(e){return this.compilers[e]},prev:function(e){return this.ast.nodes[this.idx-(e||1)]||{type:"bos",val:""}},next:function(e){return this.ast.nodes[this.idx+(e||1)]||{type:"eos",val:""}},visit:function(e,t,n){var r=this.compilers[e.type];if(this.idx=n,"function"!=typeof r)throw this.error('compiler "'+e.type+'" is not registered',e);return r.call(this,e,t,n)},mapVisit:function(e){if(!Array.isArray(e))throw new TypeError("expected an array");for(var t=e.length,n=-1;++n<t;)this.visit(e[n],e,n);return this},compile:function(e,t){var r=s.extend({},this.options,t);return this.ast=e,this.parsingErrors=this.ast.errors,this.output="",r.sourcemap?(n(211)(this),this.mapVisit(this.ast.nodes),this.applySourceMaps(),this.map="generator"===r.sourcemap?this.map:this.map.toJSON(),this):(this.mapVisit(this.ast.nodes),this)}},e.exports=a},function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(73)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(o=++i)}),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())},function(e,t){var n=1e3,r=60*n,i=60*r,o=24*i,s=365.25*o;function a(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===c&&!1===isNaN(e))return t.long?function(e){return a(e,o,"day")||a(e,i,"hour")||a(e,r,"minute")||a(e,n,"second")||e+" ms"}(e):function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=i)return Math.round(e/i)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(196),i=n(4);(t=e.exports=n(73)).init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(){return s.write(i.format.apply(i,arguments)+"\n")},t.formatArgs=function(e){var n=this.namespace;if(this.useColors){var r=this.color,i="  [3"+r+";1m"+n+" [0m";e[0]=i+e[0].split("\n").join("\n"+i),e.push("[3"+r+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+n+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=a,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(o)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{});var o=parseInt(process.env.DEBUG_FD,10)||2;1!==o&&2!==o&&i.deprecate(function(){},"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var s=1===o?process.stdout:2===o?process.stderr:function(e){var t;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":(t=new r.WriteStream(e))._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":var i=n(2);(t=new i.SyncWriteStream(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":var o=n(74);(t=new o.Socket({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(o);function a(){return process.env.DEBUG}t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(function(e){return e.trim()}).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)},t.enable(a())},function(e,t){e.exports=require("tty")},function(e,t,n){t.SourceMapGenerator=n(75).SourceMapGenerator,t.SourceMapConsumer=n(200).SourceMapConsumer,t.SourceNode=n(203).SourceNode},function(e,t){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},function(e,t,n){var r=n(24);function i(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}i.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},i.prototype.add=function(e){!function(e,t){var n=e.generatedLine,i=t.generatedLine,o=e.generatedColumn,s=t.generatedColumn;return i>n||i==n&&s>=o||r.compareByGeneratedPositionsInflated(e,t)<=0}(this._last,e)?(this._sorted=!1,this._array.push(e)):(this._last=e,this._array.push(e))},i.prototype.toArray=function(){return this._sorted||(this._array.sort(r.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.MappingList=i},function(e,t,n){var r=n(24),i=n(201),o=n(77).ArraySet,s=n(76),a=n(202).quickSort;function c(e){var t=e;return"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,""))),null!=t.sections?new h(t):new u(t)}function u(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),i=r.getArg(t,"sources"),s=r.getArg(t,"names",[]),a=r.getArg(t,"sourceRoot",null),c=r.getArg(t,"sourcesContent",null),u=r.getArg(t,"mappings"),l=r.getArg(t,"file",null);if(n!=this._version)throw new Error("Unsupported version: "+n);i=i.map(String).map(r.normalize).map(function(e){return a&&r.isAbsolute(a)&&r.isAbsolute(e)?r.relative(a,e):e}),this._names=o.fromArray(s.map(String),!0),this._sources=o.fromArray(i,!0),this.sourceRoot=a,this.sourcesContent=c,this._mappings=u,this.file=l}function l(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function h(e){var t=e;"string"==typeof e&&(t=JSON.parse(e.replace(/^\)\]\}'/,"")));var n=r.getArg(t,"version"),i=r.getArg(t,"sections");if(n!=this._version)throw new Error("Unsupported version: "+n);this._sources=new o,this._names=new o;var s={line:-1,column:0};this._sections=i.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var t=r.getArg(e,"offset"),n=r.getArg(t,"line"),i=r.getArg(t,"column");if(n<s.line||n===s.line&&i<s.column)throw new Error("Section offsets must be ordered and non-overlapping.");return s=t,{generatedOffset:{generatedLine:n+1,generatedColumn:i+1},consumer:new c(r.getArg(e,"map"))}})}c.fromSourceMap=function(e){return u.fromSourceMap(e)},c.prototype._version=3,c.prototype.__generatedMappings=null,Object.defineProperty(c.prototype,"_generatedMappings",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),c.prototype.__originalMappings=null,Object.defineProperty(c.prototype,"_originalMappings",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),c.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},c.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},c.GENERATED_ORDER=1,c.ORIGINAL_ORDER=2,c.GREATEST_LOWER_BOUND=1,c.LEAST_UPPER_BOUND=2,c.prototype.eachMapping=function(e,t,n){var i,o=t||null;switch(n||c.GENERATED_ORDER){case c.GENERATED_ORDER:i=this._generatedMappings;break;case c.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var s=this.sourceRoot;i.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return null!=t&&null!=s&&(t=r.join(s,t)),{source:t,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,o)},c.prototype.allGeneratedPositionsFor=function(e){var t=r.getArg(e,"line"),n={source:r.getArg(e,"source"),originalLine:t,originalColumn:r.getArg(e,"column",0)};if(null!=this.sourceRoot&&(n.source=r.relative(this.sourceRoot,n.source)),!this._sources.has(n.source))return[];n.source=this._sources.indexOf(n.source);var o=[],s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,i.LEAST_UPPER_BOUND);if(s>=0){var a=this._originalMappings[s];if(void 0===e.column)for(var c=a.originalLine;a&&a.originalLine===c;)o.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s];else for(var u=a.originalColumn;a&&a.originalLine===t&&a.originalColumn==u;)o.push({line:r.getArg(a,"generatedLine",null),column:r.getArg(a,"generatedColumn",null),lastColumn:r.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++s]}return o},t.SourceMapConsumer=c,u.prototype=Object.create(c.prototype),u.prototype.consumer=c,u.fromSourceMap=function(e){var t=Object.create(u.prototype),n=t._names=o.fromArray(e._names.toArray(),!0),i=t._sources=o.fromArray(e._sources.toArray(),!0);t.sourceRoot=e._sourceRoot,t.sourcesContent=e._generateSourcesContent(t._sources.toArray(),t.sourceRoot),t.file=e._file;for(var s=e._mappings.toArray().slice(),c=t.__generatedMappings=[],h=t.__originalMappings=[],f=0,p=s.length;f<p;f++){var d=s[f],g=new l;g.generatedLine=d.generatedLine,g.generatedColumn=d.generatedColumn,d.source&&(g.source=i.indexOf(d.source),g.originalLine=d.originalLine,g.originalColumn=d.originalColumn,d.name&&(g.name=n.indexOf(d.name)),h.push(g)),c.push(g)}return a(t.__originalMappings,r.compareByOriginalPositions),t},u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?r.join(this.sourceRoot,e):e},this)}}),u.prototype._parseMappings=function(e,t){for(var n,i,o,c,u,h=1,f=0,p=0,d=0,g=0,m=0,y=e.length,v=0,b={},w={},x=[],_=[];v<y;)if(";"===e.charAt(v))h++,v++,f=0;else if(","===e.charAt(v))v++;else{for((n=new l).generatedLine=h,c=v;c<y&&!this._charIsMappingSeparator(e,c);c++);if(o=b[i=e.slice(v,c)])v+=i.length;else{for(o=[];v<c;)s.decode(e,v,w),u=w.value,v=w.rest,o.push(u);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");b[i]=o}n.generatedColumn=f+o[0],f=n.generatedColumn,o.length>1&&(n.source=g+o[1],g+=o[1],n.originalLine=p+o[2],p=n.originalLine,n.originalLine+=1,n.originalColumn=d+o[3],d=n.originalColumn,o.length>4&&(n.name=m+o[4],m+=o[4])),_.push(n),"number"==typeof n.originalLine&&x.push(n)}a(_,r.compareByGeneratedPositionsDeflated),this.__generatedMappings=_,a(x,r.compareByOriginalPositions),this.__originalMappings=x},u.prototype._findMapping=function(e,t,n,r,o,s){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return i.search(e,t,o,s)},u.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},u.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",r.compareByGeneratedPositionsDeflated,r.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(n>=0){var i=this._generatedMappings[n];if(i.generatedLine===t.generatedLine){var o=r.getArg(i,"source",null);null!==o&&(o=this._sources.at(o),null!=this.sourceRoot&&(o=r.join(this.sourceRoot,o)));var s=r.getArg(i,"name",null);return null!==s&&(s=this._names.at(s)),{source:o,line:r.getArg(i,"originalLine",null),column:r.getArg(i,"originalColumn",null),name:s}}}return{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},u.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=r.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var n;if(null!=this.sourceRoot&&(n=r.urlParse(this.sourceRoot))){var i=e.replace(/^file:\/\//,"");if("file"==n.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!n.path||"/"==n.path)&&this._sources.has("/"+e))return this.sourcesContent[this._sources.indexOf("/"+e)]}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(e){var t=r.getArg(e,"source");if(null!=this.sourceRoot&&(t=r.relative(this.sourceRoot,t)),!this._sources.has(t))return{line:null,column:null,lastColumn:null};var n={source:t=this._sources.indexOf(t),originalLine:r.getArg(e,"line"),originalColumn:r.getArg(e,"column")},i=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",r.compareByOriginalPositions,r.getArg(e,"bias",c.GREATEST_LOWER_BOUND));if(i>=0){var o=this._originalMappings[i];if(o.source===n.source)return{line:r.getArg(o,"generatedLine",null),column:r.getArg(o,"generatedColumn",null),lastColumn:r.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},t.BasicSourceMapConsumer=u,h.prototype=Object.create(c.prototype),h.prototype.constructor=c,h.prototype._version=3,Object.defineProperty(h.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),h.prototype.originalPositionFor=function(e){var t={generatedLine:r.getArg(e,"line"),generatedColumn:r.getArg(e,"column")},n=i.search(t,this._sections,function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn}),o=this._sections[n];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},h.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},h.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},h.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer.sources.indexOf(r.getArg(e,"source"))){var i=n.consumer.generatedPositionFor(e);if(i)return{line:i.line+(n.generatedOffset.generatedLine-1),column:i.column+(n.generatedOffset.generatedLine===i.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},h.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var i=this._sections[n],o=i.consumer._generatedMappings,s=0;s<o.length;s++){var c=o[s],u=i.consumer._sources.at(c.source);null!==i.consumer.sourceRoot&&(u=r.join(i.consumer.sourceRoot,u)),this._sources.add(u),u=this._sources.indexOf(u);var l=i.consumer._names.at(c.name);this._names.add(l),l=this._names.indexOf(l);var h={source:u,generatedLine:c.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:c.generatedColumn+(i.generatedOffset.generatedLine===c.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:c.originalLine,originalColumn:c.originalColumn,name:l};this.__generatedMappings.push(h),"number"==typeof h.originalLine&&this.__originalMappings.push(h)}a(this.__generatedMappings,r.compareByGeneratedPositionsDeflated),a(this.__originalMappings,r.compareByOriginalPositions)},t.IndexedSourceMapConsumer=h},function(e,t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,r,i){if(0===n.length)return-1;var o=function e(n,r,i,o,s,a){var c=Math.floor((r-n)/2)+n,u=s(i,o[c],!0);return 0===u?c:u>0?r-c>1?e(c,r,i,o,s,a):a==t.LEAST_UPPER_BOUND?r<o.length?r:-1:c:c-n>1?e(n,c,i,o,s,a):a==t.LEAST_UPPER_BOUND?c:n<0?-1:n}(-1,n.length,e,n,r,i||t.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&0===r(n[o],n[o-1],!0);)--o;return o}},function(e,t){function n(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function r(e,t,i,o){if(i<o){var s=i-1;n(e,function(e,t){return Math.round(e+Math.random()*(t-e))}(i,o),o);for(var a=e[o],c=i;c<o;c++)t(e[c],a)<=0&&n(e,s+=1,c);n(e,s+1,c);var u=s+1;r(e,t,i,u-1),r(e,t,u+1,o)}}t.quickSort=function(e,t){r(e,t,0,e.length-1)}},function(e,t,n){var r=n(75).SourceMapGenerator,i=n(24),o=/(\r?\n)/,s="$$$isSourceNode$$$";function a(e,t,n,r,i){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==i?null:i,this[s]=!0,null!=r&&this.add(r)}a.fromStringWithSourceMap=function(e,t,n){var r=new a,s=e.split(o),c=0,u=function(){return e()+(e()||"");function e(){return c<s.length?s[c++]:void 0}},l=1,h=0,f=null;return t.eachMapping(function(e){if(null!==f){if(!(l<e.generatedLine)){var t=(n=s[c]).substr(0,e.generatedColumn-h);return s[c]=n.substr(e.generatedColumn-h),h=e.generatedColumn,p(f,t),void(f=e)}p(f,u()),l++,h=0}for(;l<e.generatedLine;)r.add(u()),l++;if(h<e.generatedColumn){var n=s[c];r.add(n.substr(0,e.generatedColumn)),s[c]=n.substr(e.generatedColumn),h=e.generatedColumn}f=e},this),c<s.length&&(f&&p(f,u()),r.add(s.splice(c).join(""))),t.sources.forEach(function(e){var o=t.sourceContentFor(e);null!=o&&(null!=n&&(e=i.join(n,e)),r.setSourceContent(e,o))}),r;function p(e,t){if(null===e||void 0===e.source)r.add(t);else{var o=n?i.join(n,e.source):e.source;r.add(new a(e.originalLine,e.originalColumn,o,t,e.name))}}},a.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},a.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[s]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},a.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[s]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},a.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[s]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},a.prototype.setSourceContent=function(e,t){this.sourceContents[i.toSetString(e)]=t},a.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][s]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(i.fromSetString(r[t]),this.sourceContents[r[t]])},a.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},a.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new r(e),i=!1,o=null,s=null,a=null,c=null;return this.walk(function(e,r){t.code+=e,null!==r.source&&null!==r.line&&null!==r.column?(o===r.source&&s===r.line&&a===r.column&&c===r.name||n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name}),o=r.source,s=r.line,a=r.column,c=r.name,i=!0):i&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,i=!1);for(var u=0,l=e.length;u<l;u++)10===e.charCodeAt(u)?(t.line++,t.column=0,u+1===l?(o=null,i=!1):i&&n.addMapping({source:r.source,original:{line:r.line,column:r.column},generated:{line:t.line,column:t.column},name:r.name})):t.column++}),this.walkSourceContents(function(e,t){n.setSourceContent(e,t)}),{code:t.code,map:n}},t.SourceNode=a},function(e,t,n){var r=n(205),i=n(206),o=n(207),s=n(209),a=n(210);function c(e,t,n){setImmediate(function(){e(t,n)})}function u(e,t){try{return JSON.parse(e.replace(/^\)\]\}'/,""))}catch(e){throw e.sourceMapData=t,e}}function l(e,t,n){var r=o(t);try{return String(e(r))}catch(e){throw e.sourceMapData=n,e}}function h(e,t,n,r){var i;try{i=g(e,t)}catch(e){return c(r,e)}if(!i||i.map)return c(r,null,i);n(o(i.url),function(e,t){if(e)return e.sourceMapData=i,r(e);i.map=String(t);try{i.map=u(i.map,i)}catch(e){return r(e)}r(null,i)})}function f(e,t,n){var r=g(e,t);return!r||r.map?r:(r.map=l(n,r.url,r),r.map=u(r.map,r),r)}var p=/^data:([^,;]*)(;[^,;]*)*(?:,(.*))?$/,d=/^(?:application|text)\/json$/;function g(e,t){t=s(t);var n=r.getFrom(e);if(!n)return null;var o=n.match(p);if(o){var c=o[1],l=o[2]||"",h=o[3]||"",f={sourceMappingURL:n,url:null,sourcesRelativeTo:t,map:h};if(!d.test(c)){var g=new Error("Unuseful data uri mime type: "+(c||"text/plain"));throw g.sourceMapData=f,g}return f.map=u(";base64"===l?a(h):decodeURIComponent(h),f),f}var m=i(t,n);return{sourceMappingURL:n,url:m,sourcesRelativeTo:m,map:null}}function m(e,t,n,r,i){"function"==typeof r&&(i=r,r={});var s=e.sources?e.sources.length:0,a={sourcesResolved:[],sourcesContent:[]};if(0!==s){var u=function(){0===--s&&i(null,a)};b(e,t,r,function(e,t,r){if(a.sourcesResolved[r]=e,"string"==typeof t)a.sourcesContent[r]=t,c(u,null);else{var i=o(e);n(i,function(e,t){a.sourcesContent[r]=e||String(t),u()})}})}else c(i,null,a)}function y(e,t,n,r){var i={sourcesResolved:[],sourcesContent:[]};return e.sources&&0!==e.sources.length?(b(e,t,r,function(e,t,r){if(i.sourcesResolved[r]=e,null!==n)if("string"==typeof t)i.sourcesContent[r]=t;else{var s=o(e);try{i.sourcesContent[r]=String(n(s))}catch(e){i.sourcesContent[r]=e}}}),i):i}var v=/\/?$/;function b(e,t,n,r){var o;n=n||{},t=s(t);for(var a=0,c=e.sources.length;a<c;a++)o=null,"string"==typeof n.sourceRoot?o=n.sourceRoot:"string"==typeof e.sourceRoot&&!1!==n.sourceRoot&&(o=e.sourceRoot),r(null===o||""===o?i(t,e.sources[a]):i(t,o.replace(v,"/"),e.sources[a]),(e.sourcesContent||[])[a],a)}e.exports={resolveSourceMap:h,resolveSourceMapSync:f,resolveSources:m,resolveSourcesSync:y,resolve:function(e,t,n,r,i){if("function"==typeof r&&(i=r,r={}),null===e){var s={sourceMappingURL:null,url:t,sourcesRelativeTo:t,map:null},a=o(t);n(a,function(e,t){if(e)return e.sourceMapData=s,i(e);s.map=String(t);try{s.map=u(s.map,s)}catch(e){return i(e)}c(s)})}else h(e,t,n,function(e,t){return e?i(e):t?void c(t):i(null,null)});function c(e){m(e.map,e.sourcesRelativeTo,n,r,function(t,n){if(t)return i(t);e.sourcesResolved=n.sourcesResolved,e.sourcesContent=n.sourcesContent,i(null,e)})}},resolveSync:function(e,t,n,r){var i;if(null===e)(i={sourceMappingURL:null,url:t,sourcesRelativeTo:t,map:null}).map=l(n,t,i),i.map=u(i.map,i);else if(!(i=f(e,t,n)))return null;var o=y(i.map,i.sourcesRelativeTo,n,r);return i.sourcesResolved=o.sourcesResolved,i.sourcesContent=o.sourcesContent,i},parseMapToJSON:u}},function(e,t,n){var r,i;void 0===(i="function"==typeof(r=function(){var e=/[#@] sourceMappingURL=([^\s'"]*)/,t=RegExp("(?:/\\*(?:\\s*\r?\n(?://)?)?(?:"+e.source+")\\s*\\*/|//(?:"+e.source+"))\\s*");return{regex:t,_innerRegex:e,getFrom:function(e){var n=e.match(t);return n?n[1]||n[2]||"":null},existsIn:function(e){return t.test(e)},removeFrom:function(e){return e.replace(t,"")},insertBefore:function(e,n){var r=e.match(t);return r?e.slice(0,r.index)+n+e.slice(r.index):e+n}}})?r.call(t,n,t,e):r)||(e.exports=i)},function(e,t,n){var r=n(45);e.exports=function(){return Array.prototype.reduce.call(arguments,function(e,t){return r.resolve(e,t)})}},function(e,t,n){var r=n(208);e.exports=function(e){return r(e.replace(/\+/g,"%2B"))}},function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),i=new RegExp("(%[a-f0-9]{2})+","gi");function o(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],o(n),o(r))}function s(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=o(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=s(n[0]);r!==n[0]&&(t[n[0]]=r)}n=i.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),a=0;a<o.length;a++){var c=o[a];e=e.replace(new RegExp(c,"g"),t[c])}return e}(e)}}},function(e,t,n){var r=n(0);e.exports=function(e){return"\\"===r.sep?e.replace(/\\/g,"/").replace(/^[a-z]:\/?/i,"/"):e}},function(e,t,n){"use strict";function r(e){return Buffer.from(e,"base64").toString("binary")}e.exports=r.atob=r},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(9),s=n(36);e.exports=function(e){for(var n in o(e,"_comment",e.comment),e.map=new s.SourceMap.SourceMapGenerator,e.position={line:1,column:1},e.content={},e.files={},t)o(e,n,t[n])},t.updatePosition=function(e){var t=e.match(/\n/g);t&&(this.position.line+=t.length);var n=e.lastIndexOf("\n");this.position.column=~n?e.length-n:this.position.column+e.length},t.emit=function(e,t){var n=t.position||{},r=n.source;return r&&(n.filepath&&(r=s.unixify(n.filepath)),this.map.addMapping({source:r,generated:{line:this.position.line,column:Math.max(this.position.column-1,0)},original:{line:n.start.line,column:n.start.column-1}}),n.content&&this.addContent(r,n),n.filepath&&this.addFile(r,n),this.updatePosition(e),this.output+=e),e},t.addFile=function(e,t){"string"==typeof t.content&&(Object.prototype.hasOwnProperty.call(this.files,e)||(this.files[e]=t.content))},t.addContent=function(e,t){"string"==typeof t.content&&(Object.prototype.hasOwnProperty.call(this.content,e)||this.map.setSourceContent(e,t.content))},t.applySourceMaps=function(){Object.keys(this.files).forEach(function(e){var t=this.files[e];if(this.map.setSourceContent(e,t),!0===this.options.inputSourcemaps){var n=s.sourceMapResolve.resolveSync(t,e,r.readFileSync);if(n){var o=new s.SourceMap.SourceMapConsumer(n.map),a=n.sourcesRelativeTo;this.map.applySourceMap(o,e,s.unixify(i.dirname(a)))}}},this)},t.comment=function(e){return/^# sourceMappingURL=/.test(e.comment)?this.emit("",e.position):this._comment(e)}},function(e,t,n){"use strict";var r=n(72),i=n(4),o=n(78),s=n(9),a=n(44)("snapdragon:parser"),c=n(213),u=n(36);function l(e){a("initializing",__filename),this.options=u.extend({source:"string"},e),this.init(this.options),r(this)}function h(e,t){return e.visited?e:(s(e,"visited",!0),e.nodes?function(e,t){var n=e.length,r=-1;for(;++r<n;)h(e[r],t)}(e.nodes,t):t(e))}function f(e){return function(e){return e.nodes&&e.nodes[0].type===e.type+".open"}(e)&&function(e){return e.nodes&&u.last(e.nodes).type===e.type+".close"}(e)}l.prototype={constructor:l,init:function(e){this.orig="",this.input="",this.parsed="",this.column=1,this.line=1,this.regex=new o,this.errors=this.errors||[],this.parsers=this.parsers||{},this.types=this.types||[],this.sets=this.sets||{},this.fns=this.fns||[],this.currentType="root";var t=this.position();this.bos=t({type:"bos",val:""}),this.ast={type:"root",errors:this.errors,nodes:[this.bos]},s(this.bos,"parent",this.ast),this.nodes=[this.ast],this.count=0,this.setCount=0,this.stack=[]},error:function(e,t){var n=t.position||{start:{column:0,line:0}},r=n.start.line,i=n.start.column,o=this.options.source,s=new Error(o+" <line:"+r+" column:"+i+">: "+e);if(s.source=o,s.reason=e,s.pos=n,!this.options.silent)throw s;this.errors.push(s)},define:function(e,t){return s(this,e,t),this},position:function(){var e={line:this.line,column:this.column},t=this;return function(n){return s(n,"position",new c(e,t)),n}},set:function(e,t){return-1===this.types.indexOf(e)&&this.types.push(e),this.parsers[e]=t.bind(this),this},get:function(e){return this.parsers[e]},push:function(e,t){return this.sets[e]=this.sets[e]||[],this.count++,this.stack.push(t),this.sets[e].push(t)},pop:function(e){return this.sets[e]=this.sets[e]||[],this.count--,this.stack.pop(),this.sets[e].pop()},isInside:function(e){return this.sets[e]=this.sets[e]||[],this.sets[e].length>0},isType:function(e,t){return e&&e.type===t},prev:function(e){return this.stack.length>0?u.last(this.stack,e):u.last(this.nodes,e)},consume:function(e){this.input=this.input.substr(e)},updatePosition:function(e,t){var n=e.match(/\n/g);n&&(this.line+=n.length);var r=e.lastIndexOf("\n");this.column=~r?t-r:this.column+t,this.parsed+=e,this.consume(t)},match:function(e){var t=e.exec(this.input);if(t)return this.updatePosition(t[0],t[0].length),t},capture:function(e,t){return"function"==typeof t?this.set.apply(this,arguments):(this.regex.set(e,t),this.set(e,function(){var n=this.parsed,r=this.position(),i=this.match(t);if(i&&i[0]){var o=this.prev(),a=r({type:e,val:i[0],parsed:n,rest:this.input});i[1]&&(a.inner=i[1]),s(a,"inside",this.stack.length>0),s(a,"parent",o),o.nodes.push(a)}}.bind(this)),this)},capturePair:function(e,t,n,r){return this.sets[e]=this.sets[e]||[],this.set(e+".open",function(){var n=this.parsed,i=this.position(),o=this.match(t);if(o&&o[0]){var a=o[0];this.setCount++,this.specialChars=!0;var c=i({type:e+".open",val:a,rest:this.input});void 0!==o[1]&&(c.inner=o[1]);var u=this.prev(),l=i({type:e,nodes:[c]});s(l,"rest",this.input),s(l,"parsed",n),s(l,"prefix",o[1]),s(l,"parent",u),s(c,"parent",l),"function"==typeof r&&r.call(this,c,l),this.push(e,l),u.nodes.push(l)}}),this.set(e+".close",function(){var t=this.position(),r=this.match(n);if(r&&r[0]){var i=this.pop(e),o=t({type:e+".close",rest:this.input,suffix:r[1],val:r[0]});if(!this.isType(i,e)){if(this.options.strict)throw new Error('missing opening "'+e+'"');return this.setCount--,o.escaped=!0,o}"\\"===o.suffix&&(i.escaped=!0,o.escaped=!0),i.nodes.push(o),s(o,"parent",i)}}),this},eos:function(){var e=this.position();if(!this.input){for(var t=this.prev();"root"!==t.type&&!t.visited;){if(!0===this.options.strict)throw new SyntaxError("invalid syntax:"+i.inspect(t,null,2));f(t)||(t.parent.escaped=!0,t.escaped=!0),h(t,function(e){f(e.parent)||(e.parent.escaped=!0,e.escaped=!0)}),t=t.parent}var n=e({type:"eos",val:this.append||""});return s(n,"parent",this.ast),n}},next:function(){for(var e,t=this.parsed,n=this.types.length,r=-1;++r<n;)if(e=this.parsers[this.types[r]].call(this))return s(e,"rest",this.input),s(e,"parsed",t),this.last=e,e},parse:function(e){if("string"!=typeof e)throw new TypeError("expected a string");this.init(this.options),this.orig=e,this.input=e;var t=this;function n(){e=t.input;var n=t.next();if(n){var r=t.prev();r&&(s(n,"parent",r),r.nodes&&r.nodes.push(n)),t.sets.hasOwnProperty(r.type)&&(t.currentType=r.type)}if(t.input&&e===t.input)throw new Error('no parsers registered for: "'+t.input.slice(0,5)+'"')}for(;this.input;)n();if(this.stack.length&&this.options.strict){var r=this.stack.pop();throw this.error("missing opening "+r.type+': "'+this.orig+'"')}var i=this.eos();return"eos"!==this.prev().type&&this.ast.nodes.push(i),this.ast}},e.exports=l},function(e,t,n){"use strict";var r=n(9);e.exports=function(e,t){this.start=e,this.end={line:t.line,column:t.column},r(this,"content",t.orig),r(this,"source",t.options.source)}},function(e,t,n){"use strict";
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(12);e.exports=function(e){return r(e)||"function"==typeof e||Array.isArray(e)}},function(e,t,n){"use strict";var r=n(80),i=n(84);function o(e){function t(e,n){return e.nodes?function(e,n){var r=e.length,i=-1;for(;++i<r;)t(e[i],n)}(e.nodes,n):n(e)}e.set("paren",function(e){var n="";return t(e,function(e){e.val&&(n+=(/^\W/.test(e.val)?"\\":"")+e.val)}),this.emit(n,e)})}e.exports=function(e){var t=e.compiler.compilers,n=e.options;e.use(r.compilers);var s=t.escape,a=t.qmark,c=t.slash,u=t.star,l=t.text,h=t.plus,f=t.dot;!1===n.extglob||!0===n.noext?e.compiler.use(o):e.use(i.compilers),e.use(function(){this.options.star=this.options.star||function(){return"[^\\\\/]*?"}}),e.compiler.set("dot",f).set("escape",s).set("plus",h).set("slash",c).set("qmark",a).set("star",u).set("text",l)}},function(e,t,n){"use strict";
/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(12);e.exports=function(e){return r(e)||"function"==typeof e||Array.isArray(e)}},function(e,t,n){"use strict";e.exports=function(e,t){function n(){return t&&"string"==typeof t.slash?t.slash:t&&"function"==typeof t.slash?t.slash.call(e):"\\\\/"}function r(){return t&&"string"==typeof t.star?t.star:t&&"function"==typeof t.star?t.star.call(e):"[^"+n()+"]*?"}var i=e.ast=e.parser.ast;i.state=e.parser.state,e.compiler.state=i.state,e.compiler.set("not",function(e){var t=this.prev();return!0===this.options.nonegate||"bos"!==t.type?this.emit("\\"+e.val,e):this.emit(e.val,e)}).set("escape",function(e){return this.options.unescape&&/^[-\w_.]/.test(e.val)?this.emit(e.val,e):this.emit("\\"+e.val,e)}).set("quoted",function(e){return this.emit(e.val,e)}).set("dollar",function(e){return"bracket"===e.parent.type?this.emit(e.val,e):this.emit("\\"+e.val,e)}).set("dot",function(e){return!0===e.dotfiles&&(this.dotfiles=!0),this.emit("\\"+e.val,e)}).set("backslash",function(e){return this.emit(e.val,e)}).set("slash",function(e,t,r){for(var i="["+n()+"]",o=e.parent,s=this.prev();"paren"===o.type&&!o.hasSlash;)o.hasSlash=!0,o=o.parent;return s.addQmark&&(i+="?"),"\\b"===e.rest.slice(0,2)?this.emit(i,e):"**"===e.parsed||"./**"===e.parsed?(this.output="(?:"+this.output,this.emit(i+")?",e)):"!**"===e.parsed&&!0!==this.options.nonegate?this.emit(i+"?\\b",e):this.emit(i,e)}).set("bracket",function(e){var t=e.close,n=e.escaped?"\\[":"[",r=e.negated,i=e.inner,o=e.val;return!0===e.escaped&&(i=i.replace(/\\?(\W)/g,"\\$1"),r=""),"]-"===i&&(i="\\]\\-"),r&&-1===i.indexOf(".")&&(i+="."),r&&-1===i.indexOf("/")&&(i+="/"),o=n+r+i+t,this.emit(o,e)}).set("square",function(e){var t=(/^\W/.test(e.val)?"\\":"")+e.val;return this.emit(t,e)}).set("qmark",function(e){var t=this.prev(),n="[^.\\\\/]";if((this.options.dot||"bos"!==t.type&&"slash"!==t.type)&&(n="[^\\\\/]"),"("===e.parsed.slice(-1)){var r=e.rest.charAt(0);if("!"===r||"="===r||":"===r)return this.emit(e.val,e)}return e.val.length>1&&(n+="{"+e.val.length+"}"),this.emit(n,e)}).set("plus",function(e){var t=e.parsed.slice(-1);if("]"===t||")"===t)return this.emit(e.val,e);if(!this.output||/[?*+]/.test(n)&&"bracket"!==e.parent.type)return this.emit("\\+",e);var n=this.output.slice(-1);return/\w/.test(n)&&!e.inside?this.emit("+\\+?",e):this.emit("+",e)}).set("globstar",function(e,t,i){this.output||(this.state.leadingGlobstar=!0);var o=this.prev(),s=this.prev(2),a=this.next(),c=this.next(2),u=o.type,l=e.val;"slash"===o.type&&"slash"===a.type&&"text"===s.type&&(this.output+="?","text"!==c.type&&(this.output+="\\b"));var h=e.parsed;"!"===h.charAt(0)&&(h=h.slice(1));var f=e.isInside.paren||e.isInside.brace;return l=h&&"slash"!==u&&"bos"!==u&&!f?r():!0!==this.options.dot?"(?:(?!(?:["+n()+"]|^)\\.).)*?":"(?:(?!(?:["+n()+"]|^)(?:\\.{1,2})($|["+n()+"]))(?!\\.{2}).)*?","slash"!==u&&"bos"!==u||!0===this.options.dot||(l="(?!\\.)"+l),"slash"===o.type&&"slash"===a.type&&"text"!==s.type&&("text"!==c.type&&"star"!==c.type||(e.addQmark=!0)),this.options.capture&&(l="("+l+")"),this.emit(l,e)}).set("star",function(e,t,i){var o=t[i-2]||{},s=this.prev(),a=this.next(),c=s.type;function u(e){return"bos"===e.type||"slash"===e.type}if(""===this.output&&!0!==this.options.contains&&(this.output="(?!["+n()+"])"),"bracket"===c&&!1===this.options.bash){var l=a&&"bracket"===a.type?r():"*?";if(!s.nodes||"posix"!==s.nodes[1].type)return this.emit(l,e)}var h=this.dotfiles||"text"===c||"escape"===c?"":this.options.dot?"(?!(?:^|["+n()+"])\\.{1,2}(?:$|["+n()+"]))":"(?!\\.)";u(s)||u(o)&&"not"===c?h+="(?!\\.)"!==h?"(?!(\\.{2}|\\.["+n()+"]))(?=.)":"(?=.)":"(?!\\.)"===h&&(h=""),"not"===s.type&&"bos"===o.type&&!0===this.options.dot&&(this.output="(?!\\.)"+this.output);var f=h+r();return this.options.capture&&(f="("+f+")"),this.emit(f,e)}).set("text",function(e){return this.emit(e.val,e)}).set("eos",function(e){var t=this.prev(),r=e.val;return this.output="(?:\\.["+n()+"](?=.))?"+this.output,this.state.metachar&&"qmark"!==t.type&&"slash"!==t.type&&(r+=this.options.contains?"["+n()+"]?":"(?:["+n()+"]|$)"),this.emit(r,e)}),t&&"function"==typeof t.compilers&&t.compilers(e.compiler)}},function(e,t,n){"use strict";var r,i=n(21),o=n(11),s=function(e){if(r)return r;var t={contains:!0,strictClose:!1},n=i.create(e,t),s=o("^(?:[*]\\((?=.)|"+n+")",t);return r=s}("[\\[!*+?$^\"'.\\\\/]+");e.exports=function(e,t){var n=e.parser,r=n.options;n.state={slashes:0,paths:[]},n.ast.state=n.state,n.capture("prefix",function(){this.parsed||this.match(/^\.[\\/]/)&&(this.state.strictOpen=!!this.options.strictOpen,this.state.addPrefix=!0)}).capture("escape",function(){if(!this.isInside("bracket")){var e=this.position(),t=this.match(/^(?:\\(.)|([$^]))/);if(t)return e({type:"escape",val:t[2]||t[1]})}}).capture("quoted",function(){var e=this.position(),t=this.match(/^["']/);if(t){var n=t[0];if(-1===this.input.indexOf(n))return e({type:"escape",val:n});var r=function(e,t){var n=e.charAt(0),r={len:1,val:"",esc:""},i=0;function o(){"\\"!==n&&(r.esc+="\\"+n,r.val+=n),n=e.charAt(++i),r.len++,"\\"===n&&(o(),o())}for(;n&&n!==t;)o();return r}(this.input,n);return this.consume(r.len),e({type:"quoted",val:r.esc})}}).capture("not",function(){var e=this.parsed,t=this.position(),n=this.match(this.notRegex||/^!+/);if(n){var r=n[0],i=r.length%2==1;return""!==e||i||(r=""),""===e&&i&&!0!==this.options.nonegate&&(this.bos.val="(?!^(?:",this.append=")$).*",r=""),t({type:"not",val:r})}}).capture("dot",function(){var e=this.parsed,t=this.position(),n=this.match(/^\.+/);if(n){var r=n[0];return this.state.dot="."===r&&(""===e||"/"===e.slice(-1)),t({type:"dot",dotfiles:this.state.dot,val:r})}}).capture("plus",/^\+(?!\()/).capture("qmark",function(){var e=this.parsed,t=this.position(),n=this.match(/^\?+(?!\()/);if(n)return this.state.metachar=!0,this.state.qmark=!0,t({type:"qmark",parsed:e,val:n[0]})}).capture("globstar",function(){var e=this.parsed,t=this.position();if(this.match(/^\*{2}(?![*(])(?=[,)/]|$)/)){var n=!0!==r.noglobstar?"globstar":"star",i=t({type:n,parsed:e});for(this.state.metachar=!0;"/**/"===this.input.slice(0,4);)this.input=this.input.slice(3);return i.isInside={brace:this.isInside("brace"),paren:this.isInside("paren")},"globstar"===n?(this.state.globstar=!0,i.val="**"):(this.state.star=!0,i.val="*"),i}}).capture("star",function(){var e=this.position(),t=this.match(/^(?:\*(?![*(])|[*]{3,}(?!\()|[*]{2}(?![(/]|$)|\*(?=\*\())/);if(t)return this.state.metachar=!0,this.state.star=!0,e({type:"star",val:t[0]})}).capture("slash",function(){var e=this.position(),t=this.match(/^\//);if(t)return this.state.slashes++,e({type:"slash",val:t[0]})}).capture("backslash",function(){var e=this.position(),t=this.match(/^\\(?![*+?(){}[\]'"])/);if(t){var n=t[0];return this.isInside("bracket")?n="\\":n.length>1&&(n="\\\\"),e({type:"backslash",val:n})}}).capture("square",function(){if(!this.isInside("bracket")){var e=this.position(),t=this.match(/^\[([^!^\\])\]/);if(t)return e({type:"square",val:t[1]})}}).capture("bracket",function(){var e=this.position(),t=this.match(/^(?:\[([!^]?)([^\]]+|\]-)(\]|[^*+?]+)|\[)/);if(t){var n=t[0],r=t[1]?"^":"",i=(t[2]||"").replace(/\\\\+/,"\\\\"),o=t[3]||"";t[2]&&i.length<t[2].length&&(n=n.replace(/\\\\+/,"\\\\"));var s=this.input.slice(0,2);if(""===i&&"\\]"===s){i+=s,this.consume(2);for(var a,c=this.input,u=-1;a=c[++u];){if(this.consume(1),"]"===a){o=a;break}i+=a}}return e({type:"bracket",val:n,escaped:"]"!==o,negated:r,inner:i,close:o})}}).capture("text",function(){if(!this.isInside("bracket")){var e=this.position(),t=this.match(s);if(t&&t[0])return e({type:"text",val:t[0]})}}),t&&"function"==typeof t.parsers&&t.parsers(e.parser)},e.exports.not="[\\[!*+?$^\"'.\\\\/]+"},function(e,t,n){e.exports=new(n(46))},function(e,t,n){"use strict";var r=e.exports,i=n(0),o=n(221)(),s=n(23);r.define=n(222),r.diff=n(82),r.extend=n(81),r.pick=n(83),r.typeOf=n(223),r.unique=n(22),r.isEmptyString=function(e){return""===String(e)||"./"===String(e)},r.isWindows=function(){return"\\"===i.sep||!0===o},r.last=function(e,t){return e[e.length-(t||1)]},r.instantiate=function(e,t){var n;return n="object"===r.typeOf(e)&&e.snapdragon?e.snapdragon:"object"===r.typeOf(t)&&t.snapdragon?t.snapdragon:new s(t),r.define(n,"parse",function(e,t){var n=s.prototype.parse.call(this,e,t);n.input=e;var i=this.parser.stack.pop();if(i&&!0!==this.options.strictErrors){var o=i.nodes[0],a=i.nodes[1];if("bracket"===i.type)"["===a.val.charAt(0)&&(a.val="\\"+a.val);else{o.val="\\"+o.val;var c=o.parent.nodes[1];"star"===c.type&&(c.loose=!0)}}return r.define(n,"parser",this.parser),n}),n},r.createKey=function(e,t){if(void 0===t)return e;var n=e;for(var r in t)t.hasOwnProperty(r)&&(n+=";"+r+"="+String(t[r]));return n},r.arrayify=function(e){return"string"==typeof e?[e]:e?Array.isArray(e)?e:[e]:[]},r.isString=function(e){return"string"==typeof e},r.isRegex=function(e){return"regexp"===r.typeOf(e)},r.isObject=function(e){return"object"===r.typeOf(e)},r.escapeRegex=function(e){return e.replace(/[-[\]{}()^$|*+?.\\/\s]/g,"\\$&")},r.combineDupes=function(e,t){var n=(t=(t=r.arrayify(t).join("|").split("|")).map(function(e){return e.replace(/\\?([+*\\/])/g,"\\$1")})).join("|"),i=new RegExp("("+n+")(?=\\1)","g");return e.replace(i,"")},r.hasSpecialChars=function(e){return/(?:(?:(^|\/)[!.])|[*?+()|[\]{}]|[+@]\()/.test(e)},r.toPosixPath=function(e){return e.replace(/\\+/g,"/")},r.unescape=function(e){return r.toPosixPath(e.replace(/\\(?=[*+?!.])/g,""))},r.stripDrive=function(e){return r.isWindows()?e.replace(/^[a-z]:[\\/]+?/i,"/"):e},r.stripPrefix=function(e){return"."!==e.charAt(0)||"/"!==e.charAt(1)&&"\\"!==e.charAt(1)?e:e.slice(2)},r.isSimpleChar=function(e){return""===e.trim()||"."===e},r.isSlash=function(e){return"/"===e||"\\/"===e||"\\"===e||"\\\\"===e},r.matchPath=function(e,t){return t&&t.contains?r.containsPattern(e,t):r.equalsPattern(e,t)},r._equals=function(e,t,n){return n===e||n===t},r._contains=function(e,t,n){return-1!==e.indexOf(n)||-1!==t.indexOf(n)},r.equalsPattern=function(e,t){var n=r.unixify(t);return t=t||{},function(i){var o=r._equals(i,n(i),e);if(!0===o||!0!==t.nocase)return o;var s=i.toLowerCase();return r._equals(s,n(s),e)}},r.containsPattern=function(e,t){var n=r.unixify(t);return t=t||{},function(i){var o=r._contains(i,n(i),e);if(!0===o||!0!==t.nocase)return o;var s=i.toLowerCase();return r._contains(s,n(s),e)}},r.matchBasename=function(e){return function(t){return e.test(t)||e.test(i.basename(t))}},r.identity=function(e){return e},r.value=function(e,t,n){return n&&!1===n.unixify?e:n&&"function"==typeof n.unixify?n.unixify(e):t(e)},r.unixify=function(e){var t=e||{};return function(e){return!1!==t.stripPrefix&&(e=r.stripPrefix(e)),!0===t.unescape&&(e=r.unescape(e)),(!0===t.unixify||r.isWindows())&&(e=r.toPosixPath(e)),e}}},function(e,t,n){var r,i,o;
/*!
 * is-windows <https://github.com/jonschlinkert/is-windows>
 *
 * Copyright © 2015-2018, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-windows <https://github.com/jonschlinkert/is-windows>
 *
 * Copyright © 2015-2018, Jon Schlinkert.
 * Released under the MIT License.
 */
!function(n){t&&"object"==typeof t&&void 0!==e?e.exports=n():(i=[],void 0===(o="function"==typeof(r=n)?r.apply(t,i):r)||(e.exports=o))}(function(){"use strict";return function(){return process&&("win32"===process.platform||/^(msys|cygwin)$/.test(process.env.OSTYPE))}})},function(e,t,n){"use strict";
/*!
 * define-property <https://github.com/jonschlinkert/define-property>
 *
 * Copyright (c) 2015-2018, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(6),i=n(16),o="undefined"!=typeof Reflect&&Reflect.defineProperty?Reflect.defineProperty:Object.defineProperty;e.exports=function(e,t,n){if(!r(e)&&"function"!=typeof e&&!Array.isArray(e))throw new TypeError("expected an object, function, or array");if("string"!=typeof t)throw new TypeError('expected "key" to be a string');return i(n)?(o(e,t,n),e):(o(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n}),e)}},function(e,t){var n=Object.prototype.toString;function r(e){return e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return function(e,t){return"GeneratorFunction"===r(e)}(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){if(e.constructor&&"function"==typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return!1}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(r(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=n.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},function(e,t,n){"use strict";var r=n(225);e.exports=function(e){e.compiler.set("escape",function(e){return this.emit("\\"+e.val.replace(/^\\/,""),e)}).set("text",function(e){return this.emit(e.val.replace(/([{}])/g,"\\$1"),e)}).set("posix",function(e){if("[::]"===e.val)return this.emit("\\[::\\]",e);var t=r[e.inner];return void 0===t&&(t="["+e.inner+"]"),this.emit(t,e)}).set("bracket",function(e){return this.mapVisit(e.nodes)}).set("bracket.open",function(e){return this.emit(e.val,e)}).set("bracket.inner",function(e){var t=e.val;if("["===t||"]"===t)return this.emit("\\"+e.val,e);if("^]"===t)return this.emit("^\\]",e);if("^"===t)return this.emit("^",e);/-/.test(t)&&!/(\d-\d|\w-\w)/.test(t)&&(t=t.split("-").join("\\-"));var n="^"===t.charAt(0);return n&&-1===t.indexOf("/")&&(t+="/"),n&&-1===t.indexOf(".")&&(t+="."),t=t.replace(/\\([1-9])/g,"$1"),this.emit(t,e)}).set("bracket.close",function(e){var t=e.val.replace(/^\\/,"");return!0===e.parent.escaped?this.emit("\\"+t,e):this.emit(t,e)})}},function(e,t,n){"use strict";e.exports={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"}},function(e,t,n){"use strict";var r=n(227),i=n(9),o=r.createRegex("(\\[(?=.*\\])|\\])+");e.exports=function(e){e.state=e.state||{},e.parser.sets.bracket=e.parser.sets.bracket||[],e.parser.capture("escape",function(){if(!this.isInside("bracket")){var e=this.position(),t=this.match(/^\\(.)/);if(t)return e({type:"escape",val:t[0]})}}).capture("text",function(){if(!this.isInside("bracket")){var e=this.position(),t=this.match(o);if(t&&t[0])return e({type:"text",val:t[0]})}}).capture("posix",function(){var t=this.position(),n=this.match(/^\[:(.*?):\](?=.*\])/);if(n){var r=this.isInside("bracket");return r&&e.posix++,t({type:"posix",insideBracket:r,inner:n[1],val:n[0]})}}).capture("bracket",function(){}).capture("bracket.open",function(){var e=this.parsed,t=this.position(),n=this.match(/^\[(?=.*\])/);if(n){var o=this.prev(),s=r.last(o.nodes);if("\\"===e.slice(-1)&&!this.isInside("bracket"))return s.val=s.val.slice(0,s.val.length-1),t({type:"escape",val:n[0]});var a=t({type:"bracket.open",val:n[0]});if("bracket.open"===s.type||this.isInside("bracket"))return a.val="\\"+a.val,a.type="bracket.inner",a.escaped=!0,a;var c=t({type:"bracket",nodes:[a]});i(c,"parent",o),i(a,"parent",c),this.push("bracket",c),o.nodes.push(c)}}).capture("bracket.inner",function(){if(this.isInside("bracket")){var e=this.position(),t=this.match(o);if(t&&t[0]){var n=this.input.charAt(0),r=t[0],i=e({type:"bracket.inner",val:r});if("\\\\"===r)return i;var s=r.charAt(0),a=r.slice(-1);return"!"===s&&(r="^"+r.slice(1)),("\\"===a||"^"===r&&"]"===n)&&(r+=this.input[0],this.consume(1)),i.val=r,i}}}).capture("bracket.close",function(){var e=this.parsed,t=this.position(),n=this.match(/^\]/);if(n){var o=this.prev(),s=r.last(o.nodes);if("\\"===e.slice(-1)&&!this.isInside("bracket"))return s.val=s.val.slice(0,s.val.length-1),t({type:"escape",val:n[0]});var a=t({type:"bracket.close",rest:this.input,val:n[0]});if("bracket.open"===s.type)return a.type="bracket.inner",a.escaped=!0,a;var c=this.pop("bracket");if(!this.isType(c,"bracket")){if(this.options.strict)throw new Error('missing opening "["');return a.type="bracket.inner",a.escaped=!0,a}c.nodes.push(a),i(a,"parent",c)}})},e.exports.TEXT_REGEX="(\\[(?=.*\\])|\\])+"},function(e,t,n){"use strict";var r,i=n(11),o=n(21);t.last=function(e){return e[e.length-1]},t.createRegex=function(e,t){if(r)return r;var n,s={contains:!0,strictClose:!1},a=o.create(e,s);return n=i("string"==typeof t?"^(?:"+t+"|"+a+")":a,s),r=n}},function(e,t,n){"use strict";var r=n(23),i=n(88),o=n(8),s=n(85),a=n(87);e.exports=function(e){this.options=o({source:"extglob"},e),this.snapdragon=this.options.snapdragon||new r(this.options),this.snapdragon.patterns=this.snapdragon.patterns||{},this.compiler=this.snapdragon.compiler,this.parser=this.snapdragon.parser,s(this.snapdragon),a(this.snapdragon),i(this.snapdragon,"parse",function(e,t){var n=r.prototype.parse.apply(this,arguments);n.input=e;var o=this.parser.stack.pop();if(o&&!0!==this.options.strict){var s=o.nodes[0];s.val="\\"+s.val;var a=s.parent.nodes[1];"star"===a.type&&(a.loose=!0)}return i(n,"parser",this.parser),n}),i(this,"parse",function(e,t){return this.snapdragon.parse.apply(this.snapdragon,arguments)}),i(this,"compile",function(e,t){return this.snapdragon.compile.apply(this.snapdragon,arguments)})}},function(e,t,n){"use strict";var r,i=n(84),o=n(80),s=n(21),a=n(11),c=function(e){return r||(r=function(e){var t=s.create(e,{contains:!0,strictClose:!1});return a("(?:[\\^]|\\\\|"+t+")",{strictClose:!1})}("([!@*?+]?\\(|\\)|\\[:?(?=.*?:?\\])|:?\\]|[*+?!^$.\\\\/])+"))};e.exports=function(e){var t=e.parser.parsers;e.use(o.parsers);var n=t.escape,r=t.slash,s=t.qmark,a=t.plus,u=t.star,l=t.dot;e.use(i.parsers),e.parser.use(function(){this.notRegex=/^\!+(?!\()/}).capture("escape",n).capture("slash",r).capture("qmark",s).capture("star",u).capture("plus",a).capture("dot",l).capture("text",function(){if(!this.isInside("bracket")){var e=this.position(),t=this.match(c(this.options));if(t&&t[0])return e({type:"text",val:t[0].replace(/([[\]^$])/g,"\\$1")})}})}},function(e,t,n){e.exports=new(n(46))},function(e,t,n){"use strict";var r=e.exports,i=n(0),o=n(23);r.define=n(232),r.diff=n(82),r.extend=n(79),r.pick=n(83),r.typeOf=n(233),r.unique=n(22),r.isWindows=function(){return"\\"===i.sep||"win32"===process.platform},r.instantiate=function(e,t){var n;return n="object"===r.typeOf(e)&&e.snapdragon?e.snapdragon:"object"===r.typeOf(t)&&t.snapdragon?t.snapdragon:new o(t),r.define(n,"parse",function(e,t){var n=o.prototype.parse.apply(this,arguments);n.input=e;var i=this.parser.stack.pop();if(i&&!0!==this.options.strictErrors){var s=i.nodes[0],a=i.nodes[1];if("bracket"===i.type)"["===a.val.charAt(0)&&(a.val="\\"+a.val);else{s.val="\\"+s.val;var c=s.parent.nodes[1];"star"===c.type&&(c.loose=!0)}}return r.define(n,"parser",this.parser),n}),n},r.createKey=function(e,t){if("object"!==r.typeOf(t))return e;for(var n=e,i=Object.keys(t),o=0;o<i.length;o++){var s=i[o];n+=";"+s+"="+String(t[s])}return n},r.arrayify=function(e){return"string"==typeof e?[e]:e?Array.isArray(e)?e:[e]:[]},r.isString=function(e){return"string"==typeof e},r.isObject=function(e){return"object"===r.typeOf(e)},r.hasSpecialChars=function(e){return/(?:(?:(^|\/)[!.])|[*?+()|\[\]{}]|[+@]\()/.test(e)},r.escapeRegex=function(e){return e.replace(/[-[\]{}()^$|*+?.\\\/\s]/g,"\\$&")},r.toPosixPath=function(e){return e.replace(/\\+/g,"/")},r.unescape=function(e){return r.toPosixPath(e.replace(/\\(?=[*+?!.])/g,""))},r.stripPrefix=function(e){if("."!==e.charAt(0))return e;var t=e.charAt(1);return r.isSlash(t)?e.slice(2):e},r.isSlash=function(e){return"/"===e||"\\/"===e||"\\"===e||"\\\\"===e},r.matchPath=function(e,t){return t&&t.contains?r.containsPattern(e,t):r.equalsPattern(e,t)},r._equals=function(e,t,n){return n===e||n===t},r._contains=function(e,t,n){return-1!==e.indexOf(n)||-1!==t.indexOf(n)},r.equalsPattern=function(e,t){var n=r.unixify(t);return t=t||{},function(i){var o=r._equals(i,n(i),e);if(!0===o||!0!==t.nocase)return o;var s=i.toLowerCase();return r._equals(s,n(s),e)}},r.containsPattern=function(e,t){var n=r.unixify(t);return t=t||{},function(i){var o=r._contains(i,n(i),e);if(!0===o||!0!==t.nocase)return o;var s=i.toLowerCase();return r._contains(s,n(s),e)}},r.matchBasename=function(e){return function(t){return e.test(i.basename(t))}},r.value=function(e,t,n){return n&&!1===n.unixify?e:t(e)},r.unixify=function(e){return e=e||{},function(t){return(r.isWindows()||!0===e.unixify)&&(t=r.toPosixPath(t)),!1!==e.stripPrefix&&(t=r.stripPrefix(t)),!0===e.unescape&&(t=r.unescape(t)),t}}},function(e,t,n){"use strict";
/*!
 * define-property <https://github.com/jonschlinkert/define-property>
 *
 * Copyright (c) 2015-2018, Jon Schlinkert.
 * Released under the MIT License.
 */var r=n(6),i=n(16),o="undefined"!=typeof Reflect&&Reflect.defineProperty?Reflect.defineProperty:Object.defineProperty;e.exports=function(e,t,n){if(!r(e)&&"function"!=typeof e&&!Array.isArray(e))throw new TypeError("expected an object, function, or array");if("string"!=typeof t)throw new TypeError('expected "key" to be a string');return i(n)?(o(e,t,n),e):(o(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n}),e)}},function(e,t){var n=Object.prototype.toString;function r(e){return e.constructor?e.constructor.name:null}e.exports=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return function(e,t){return"GeneratorFunction"===r(e)}(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){if(e.constructor&&"function"==typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return!1}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(e){if(-1!==e.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(r(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=n.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}},function(e,t){var n="win32"===process.platform;function r(e,t){var r=e[t];return t>0&&("/"===r||n&&"\\"===r)}e.exports=function(e){var t=e.length-1;if(t<2)return e;for(;r(e,t);)t--;return e.substr(0,t+1)}},function(e,t,n){"use strict";n(0);var r=n(236),i=n(238),o="win32"===n(18).platform();e.exports=function(e){o&&e.indexOf("/")<0&&(e=e.split("\\").join("/")),/[\{\[].*[\/]*.*[\}\]]$/.test(e)&&(e+="/"),e+="a";do{e=i.posix(e)}while(r(e)||/(^|[^\\])([\{\[]|\([^\)]+$)/.test(e));return e.replace(/\\([\*\?\|\[\]\(\)\{\}])/g,"$1")}},function(e,t,n){
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
var r=n(237);e.exports=function(e){if("string"!=typeof e||""===e)return!1;if(r(e))return!0;for(var t,n=/(\\).|([*?]|\[.*\]|\{.*\}|\(.*\|.*\)|^!)/;t=n.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}},function(e,t){
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
e.exports=function(e){if("string"!=typeof e||""===e)return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}},function(e,t,n){"use strict";n(0);var r=n(4).inspect;function i(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+r(e))}function o(e){if(i(e),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(t=e.charCodeAt(s))){if(!o){r=s;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"//":e.slice(0,r)}function s(e){i(e);var t=e.length;if(0===t)return".";var n=-1,r=-1,o=!0,s=0,a=e.charCodeAt(0);if(t>1)if(47===a||92===a){if(n=s=1,47===(a=e.charCodeAt(1))||92===a){for(var c=2,u=c;c<t&&(47!==(a=e.charCodeAt(c))&&92!==a);++c);if(c<t&&c!==u){for(u=c;c<t&&(47===(a=e.charCodeAt(c))||92===a);++c);if(c<t&&c!==u){for(u=c;c<t&&(47!==(a=e.charCodeAt(c))&&92!==a);++c);if(c===t)return e;c!==u&&(n=s=c+1)}}}}else(a>=65&&a<=90||a>=97&&a<=122)&&(a=e.charCodeAt(1),58===e.charCodeAt(1)&&(n=s=2,t>2&&(47!==(a=e.charCodeAt(2))&&92!==a||(n=s=3))));else if(47===a||92===a)return e[0];for(var l=t-1;l>=s;--l)if(47===(a=e.charCodeAt(l))||92===a){if(!o){r=l;break}}else o=!1;if(-1===r){if(-1===n)return".";r=n}return e.slice(0,r)}e.exports="win32"===process.platform?s:o,e.exports.posix=o,e.exports.win32=s},function(e,t,n){
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
var r=n(240),i={"{":"}","(":")","[":"]"};e.exports=function(e,t){if("string"!=typeof e||""===e)return!1;if(r(e))return!0;var n,o=/\\(.)|(^!|\*|[\].+)]\?|\[[^\\\]]+\]|\{[^\\}]+\}|\(\?[:!=][^\\)]+\)|\([^|]+\|[^\\)]+\))/;for(t&&!1===t.strict&&(o=/\\(.)|(^!|[*?{}()[\]]|\(\?)/);n=o.exec(e);){if(n[2])return!0;var s=n.index+n[0].length,a=n[1],c=a?i[a]:null;if(a&&c){var u=e.indexOf(c,s);-1!==u&&(s=u+1)}e=e.slice(s)}return!1}},function(e,t){
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
e.exports=function(e){if("string"!=typeof e||""===e)return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){var r,i,o,s,a,c,u,l,h,f,p,d=[].slice,g=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},m={}.hasOwnProperty;for(l in u=n(0),o=function(e){return e instanceof Function},s=function(e){return"string"==typeof e||!!e&&"object"==typeof e&&"[object String]"===Object.prototype.toString.call(e)},(p=t).VERSION="1.1.0",f=function(e){var t;for(e=e.replace(/\\/g,"/"),t=/\/\//;e.match(t);)e=e.replace(t,"/");return e},u)o(h=u[l])?p[l]=function(e){return function(){var t,n;return t=(t=1<=arguments.length?d.call(arguments,0):[]).map(function(e){return s(e)?f(e):e}),n=u[e].apply(u,t),s(n)?f(n):n}}(l):p[l]=h;for(c in p.sep="/",i={toUnix:f,normalizeSafe:function(e){return(e=f(e)).startsWith("./")?e.startsWith("./..")||"./"===e?p.normalize(e):"./"+p.normalize(e):p.normalize(e)},normalizeTrim:function(e){return(e=p.normalizeSafe(e)).endsWith("/")?e.slice(0,+(e.length-2)+1||9e9):e},joinSafe:function(){var e,t;return e=1<=arguments.length?d.call(arguments,0):[],t=p.join.apply(null,e),e[0].startsWith("./")&&!t.startsWith("./")&&(t="./"+t),t},addExt:function(e,t){return t?("."!==t[0]&&(t="."+t),e+(e.endsWith(t)?"":t)):e},trimExt:function(e,t,n){var r;return null==n&&(n=7),r=p.extname(e),a(r,t,n)?e.slice(0,+(e.length-r.length-1)+1||9e9):e},removeExt:function(e,t){return t?(t="."===t[0]?t:"."+t,p.extname(e)===t?p.trimExt(e):e):e},changeExt:function(e,t,n,r){return null==r&&(r=7),p.trimExt(e,n,r)+(t?"."===t[0]?t:"."+t:"")},defaultExt:function(e,t,n,r){var i;return null==r&&(r=7),i=p.extname(e),a(i,n,r)?e:p.addExt(e,t)}},a=function(e,t,n){return null==t&&(t=[]),e&&e.length<=n&&g.call(t.map(function(e){return(e&&"."!==e[0]?".":"")+e}),e)<0},i)if(m.call(i,c)){if(r=i[c],void 0!==p[c])throw new Error("path."+c+" already exists.");p[c]=r}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(91),s=n(250),a=Object.create(null);function c(e,t,n,o,s){try{return r.watch(e,t,function(t,r){n(e),s(t,r,{watchedPath:e}),r&&e!==r&&u(i.resolve(e,r),"listeners",i.join(e,r))})}catch(e){o(e)}}function u(e,t,n,r,i){a[e]&&a[e][t].forEach(function(e){e(n,r,i)})}var l=Object.create(null);function h(){}h.prototype._watchWithNodeFs=function(e,t){var n=i.dirname(e),o=i.basename(e);this._getWatchedDir(n).add(o);var h,f=i.resolve(e),p={persistent:this.options.persistent};return t||(t=Function.prototype),this.options.usePolling?(p.interval=this.enableBinaryInterval&&s(o)?this.options.binaryInterval:this.options.interval,h=function(e,t,n,i){var o=i.listener,s=i.rawEmitter,a=l[t],c=[],u=[];a&&(a.options.persistent<n.persistent||a.options.interval>n.interval)&&(c=a.listeners,u=a.rawEmitters,r.unwatchFile(t),a=!1),a?(a.listeners.push(o),a.rawEmitters.push(s)):(c.push(o),u.push(s),a=l[t]={listeners:c,rawEmitters:u,options:n,watcher:r.watchFile(t,n,function(n,r){a.rawEmitters.forEach(function(e){e("change",t,{curr:n,prev:r})});var i=n.mtime.getTime();(n.size!==r.size||i>r.mtime.getTime()||0===i)&&a.listeners.forEach(function(t){t(e,n)})})});var h=a.listeners.length-1;return function(){delete a.listeners[h],delete a.rawEmitters[h],Object.keys(a.listeners).length||(r.unwatchFile(t),delete l[t])}}(e,f,p,{listener:t,rawEmitter:this.emit.bind(this,"raw")})):h=function(e,t,n,i){var o,s=i.listener,l=i.errHandler,h=i.rawEmitter,f=a[t];if(!n.persistent)return(o=c(e,n,s,l,h)).close.bind(o);if(f)f.listeners.push(s),f.errHandlers.push(l),f.rawEmitters.push(h);else{if(!(o=c(e,n,u.bind(null,t,"listeners"),l,u.bind(null,t,"rawEmitters"))))return;var p=u.bind(null,t,"errHandlers");o.on("error",function(t){f.watcherUnusable=!0,"win32"===process.platform&&"EPERM"===t.code?r.open(e,"r",function(e,n){e||r.close(n,function(e){e||p(t)})}):p(t)}),f=a[t]={listeners:[s],errHandlers:[l],rawEmitters:[h],watcher:o}}var d=f.listeners.length-1;return function(){delete f.listeners[d],delete f.errHandlers[d],delete f.rawEmitters[d],Object.keys(f.listeners).length||(f.watcherUnusable||f.watcher.close(),delete a[t])}}(e,f,p,{listener:t,errHandler:this._handleError.bind(this),rawEmitter:this.emit.bind(this,"raw")}),h},h.prototype._handleFile=function(e,t,n,o){var s=i.dirname(e),a=i.basename(e),c=this._getWatchedDir(s);if(c.has(a))return o();var u=this._watchWithNodeFs(e,function(t,n){this._throttle("watch",e,5)&&(!n||n&&0===n.mtime.getTime()?r.stat(e,function(t,n){t?this._remove(s,a):this._emit("change",e,n)}.bind(this)):c.has(a)&&this._emit("change",e,n))}.bind(this));if(!n||!this.options.ignoreInitial){if(!this._throttle("add",e,0))return;this._emit("add",e,t)}return o&&o(),u},h.prototype._handleSymlink=function(e,t,n,i){var o=e.fullPath,s=this._getWatchedDir(t);return this.options.followSymlinks?!!this._symlinkPaths[o]||void(this._symlinkPaths[o]=!0):(this._readyCount++,r.realpath(n,function(t,r){s.has(i)?this._symlinkPaths[o]!==r&&(this._symlinkPaths[o]=r,this._emit("change",n,e.stat)):(s.add(i),this._symlinkPaths[o]=r,this._emit("add",n,e.stat)),this._emitReady()}.bind(this)),!0)},h.prototype._handleDir=function(e,t,n,r,s,a,c){var u=this._getWatchedDir(i.dirname(e)),l=u.has(i.basename(e));n&&this.options.ignoreInitial||s||l||a.hasGlob&&!a.globFilter(e)||this._emit("addDir",e,t),u.add(i.basename(e)),this._getWatchedDir(e);var h,f=function(t,n,c){if(t=i.join(t,""),!a.hasGlob){var u=this._throttle("readdir",t,1e3);if(!u)return}var l=this._getWatchedDir(a.path),h=[];o({root:t,entryType:"all",fileFilter:a.filterPath,directoryFilter:a.filterDir,depth:0,lstat:!0}).on("data",function(o){var c=o.path,u=i.join(t,c);h.push(c),o.stat.isSymbolicLink()&&this._handleSymlink(o,t,u,c)||c!==s&&(s||l.has(c))||(this._readyCount++,u=i.join(e,i.relative(e,u)),this._addToNodeFs(u,n,a,r+1))}.bind(this)).on("end",function(){var e=!!u&&u.clear();c&&c(),l.children().filter(function(e){return e!==t&&-1===h.indexOf(e)&&(!a.hasGlob||a.filterPath({fullPath:i.resolve(t,e)}))}).forEach(function(e){this._remove(t,e)},this),e&&f(t,!1)}.bind(this)).on("error",this._handleError.bind(this))}.bind(this);return null==this.options.depth||r<=this.options.depth?(s||f(e,n,c),h=this._watchWithNodeFs(e,function(e,t){t&&0===t.mtime.getTime()||f(e,!1)})):c(),h},h.prototype._addToNodeFs=function(e,t,n,o,s,a){a||(a=Function.prototype);var c=this._emitReady;if(this._isIgnored(e)||this.closed)return c(),a(null,!1);var u=this._getWatchHelpers(e,o);!u.hasGlob&&n&&(u.hasGlob=n.hasGlob,u.globFilter=n.globFilter,u.filterPath=n.filterPath,u.filterDir=n.filterDir),r[u.statMethod](u.watchPath,function(n,l){if(this._handleError(n))return a(null,e);if(this._isIgnored(u.watchPath,l))return c(),a(null,!1);var h,f=function(e,n){return this._handleDir(e,l,t,o,n,u,c)}.bind(this);if(l.isDirectory())h=f(u.watchPath,s);else if(l.isSymbolicLink()){var p=i.dirname(u.watchPath);this._getWatchedDir(p).add(u.watchPath),this._emit("add",u.watchPath,l),h=f(p,e),r.realpath(e,function(t,n){this._symlinkPaths[i.resolve(e)]=n,c()}.bind(this))}else h=this._handleFile(u.watchPath,l,t,c);h&&(this._closers[e]=h),a(null,!1)}.bind(this))},e.exports=h},function(e,t,n){"use strict";var r=n(245),i=n(4),o=r.Readable;function s(e){if(!(this instanceof s))return new s(e);(e=e||{}).objectMode=!0,o.call(this,e),this.highWaterMark=1/0,this._destroyed=!1,this._paused=!1,this._warnings=[],this._errors=[],this._pauseResumeErrors()}e.exports=s,i.inherits(s,o);var a=s.prototype;a._pauseResumeErrors=function(){var e=this;e.on("pause",function(){e._paused=!0}),e.on("resume",function(){e._destroyed||(e._paused=!1,e._warnings.forEach(function(t){e.emit("warn",t)}),e._warnings.length=0,e._errors.forEach(function(t){e.emit("error",t)}),e._errors.length=0)})},a._processEntry=function(e){this._destroyed||this.push(e)},a._read=function(){},a.destroy=function(){this.push(null),this.readable=!1,this._destroyed=!0,this.emit("close")},a._done=function(){this.push(null)},a._handleError=function(e){var t=this;setImmediate(function(){if(t._paused)return t._warnings.push(e);t._destroyed||t.emit("warn",e)})},a._handleFatalError=function(e){var t=this;setImmediate(function(){if(t._paused)return t._errors.push(e);t._destroyed||t.emit("error",e)})},e.exports=function(){var e=new s;return{stream:e,processEntry:e._processEntry.bind(e),done:e._done.bind(e),handleError:e._handleError.bind(e),handleFatalError:e._handleFatalError.bind(e)}}},function(e,t,n){var r=n(27);"disable"===process.env.READABLE_STREAM&&r?(e.exports=r,(t=e.exports=r.Readable).Readable=r.Readable,t.Writable=r.Writable,t.Duplex=r.Duplex,t.Transform=r.Transform,t.PassThrough=r.PassThrough,t.Stream=r):((t=e.exports=n(92)).Stream=r||t,t.Readable=t,t.Writable=n(95),t.Duplex=n(17),t.Transform=n(97),t.PassThrough=n(249))},function(e,t){e.exports=require("buffer")},function(e,t,n){"use strict";var r=n(39).Buffer,i=n(4);function o(e,t,n){e.copy(t,n)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t=r.allocUnsafe(e>>>0),n=this.head,i=0;n;)o(n.data,t,i),i+=n.data.length,n=n.next;return t},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t,n){e.exports=n(4).deprecate},function(e,t,n){"use strict";e.exports=o;var r=n(97),i=n(25);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(13),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var r=n(0),i=n(251),o=Object.create(null);i.forEach(function(e){o[e]=!0}),e.exports=function(e){return r.extname(e).slice(1).toLowerCase()in o}},function(e){e.exports=["3dm","3ds","3g2","3gp","7z","a","aac","adp","ai","aif","aiff","alz","ape","apk","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","csv","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","o","oga","ogg","ogv","otf","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rtf","rz","s3m","s7z","scpt","sgi","shar","sil","sketch","slk","smv","so","stl","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]},function(e,t,n){"use strict";var r,i=n(2),o=n(0),s=n(91);try{r=n(253)}catch(e){process.env.CHOKIDAR_PRINT_FSEVENTS_REQUIRE_ERROR&&console.error(e)}var a=Object.create(null),c=10;function u(e,t,n,i){var s,u=o.extname(e)?o.dirname(e):e,l=o.dirname(u);(function(e){for(var t=Object.keys(a),n=0,r=0,i=t.length;r<i;++r){var o=t[r];if(0===o.indexOf(e)&&++n>=c)return!0}return!1})(l)&&(u=l);var h=o.resolve(e),f=h!==t;function p(e,r,i){f&&(e=e.replace(t,h)),e!==h&&e.indexOf(h+o.sep)||n(e,r,i)}u in a||Object.keys(a).some(function(e){if(!t.indexOf(o.resolve(e)+o.sep))return u=e,!0})?(s=a[u]).listeners.push(p):s=a[u]={listeners:[p],rawEmitters:[i],watcher:function(e,t){return new r(e).on("fsevent",t).start()}(u,function(e,t){var n=r.getInfo(e,t);s.listeners.forEach(function(r){r(e,t,n)}),s.rawEmitters.forEach(function(t){t(n.event,e,n)})})};var d=s.listeners.length-1;return function(){delete s.listeners[d],delete s.rawEmitters[d],Object.keys(s.listeners).length||(s.watcher.stop(),delete a[u])}}function l(e,t){for(var n=0;!e.indexOf(t)&&(e=o.dirname(e))!==t;)n++;return n}function h(){}h.prototype._watchWithFsEvents=function(e,t,n,r){if(!this._isIgnored(e)){var s=function(s,a,c){if(!(void 0!==this.options.depth&&l(s,t)>this.options.depth)){var u=n(o.join(e,o.relative(e,s)));if(!r||r(u)){var h=o.dirname(u),f=o.basename(u),p=this._getWatchedDir("directory"===c.type?u:h),d=function(e){if(this._isIgnored(u,e))return this._ignoredPaths[u]=!0,e&&e.isDirectory()&&(this._ignoredPaths[u+"/**/*"]=!0),!0;delete this._ignoredPaths[u],delete this._ignoredPaths[u+"/**/*"]}.bind(this),g=function(e){if(!d())if("unlink"===e)("directory"===c.type||p.has(f))&&this._remove(h,f);else{if("add"===e){if("directory"===c.type&&this._getWatchedDir(u),"symlink"===c.type&&this.options.followSymlinks){var n=void 0===this.options.depth?void 0:l(s,t)+1;return this._addToFsEvents(u,!1,!0,n)}this._getWatchedDir(h).add(f)}var r="directory"===c.type?e+"Dir":e;this._emit(r,u),"addDir"===r&&this._addToFsEvents(u,!1,!0)}}.bind(this);if(-1!==[69888,70400,71424,72704,73472,131328,131840,262912].indexOf(a)||"unknown"===c.event)"function"==typeof this.options.ignored?i.stat(u,function(e,t){d(t)||(t?m():g("unlink"))}):y();else switch(c.event){case"created":case"modified":return m();case"deleted":case"moved":return y()}}}function m(){g(p.has(f)?"change":"add")}function y(){i.open(u,"r",function(e,t){e?"EACCES"!==e.code?g("unlink"):m():i.close(t,function(e){e&&"EACCES"!==e.code?g("unlink"):m()})})}}.bind(this),a=u(e,t,s,this.emit.bind(this,"raw"));return this._emitReady(),a}},h.prototype._handleFsEventsSymlink=function(e,t,n,r){this._symlinkPaths[t]||(this._symlinkPaths[t]=!0,this._readyCount++,i.realpath(e,function(t,i){if(this._handleError(t)||this._isIgnored(i))return this._emitReady();this._readyCount++,this._addToFsEvents(i||e,function(t){var r="."+o.sep,s=e;return i&&i!==r?s=t.replace(i,e):t!==r&&(s=o.join(e,t)),n(s)},!1,r)}.bind(this)))},h.prototype._addToFsEvents=function(e,t,n,r){var a="function"==typeof t?t:function(e){return e},c=function(e,t){var r=a(e),i=t.isDirectory(),s=this._getWatchedDir(o.dirname(r)),c=o.basename(r);i&&this._getWatchedDir(r),s.has(c)||(s.add(c),this.options.ignoreInitial&&!0!==n||this._emit(i?"addDir":"add",r,t))}.bind(this),u=this._getWatchHelpers(e);if(i[u.statMethod](u.watchPath,function(t,n){if(this._handleError(t)||this._isIgnored(u.watchPath,n))return this._emitReady(),this._emitReady();if(n.isDirectory()){if(u.globFilter||c(a(e),n),r&&r>this.options.depth)return;s({root:u.watchPath,entryType:"all",fileFilter:u.filterPath,directoryFilter:u.filterDir,lstat:!0,depth:this.options.depth-(r||0)}).on("data",function(e){if(!e.stat.isDirectory()||u.filterPath(e)){var t=o.join(u.watchPath,e.path),n=e.fullPath;if(u.followSymlinks&&e.stat.isSymbolicLink()){var r=void 0===this.options.depth?void 0:l(t,o.resolve(u.watchPath))+1;this._handleFsEventsSymlink(t,n,a,r)}else c(t,e.stat)}}.bind(this)).on("error",function(){}).on("end",this._emitReady)}else c(u.watchPath,n),this._emitReady()}.bind(this)),this.options.persistent&&!0!==n){var h=function(t,n){if(!this.closed){var r=this._watchWithFsEvents(u.watchPath,o.resolve(n||u.watchPath),a,u.globFilter);r&&(this._closers[e]=r)}}.bind(this);"function"==typeof t?h():i.realpath(u.watchPath,h)}},e.exports=h,e.exports.canUse=function(){return r&&Object.keys(a).length<128}},function(e,t){e.exports=require("fsevents")},function(e,t,n){var r=n(0),i="win32"===process.platform,o=n(2),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function a(e){return"function"==typeof e?e:function(){var e;if(s){var t=new Error;e=function(e){e&&(t.message=e.message,n(e=t))}}else e=n;return e;function n(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}r.normalize;if(i)var c=/(.*?)(?:[\/\\]+|$)/g;else c=/(.*?)(?:[\/]+|$)/g;if(i)var u=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else u=/^[\/]*/;t.realpathSync=function(e,t){if(e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n,s,a,l,h=e,f={},p={};function d(){var t=u.exec(e);n=t[0].length,s=t[0],a=t[0],l="",i&&!p[a]&&(o.lstatSync(a),p[a]=!0)}for(d();n<e.length;){c.lastIndex=n;var g=c.exec(e);if(l=s,s+=g[0],a=l+g[1],n=c.lastIndex,!(p[a]||t&&t[a]===a)){var m;if(t&&Object.prototype.hasOwnProperty.call(t,a))m=t[a];else{var y=o.lstatSync(a);if(!y.isSymbolicLink()){p[a]=!0,t&&(t[a]=a);continue}var v=null;if(!i){var b=y.dev.toString(32)+":"+y.ino.toString(32);f.hasOwnProperty(b)&&(v=f[b])}null===v&&(o.statSync(a),v=o.readlinkSync(a)),m=r.resolve(l,v),t&&(t[a]=m),i||(f[b]=v)}e=r.resolve(m,e.slice(n)),d()}}return t&&(t[h]=e),e},t.realpath=function(e,t,n){if("function"!=typeof n&&(n=a(t),t=null),e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var s,l,h,f,p=e,d={},g={};function m(){var t=u.exec(e);s=t[0].length,l=t[0],h=t[0],f="",i&&!g[h]?o.lstat(h,function(e){if(e)return n(e);g[h]=!0,y()}):process.nextTick(y)}function y(){if(s>=e.length)return t&&(t[p]=e),n(null,e);c.lastIndex=s;var r=c.exec(e);return f=l,l+=r[0],h=f+r[1],s=c.lastIndex,g[h]||t&&t[h]===h?process.nextTick(y):t&&Object.prototype.hasOwnProperty.call(t,h)?w(t[h]):o.lstat(h,v)}function v(e,r){if(e)return n(e);if(!r.isSymbolicLink())return g[h]=!0,t&&(t[h]=h),process.nextTick(y);if(!i){var s=r.dev.toString(32)+":"+r.ino.toString(32);if(d.hasOwnProperty(s))return b(null,d[s],h)}o.stat(h,function(e){if(e)return n(e);o.readlink(h,function(e,t){i||(d[s]=t),b(e,t)})})}function b(e,i,o){if(e)return n(e);var s=r.resolve(f,i);t&&(t[o]=s),w(s)}function w(t){e=r.resolve(t,e.slice(s)),m()}m()}},function(e,t,n){var r=n(256),i=n(257);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,n){var o=[];var s=i("{","}",t);if(!s||/\$$/.test(s.pre))return[t];var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body);var u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body);var h=c||u;var m=s.body.indexOf(",")>=0;if(!h&&!m)return s.post.match(/,.*\}/)?(t=s.pre+"{"+s.body+a+s.post,e(t)):[t];var y;if(h)y=s.body.split(/\.\./);else if(1===(y=function e(t){if(!t)return[""];var n=[];var r=i("{","}",t);if(!r)return t.split(",");var o=r.pre;var s=r.body;var a=r.post;var c=o.split(",");c[c.length-1]+="{"+s+"}";var u=e(a);a.length&&(c[c.length-1]+=u.shift(),c.push.apply(c,u));n.push.apply(n,c);return n}(s.body)).length&&1===(y=e(y[0],!1).map(f)).length){var v=s.post.length?e(s.post,!1):[""];return v.map(function(e){return s.pre+y[0]+e})}var b=s.pre;var v=s.post.length?e(s.post,!1):[""];var w;if(h){var x=l(y[0]),_=l(y[1]),k=Math.max(y[0].length,y[1].length),S=3==y.length?Math.abs(l(y[2])):1,E=d,C=_<x;C&&(S*=-1,E=g);var O=y.some(p);w=[];for(var T=x;E(T,_);T+=S){var j;if(u)"\\"===(j=String.fromCharCode(T))&&(j="");else if(j=String(T),O){var A=k-j.length;if(A>0){var P=new Array(A+1).join("0");j=T<0?"-"+P+j.slice(1):P+j}}w.push(j)}}else w=r(y,function(t){return e(t,!1)});for(var L=0;L<w.length;L++)for(var R=0;R<v.length;R++){var M=b+w[L]+v[R];(!n||h||M)&&o.push(M)}return o}(function(e){return e.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(h)};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function h(e){return e.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function f(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function d(e,t){return e<=t}function g(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var r=[],i=0;i<e.length;i++){var o=t(e[i],i);n(o)?r.push.apply(r,o):r.push(o)}return r};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t,n){e instanceof RegExp&&(e=i(e,n)),t instanceof RegExp&&(t=i(t,n));var r=o(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function i(e,t){var n=t.match(e);return n?n[0]:null}function o(e,t,n){var r,i,o,s,a,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){for(r=[],o=n.length;l>=0&&!a;)l==c?(r.push(l),c=n.indexOf(e,l+1)):1==r.length?a=[r.pop(),u]:((i=r.pop())<o&&(o=i,s=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;r.length&&(a=[o,s])}return a}e.exports=r,r.range=o},function(e,t,n){e.exports=d,d.GlobSync=g;var r=n(2),i=n(98),o=n(48),s=(o.Minimatch,n(47).Glob,n(4),n(0)),a=n(28),c=n(37),u=n(99),l=(u.alphasort,u.alphasorti,u.setopts),h=u.ownProp,f=u.childrenIgnored,p=u.isIgnored;function d(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new g(e,t).found}function g(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof g))return new g(e,t);if(l(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}g.prototype._finish=function(){if(a(this instanceof g),this.realpath){var e=this;this.matches.forEach(function(t,n){var r=e.matches[n]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),r[i.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;r[e._makeAbs(o)]=!0}})}u.finish(this)},g.prototype._process=function(e,t,n){a(this instanceof g);for(var r,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t);case 0:r=null;break;default:r=e.slice(0,i).join("/")}var s,u=e.slice(i);null===r?s=".":c(r)||c(e.join("/"))?(r&&c(r)||(r="/"+r),s=r):s=r;var l=this._makeAbs(s);f(this,s)||(u[0]===o.GLOBSTAR?this._processGlobStar(r,s,l,u,t,n):this._processReaddir(r,s,l,u,t,n))},g.prototype._processReaddir=function(e,t,n,r,i,o){var a=this._readdir(n,o);if(a){for(var c=r[0],u=!!this.minimatch.negate,l=c._glob,h=this.dot||"."===l.charAt(0),f=[],p=0;p<a.length;p++){if("."!==(m=a[p]).charAt(0)||h)(u&&!e?!m.match(c):m.match(c))&&f.push(m)}var d=f.length;if(0!==d)if(1!==r.length||this.mark||this.stat){r.shift();for(p=0;p<d;p++){var g;m=f[p];g=e?[e,m]:[m],this._process(g.concat(r),i,o)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<d;p++){var m=f[p];e&&(m="/"!==e.slice(-1)?e+"/"+m:e+m),"/"!==m.charAt(0)||this.nomount||(m=s.join(this.root,m)),this._emitMatch(i,m)}}}},g.prototype._emitMatch=function(e,t){if(!p(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},g.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n;try{n=r.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var i=n&&n.isSymbolicLink();return this.symlinks[e]=i,i||!n||n.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},g.prototype._readdir=function(e,t){if(t&&!h(this.symlinks,e))return this._readdirInGlobStar(e);if(h(this.cache,e)){var n=this.cache[e];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,r.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},g.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];r="/"===e?e+r:e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,t},g.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=t.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},g.prototype._processGlobStar=function(e,t,n,r,i,o){var s=this._readdir(n,o);if(s){var a=r.slice(1),c=e?[e]:[],u=c.concat(a);this._process(u,i,!1);var l=s.length;if(!this.symlinks[n]||!o)for(var h=0;h<l;h++){if("."!==s[h].charAt(0)||this.dot){var f=c.concat(s[h],a);this._process(f,i,!0);var p=c.concat(s[h],r);this._process(p,i,!0)}}}},g.prototype._processSimple=function(e,t){var n=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),n){if(e&&c(e)&&!this.nomount){var r=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=s.join(this.root,e):(e=s.resolve(this.root,e),r&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},g.prototype._stat=function(e){var t=this._makeAbs(e),n="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&h(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!n||"DIR"===i)return i;if(n&&"FILE"===i)return!1}var o=this.statCache[t];if(!o){var s;try{s=r.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(s&&s.isSymbolicLink())try{o=r.statSync(t)}catch(e){o=s}else o=s}this.statCache[t]=o;i=!0;return o&&(i=o.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,(!n||"FILE"!==i)&&i},g.prototype._mark=function(e){return u.mark(this,e)},g.prototype._makeAbs=function(e){return u.makeAbs(this,e)}},function(e,t,n){var r=n(100),i=Object.create(null),o=n(101);e.exports=r(function(e,t){return i[e]?(i[e].push(t),null):(i[e]=[t],function(e){return o(function t(){var n=i[e],r=n.length,o=function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r]=e[r];return n}(arguments);try{for(var s=0;s<r;s++)n[s].apply(null,o)}finally{n.length>r?(n.splice(0,r),process.nextTick(function(){t.apply(null,o)})):delete i[e]}})}(e))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(0),o=n(15),s=n(14),a="10000";t.Builder=class{constructor(e){this.disableBuildAfterSave=!1,this.disableCleanAndRetry=!1,this.extension=e}kill(){this.currentProcess&&(this.currentProcess.kill(),this.extension.logger.addLogMessage("Kill the current process."))}preprocess(e){this.extension.logger.addLogMessage(`Build root file ${e}`),this.disableBuildAfterSave=!0,r.workspace.saveAll(),setTimeout(()=>this.disableBuildAfterSave=!1,1e3),this.currentProcess?(this.currentProcess.kill(),this.extension.logger.addLogMessage("Kill previous process."),this.nextBuildRootFile=e):this.nextBuildRootFile=void 0}buildInitiator(e,t){const n=this.createSteps(e,t);void 0!==n?this.buildStep(e,n,0,t||"Build"):this.extension.logger.addLogMessage("Invalid toolchain.")}build(e,t){if(this.disableCleanAndRetry=!1,this.extension.logger.displayStatus("sync~spin","statusBar.foreground"),this.preprocess(e),"./"!==this.extension.manager.getOutputDir(e)){const t=new Set(this.extension.manager.watched.map(e=>i.dirname(e.replace(this.extension.manager.rootDir,"")))),n=i.join(this.extension.manager.rootDir,this.extension.manager.getOutputDir(e));t.forEach(e=>{o.ensureDirSync(i.join(n,e))})}void 0===this.nextBuildRootFile&&this.buildInitiator(e,t)}progressString(e,t,n){return t.length<2?e:e+`: ${n+1}/${t.length} (${t[n].name})`}buildStep(e,t,n,o){if(t.length===n)return this.extension.logger.addLogMessage(`Recipe of length ${t.length} finished.`),void this.buildFinished(e);this.extension.logger.displayStatus("sync~spin","statusBar.foreground",void 0,void 0,` ${this.progressString(o,t,n)}`),this.extension.logger.clearCompilerMessage(),this.extension.logger.addLogMessage(`Recipe step ${n+1}: ${t[n].command}, ${t[n].args}`),process.env.max_print_line=a,this.currentProcess=s.spawn(t[n].command,t[n].args,{cwd:i.dirname(e)});let c="";this.currentProcess.stdout.on("data",e=>{c+=e,this.extension.logger.addCompilerMessage(e.toString())});let u="";this.currentProcess.stderr.on("data",e=>{u+=e,this.extension.logger.addCompilerMessage(e.toString())}),this.currentProcess.on("error",e=>{this.extension.logger.addLogMessage(`LaTeX fatal error: ${e.message}, ${u}. Does the executable exist?`),this.extension.logger.displayStatus("x","errorForeground",`Recipe terminated with fatal error: ${e.message}.`),this.currentProcess=void 0}),this.currentProcess.on("exit",(i,s)=>{if(this.extension.parser.parse(c),0!==i){this.extension.logger.addLogMessage(`Recipe returns with error: ${i}/${s}.`);const n=r.workspace.getConfiguration("latex-workshop");if(this.disableCleanAndRetry||!n.get("latex.autoBuild.cleanAndRetry.enabled")||n.get("latex.clean.enabled")){this.extension.logger.displayStatus("x","errorForeground"),n.get("latex-workshop.latex.clean.onFailBuild.enabled")&&!n.get("latex.clean.enabled")&&this.extension.commander.clean();const e=this.extension.logger.showErrorMessage("Recipe terminated with error.","Open compiler log");e&&e.then(e=>{switch(e){case"Open compiler log":this.extension.logger.showCompilerLog()}})}else this.disableCleanAndRetry=!0,"SIGTERM"!==s&&(this.extension.logger.displayStatus("x","errorForeground","Recipe terminated with error. Retry building the project.","warning"),this.extension.logger.addLogMessage("Cleaning auxillary files and retrying build after toolchain error."),this.extension.commander.clean().then(()=>{this.buildStep(e,t,0,o)}))}else this.buildStep(e,t,n+1,o);this.currentProcess=void 0,this.nextBuildRootFile&&this.build(this.nextBuildRootFile)})}buildFinished(e){this.extension.logger.addLogMessage(`Successfully built ${e}`),this.extension.logger.displayStatus("check","statusBar.foreground","Recipe succeeded."),this.extension.viewer.refreshExistingViewer(e),r.workspace.getConfiguration("latex-workshop").get("latex.clean.enabled")&&this.extension.cleaner.clean()}createSteps(e,t){let n=[];const c=r.workspace.getConfiguration("latex-workshop"),[u,l]=this.findProgramMagic(e);if(void 0===t&&u){const e={name:u,command:u,args:c.get("latex.magic.args")},t={name:l,command:l,args:c.get("latex.magic.bib.args")};n=l?[e,t,e,e]:[e]}else{const e=c.get("latex.recipes"),r=c.get("latex.tools");if(e.length<1)return void this.extension.logger.showErrorMessage("No recipes defined.");let i=e[0];if(t){const n=e.filter(e=>e.name===t);n.length<1&&this.extension.logger.showErrorMessage(`Failed to resolve build recipe: ${t}`),i=n[0]}i.tools.forEach(e=>{if("string"==typeof e){const t=r.filter(t=>t.name===e);t.length<1?this.extension.logger.showErrorMessage(`Skipping undefined tool "${e}" in recipe "${i.name}."`):n.push(t[0])}else n.push(e)})}n=JSON.parse(JSON.stringify(n));const h=c.get("docker.enabled");return n.forEach(t=>{if(h)switch(t.command){case"latexmk":"win32"===process.platform?t.command=i.join(this.extension.extensionRoot,"scripts/latexmk.bat"):(t.command=i.join(this.extension.extensionRoot,"scripts/latexmk"),o.chmodSync(t.command,493))}if(t.args){const n=e.replace(/\.tex$/,"").split(i.sep).join("/"),r=i.basename(e,".tex").split(i.sep).join("/");t.args=t.args.map(t=>t.replace("%DOC%",h?r:n).replace("%DOCFILE%",r).replace("%DIR%",i.dirname(e).split(i.sep).join("/")))}c.get("maxPrintLine.option.enabled")&&"win32"===process.platform&&(t.args||(t.args=[]),"latexmk"===t.command&&-1===t.args.indexOf("-lualatex")&&-1===t.args.indexOf("-pdflua")&&-1===t.args.indexOf("-xelatex")&&-1===t.args.indexOf("-pdfxe")||"pdflatex"===t.command)&&s.execSync("pdflatex --version").toString().match(/MiKTeX/)&&t.args.unshift("--max-print-line="+a)}),n}findProgramMagic(e){const t=o.readFileSync(e).toString(),n=t.match(/^(?:%\s*!\s*T[Ee]X\s(?:TS-)?program\s*=\s*([^\s]*)$)/m),r=t.match(/^(?:%\s*!\s*BIB\s(?:TS-)?program\s*=\s*([^\s]*)$)/m);let i="",s="";return n&&(i=n[1],this.extension.logger.addLogMessage(`Found TeX program by magic comment: ${i}`)),r&&(s=r[1],this.extension.logger.addLogMessage(`Found BIB program by magic comment: ${s}`)),[i,s]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(2),o=n(0),s=n(14);t.Viewer=class{constructor(e){this.clients={},this.positions={},this.extension=e}refreshExistingViewer(e,t){const n=this.extension.manager.tex2pdf(e),r=this.clients[n.toLocaleUpperCase()];return void 0===r||void 0!==t&&r.type!==t||void 0===r.websocket?(this.extension.logger.addLogMessage(`No PDF viewer connected for ${n}`),!1):(this.extension.logger.addLogMessage(`Refresh PDF viewer for ${n}`),r.websocket.send(JSON.stringify({type:"refresh"})),!0)}checkViewer(e,t,n=!0){if(this.refreshExistingViewer(e,t))return;const r=this.extension.manager.tex2pdf(e,n);if(!i.existsSync(r))return void this.extension.logger.addLogMessage(`Cannot find PDF file ${r}`);if(void 0===this.extension.server.address)return void this.extension.logger.addLogMessage("Cannot establish server connection.");const o=`http://${this.extension.server.address}/viewer.html?file=/pdf:${encodeURIComponent(encodeURIComponent(r))}`;return this.extension.logger.addLogMessage(`Serving PDF file at ${o}`),o}openViewer(e){const t=this.checkViewer(e,"viewer");if(!t)return;const n=this.extension.manager.tex2pdf(e),i=this.clients[n.toLocaleUpperCase()];void 0!==i&&void 0!==i.websocket&&i.websocket.close(),this.clients[n.toLocaleUpperCase()]={type:"viewer"};try{r.commands.executeCommand("vscode.open",r.Uri.parse(t)),this.extension.logger.addLogMessage(`Open PDF viewer for ${n}`)}catch(e){r.window.showInputBox({prompt:"Unable to open browser. Please copy and visit this link.",value:t}),this.extension.logger.addLogMessage(`Something bad happened when opening PDF viewer for ${n}: ${e}`)}}openTab(e,t=!0,n=!0){if(!this.checkViewer(e,"tab",t))return;const i=this.extension.manager.tex2pdf(e,t),s=this.clients[i.toLocaleUpperCase()],a=r.Uri.file(i).with({scheme:"latex-workshop-pdf"});void 0!==s&&void 0!==s.websocket&&s.websocket.close(),this.clients[i.toLocaleUpperCase()]={type:"tab"};const c=r.window.activeTextEditor;r.window.createWebviewPanel("latex-workshop-pdf",o.basename(i),n?r.ViewColumn.Beside:r.ViewColumn.Active,{enableScripts:!0,retainContextWhenHidden:!0}).webview.html=this.getPDFViewerContent(a),c&&r.window.showTextDocument(c.document,c.viewColumn),this.extension.logger.addLogMessage(`Open PDF tab for ${i}`)}getPDFViewerContent(e){return`\n            <!DOCTYPE html><html><head></head>\n            <body><iframe id="preview-panel" class="preview-panel" src="${`http://${this.extension.server.address}/viewer.html?incode=1&file=/pdf:${e.authority?`\\\\${e.authority}`:""}${encodeURIComponent(e.fsPath)}`}" style="position:absolute; border: none; left: 0; top: 0; width: 100%; height: 100%;">\n            </iframe>\n            <script>\n            // when the iframe loads, or when the tab gets focus again later, move the\n            // the focus to the iframe so that keyboard navigation works in the pdf.\n            //\n            // Note: this works on first load, or when navigating between groups, but not when\n            //       navigating between tabs of the same group for some reason!\n\n            let iframe = document.getElementById('preview-panel');\n            window.onfocus = iframe.onload = function() {\n                setTimeout(function() { // doesn't work immediately\n                    iframe.contentWindow.focus();\n                }, 100);\n            }\n            <\/script>\n            </body></html>\n        `}openExternal(e){const t=this.extension.manager.tex2pdf(e),n=r.workspace.getConfiguration("latex-workshop"),i=JSON.parse(JSON.stringify(n.get("view.pdf.external.command")));i.args&&(i.args=i.args.map(e=>e.replace("%PDF%",t))),s.spawn(i.command,i.args,{cwd:o.dirname(e),detached:!0}),this.extension.logger.addLogMessage(`Open external viewer for ${t}`)}handler(e,t){const n=JSON.parse(t);let i;switch(n.type){case"open":void 0!==(i=this.clients[decodeURIComponent(n.path).toLocaleUpperCase()])&&(i.websocket=e,void 0===i.type&&void 0!==i.prevType&&(i.type=i.prevType));break;case"close":for(const t in this.clients)void 0!==(i=this.clients[t])&&i.websocket===e&&(i.prevType=i.type,delete i.websocket,delete i.type);break;case"position":for(const t in this.clients)void 0!==(i=this.clients[t])&&i.websocket===e&&(i.position=n);break;case"loaded":if(void 0!==(i=this.clients[decodeURIComponent(n.path).toLocaleUpperCase()])&&void 0!==i.websocket){const e=r.workspace.getConfiguration("latex-workshop");void 0!==i.position?i.websocket.send(JSON.stringify(i.position)):i.websocket.send(JSON.stringify({type:"params",scale:e.get("view.pdf.zoom"),scrollMode:e.get("view.pdf.scrollMode"),spreadMode:e.get("view.pdf.spreadMode"),hand:e.get("view.pdf.hand"),invert:e.get("view.pdf.invert")})),e.get("synctex.afterBuild.enabled")&&this.extension.locator.syncTeX()}break;case"click":this.extension.locator.locate(n,decodeURIComponent(n.path));break;case"external_link":r.commands.executeCommand("vscode.open",r.Uri.parse(n.url));break;default:this.extension.logger.addLogMessage(`Unknown websocket message: ${t}`)}}syncTeX(e,t){const n=this.clients[e.toLocaleUpperCase()];void 0!==n?void 0!==n.websocket&&(n.websocket.send(JSON.stringify({type:"synctex",data:t})),this.extension.logger.addLogMessage(`Try to synctex ${e}`)):this.extension.logger.addLogMessage(`PDF is not viewed: ${e}`)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(49),i=n(263),o=n(2),s=n(0);t.Server=class{constructor(e){this.extension=e,this.httpServer=r.createServer((e,t)=>this.handler(e,t)),this.httpServer.listen(0,"127.0.0.1",void 0,e=>{if(e)this.extension.logger.addLogMessage(`Error creating LaTeX Workshop http server: ${e}.`);else{const{address:e,port:t}=this.httpServer.address();e.indexOf(":")>-1?this.address=`[${e}]:${t}`:this.address=`${e}:${t}`,this.extension.logger.addLogMessage(`Server created on ${this.address}`)}}),this.httpServer.on("error",e=>{this.extension.logger.addLogMessage(`Error creating LaTeX Workshop http server: ${e}.`)}),this.wsServer=new i.Server({server:this.httpServer}),this.wsServer.on("connection",e=>{e.on("message",t=>this.extension.viewer.handler(e,t)),e.on("close",()=>this.extension.viewer.handler(e,'{"type": "close"}'))}),this.extension.logger.addLogMessage("Creating LaTeX Workshop http and websocket server.")}handler(e,t){if(e.url)if(e.url=decodeURIComponent(decodeURIComponent(e.url)),e.url.indexOf("pdf:")>=0&&e.url.indexOf("viewer.html")<0){const n=e.url.replace("/pdf:","");try{const e=o.statSync(n).size;t.writeHead(200,{"Content-Type":"application/pdf","Content-Length":e}),o.createReadStream(n).pipe(t),this.extension.logger.addLogMessage(`Preview PDF file: ${n}`)}catch(e){t.writeHead(404),t.end(),this.extension.logger.addLogMessage(`Error reading PDF file: ${n}`)}}else{let n;n=e.url.startsWith("/build/")||e.url.startsWith("/cmaps/")?s.resolve(`${this.extension.extensionRoot}/node_modules/pdfjs-dist`):s.resolve(`${this.extension.extensionRoot}/viewer`);const r=s.join(n,e.url.split("?")[0]);let i="text/html";switch(s.extname(r)){case".js":i="text/javascript";break;case".css":i="text/css";break;case".json":i="application/json";break;case".png":i="image/png";break;case".jpg":i="image/jpg"}o.readFile(r,(e,n)=>{e?("ENOENT"===e.code?t.writeHead(404):t.writeHead(500),t.end()):(t.writeHead(200,{"Content-Type":i}),t.end(n,"utf-8"))})}}}},function(e,t,n){"use strict";const r=n(102);r.Server=n(271),r.Receiver=n(104),r.Sender=n(106),e.exports=r},function(e,t){e.exports=require("https")},function(e,t){e.exports=require("tls")},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);e=e||{},this.concurrency=e.concurrency||1/0,this.pending=0,this.jobs=[],this.cbs=[],this._done=function(){this.pending--,this._run()}.bind(this)}["push","unshift","splice"].forEach(function(e){r.prototype[e]=function(){var t=Array.prototype[e].apply(this.jobs,arguments);return this._run(),t}}),Object.defineProperty(r.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),r.prototype._run=function(){if(this.pending!==this.concurrency){if(this.jobs.length){var e=this.jobs.shift();this.pending++,e(this._done),this._run()}if(0===this.pending)for(;0!==this.cbs.length;){var t=this.cbs.pop();process.nextTick(t)}}},r.prototype.onDone=function(e){"function"==typeof e&&(this.cbs.push(e),this._run())},e.exports=r},function(e,t){e.exports=require("zlib")},function(e,t){e.exports=require("bufferutil")},function(e,t,n){"use strict";class r{constructor(e,t){this.target=t,this.type=e}}class i extends r{constructor(e,t){super("message",t),this.data=e}}class o extends r{constructor(e,t,n){super("close",n),this.wasClean=n._closeFrameReceived&&n._closeFrameSent,this.reason=t,this.code=e}}class s extends r{constructor(e){super("open",e)}}class a extends r{constructor(e,t){super("error",t),this.message=e.message,this.error=e}}const c={addEventListener(e,t){function n(e){t.call(this,new i(e,this))}function r(e,n){t.call(this,new o(e,n,this))}function c(e){t.call(this,new a(e,this))}function u(){t.call(this,new s(this))}"function"==typeof t&&("message"===e?(n._listener=t,this.on(e,n)):"close"===e?(r._listener=t,this.on(e,r)):"error"===e?(c._listener=t,this.on(e,c)):"open"===e?(u._listener=t,this.on(e,u)):this.on(e,t))},removeEventListener(e,t){const n=this.listeners(e);for(var r=0;r<n.length;r++)n[r]!==t&&n[r]._listener!==t||this.removeListener(e,n[r])}};e.exports=c},function(e,t){e.exports=require("utf-8-validate")},function(e,t,n){"use strict";const r=n(19),i=n(50),o=n(49),s=n(45),a=n(40),c=n(103),u=n(26),l=n(102);function h(){this.destroy()}function f(e,t,n,r){e.writable&&(n=n||o.STATUS_CODES[t],r=Object.assign({Connection:"close","Content-type":"text/html","Content-Length":Buffer.byteLength(n)},r),e.write(`HTTP/1.1 ${t} ${o.STATUS_CODES[t]}\r\n`+Object.keys(r).map(e=>`${e}: ${r[e]}`).join("\r\n")+"\r\n\r\n"+n)),e.removeListener("error",h),e.destroy()}e.exports=class extends r{constructor(e,t){if(super(),null==(e=Object.assign({maxPayload:104857600,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null},e)).port&&!e.server&&!e.noServer)throw new TypeError('One of the "port", "server", or "noServer" options must be specified');null!=e.port?(this._server=o.createServer((e,t)=>{const n=o.STATUS_CODES[426];t.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),t.end(n)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server&&(this._removeListeners=function(e,t){for(const n of Object.keys(t))e.on(n,t[n]);return function(){for(const n of Object.keys(t))e.removeListener(n,t[n])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(e,t,n)=>{this.handleUpgrade(e,t,n,t=>{this.emit("connection",t,e)})}})),!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set),this.options=e}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this.clients)for(const e of this.clients)e.terminate();const t=this._server;if(t&&(this._removeListeners(),this._removeListeners=this._server=null,null!=this.options.port))return t.close(e);e&&e()}shouldHandle(e){return!this.options.path||s.parse(e.url).pathname===this.options.path}handleUpgrade(e,t,n,r){t.on("error",h);const i=+e.headers["sec-websocket-version"],o={};if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!e.headers["sec-websocket-key"]||8!==i&&13!==i||!this.shouldHandle(e))return f(t,400);if(this.options.perMessageDeflate){const n=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const r=c.parse(e.headers["sec-websocket-extensions"]);r[a.extensionName]&&(n.accept(r[a.extensionName]),o[a.extensionName]=n)}catch(e){return f(t,400)}}if(this.options.verifyClient){const s={origin:e.headers[`${8===i?"sec-websocket-origin":"origin"}`],secure:!(!e.connection.authorized&&!e.connection.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(s,(i,s,a,c)=>{if(!i)return f(t,s||401,a,c);this.completeUpgrade(o,e,t,n,r)});if(!this.options.verifyClient(s))return f(t,401)}this.completeUpgrade(o,e,t,n,r)}completeUpgrade(e,t,n,r,o){if(!n.readable||!n.writable)return n.destroy();const s=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${i.createHash("sha1").update(t.headers["sec-websocket-key"]+u.GUID,"binary").digest("base64")}`],f=new l(null);var p=t.headers["sec-websocket-protocol"];if(p&&(p=p.trim().split(/ *, */),(p=this.options.handleProtocols?this.options.handleProtocols(p,t):p[0])&&(s.push(`Sec-WebSocket-Protocol: ${p}`),f.protocol=p)),e[a.extensionName]){const t=e[a.extensionName].params,n=c.format({[a.extensionName]:[t]});s.push(`Sec-WebSocket-Extensions: ${n}`),f._extensions=e}this.emit("headers",s,t),n.write(s.concat("\r\n").join("\r\n")),n.removeListener("error",h),f.setSocket(n,r,this.options.maxPayload),this.clients&&(this.clients.add(f),f.on("close",()=>this.clients.delete(f))),o(f)}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(2),s=n(0),a=n(14);t.Locator=class{constructor(e){this.extension=e}parseSyncTeX(e){const t={};let n=!1;for(const r of e.split("\n")){if(r.indexOf("SyncTeX result begin")>-1){n=!0;continue}if(r.indexOf("SyncTeX result end")>-1)break;if(!n)continue;const e=r.indexOf(":");if(e<0)continue;const i=r.substr(0,e).toLowerCase();if(i in t)continue;let o=r.substr(e+1);"column"!==o&&"line"!==o||(o=parseInt(o)),t[i]=o}return t}syncTeX(e,t="auto"){let n=0;if(!i.window.activeTextEditor)return;const r=i.window.activeTextEditor.document.uri.fsPath;if(!this.extension.manager.hasTexId(i.window.activeTextEditor.document.languageId))return void this.extension.logger.addLogMessage(`${r} is not a valid LaTeX file.`);if(!e){const t=i.window.activeTextEditor.selection.active;if(!t)return void this.extension.logger.addLogMessage(`Cannot get cursor position: ${t}`);e=t.line+1,n=t.character}const c=i.workspace.getConfiguration("latex-workshop"),u=this.extension.manager.tex2pdf(this.extension.manager.rootFile);if(i.window.activeTextEditor.document.lineCount===e&&""===i.window.activeTextEditor.document.lineAt(e-1).text&&(e-=1),"external"===t||"auto"===t&&"external"===c.get("view.pdf.viewer"))return void this.syncTeXExternal(e,u,this.extension.manager.rootFile);const l=c.get("docker.enabled"),h=["view","-i",`${e}:${n+1}:${l?s.basename(r):r}`,"-o",l?s.basename(u):u];this.extension.logger.addLogMessage(`Executing synctex with args ${h}`);let f=c.get("synctex.path");l&&("win32"===process.platform?f=s.join(this.extension.extensionRoot,"scripts/synctex.bat"):(f=s.join(this.extension.extensionRoot,"scripts/synctex"),o.chmodSync(f,493)));const p=a.spawn(f,h,{cwd:s.dirname(u)});p.stdout.setEncoding("utf8"),p.stderr.setEncoding("utf8");let d="";p.stdout.on("data",e=>{d+=e});let g="";p.stderr.on("data",e=>{g+=e}),p.on("error",e=>{this.extension.logger.addLogMessage(`Cannot synctex: ${e.message}, ${g}`)}),p.on("exit",e=>{0!==e?this.extension.logger.addLogMessage(`Cannot synctex, code: ${e}, ${g}`):this.extension.viewer.syncTeX(u,this.parseSyncTeX(d))})}syncTeXOnRef(e){const t=i.workspace.getConfiguration("latex-workshop").get("view.pdf.ref.viewer");e+=1,t?this.syncTeX(e,t):this.syncTeX(e)}locate(e,t){const n=i.workspace.getConfiguration("latex-workshop"),r=n.get("docker.enabled"),c=["edit","-o",`${e.page}:${e.pos[0]}:${e.pos[1]}:${r?s.basename(t):t}`];this.extension.logger.addLogMessage(`Executing synctex with args ${c}`);let u=n.get("synctex.path");r&&("win32"===process.platform?u=s.join(this.extension.extensionRoot,"scripts/synctex.bat"):(u=s.join(this.extension.extensionRoot,"scripts/synctex"),o.chmodSync(u,493)));const l=a.spawn(u,c,{cwd:s.dirname(t)});l.stdout.setEncoding("utf8"),l.stderr.setEncoding("utf8");let h="";l.stdout.on("data",e=>{h+=e});let f="";l.stderr.on("data",e=>{f+=e}),l.on("error",e=>{this.extension.logger.addLogMessage(`Cannot reverse synctex: ${e.message}, ${f}`)}),l.on("exit",e=>{if(0!==e)this.extension.logger.addLogMessage(`Cannot reverse synctex, code: ${e}, ${f}`);else{const e=this.parseSyncTeX(h);if(void 0===e)return void this.extension.logger.addLogMessage(`Reverse synctex returned null file: ${e}`);const n=e.line-1,o=e.column<0?0:e.column,a=new i.Position(n,o);let c=s.resolve(e.input.replace(/(\r\n|\n|\r)/gm,""));r&&"win32"===process.platform&&(c=s.join(s.dirname(t),e.input.replace("/data/",""))),this.extension.logger.addLogMessage(`SyncTeX to file ${c}`),i.workspace.openTextDocument(c).then(e=>{let t=void 0;for(let e=0;e<i.window.visibleTextEditors.length&&void 0===(t=i.window.visibleTextEditors[e].viewColumn);e++);i.window.showTextDocument(e,t).then(e=>{e.selection=new i.Selection(a,a),i.commands.executeCommand("revealLine",{lineNumber:n,at:"center"}),this.animateToNotify(e,a)})})}})}animateToNotify(e,t){const n={borderWidth:"1px",borderStyle:"solid",light:{borderColor:"red"},dark:{borderColor:"white"}},o=e.document.lineAt(t.line).range.end.character,s=t.character;let a=Math.max(s-6,0),c=Math.min(o,s+6);const u=new i.Range(t.line,a,t.line,c);setTimeout(()=>r(this,void 0,void 0,function*(){let t=void 0;for(let r=0;r<10;r++){n.borderWidth=10-r+"px";const o=i.window.createTextEditorDecorationType(n);t&&t.dispose(),e.setDecorations(o,[u]),t=o,yield new Promise(e=>setTimeout(e,100))}t&&t.dispose()}),10)}syncTeXExternal(e,t,n){if(!i.window.activeTextEditor)return;const r=i.window.activeTextEditor.document.uri.fsPath,o=i.workspace.getConfiguration("latex-workshop"),c=JSON.parse(JSON.stringify(o.get("view.pdf.external.synctex")));c.args&&(c.args=c.args.map(i=>i.replace("%DOC%",n.replace(/\.tex$/,"").split(s.sep).join("/")).replace("%DOCFILE%",s.basename(n,".tex").split(s.sep).join("/")).replace("%PDF%",t).replace("%LINE%",e.toString()).replace("%TEX%",r))),a.spawn(c.command,c.args),this.extension.logger.addLogMessage(`Open external viewer for syncTeX from ${t}`)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(0),o=/^Output\swritten\son\s(.*)\s\(.*\)\.$/gm,s=/Fatal error occurred, no output PDF file produced!/gm,a=/^(?:(.*):(\d+):|!)(?: (.+) Error:)? (.+?)$/,c=/^((?:Over|Under)full \\[vh]box \([^)]*\)) in paragraph at lines (\d+)--(\d+)$/,u=/^((?:Over|Under)full \\[vh]box \([^)]*\)) detected at line (\d+)$/,l=/^((?:(?:Class|Package) \S*)|LaTeX) (Warning|Info):\s+(.*?)(?: on input line (\d+))?\.$/,h=/^Empty `thebibliography' environment/,f=/^Latexmk:\sapplying\srule/gm,p=/^Latexmk:\sapplying\srule/,d=/^Latexmk:\sapplying\srule\s'(pdf|lua|xe)?latex'/,g=/^Latexmk: All targets \(.*\) are up-to-date/,m=/^running\s(pdf|lua|xe)?latex/gm,y=/^running\s((pdf|lua|xe)?latex|miktex-bibtex)/,v=/^running\s(pdf|lua|xe)?latex/,b=/^l\.\d+\s(.*)$/,w={typesetting:r.DiagnosticSeverity.Information,warning:r.DiagnosticSeverity.Warning,error:r.DiagnosticSeverity.Error};t.Parser=class{constructor(e){this.buildLog=[],this.buildLogRaw="",this.compilerDiagnostics=r.languages.createDiagnosticCollection("LaTeX"),this.linterDiagnostics=r.languages.createDiagnosticCollection("ChkTeX"),this.extension=e}parse(e){this.isLaTeXmkSkipped=!1,(e=e.replace(/(\r\n)|\r/g,"\n")).match(f)?e=this.trimLaTeXmk(e):e.match(m)&&(e=this.trimTexify(e)),e.match(o)||e.match(s)?this.parseLaTeX(e):this.latexmkSkipped(e)&&(this.isLaTeXmkSkipped=!0)}trimLaTeXmk(e){const t=e.split("\n");let n=-1,r=-1;for(let e=0;e<t.length;e++){const i=t[e];let o=i.match(d);o&&(n=e),(o=i.match(p))&&(r=e)}return r<=n?t.slice(n).join("\n"):t.slice(n,r).join("\n")}trimTexify(e){const t=e.split("\n");let n=-1,r=-1;for(let e=0;e<t.length;e++){const i=t[e];let o=i.match(v);o&&(n=e),(o=i.match(y))&&(r=e)}return r<=n?t.slice(n).join("\n"):t.slice(n,r).join("\n")}latexmkSkipped(e){return!!e.split("\n")[0].match(g)&&(this.showCompilerDiagnostics(),!0)}parseLaTeX(e){const t=r.workspace.getConfiguration("latex-workshop");this.buildLogRaw=e;const n=e.split("\n");this.buildLog=[];let o=!1,s=!1,f=!1,p={type:"",file:"",text:"",line:void 0};const d=[this.extension.manager.rootFile];let g=0;for(const e of n){const n=i.resolve(this.extension.manager.rootDir,d[d.length-1]);if(s){s=!1;continue}if(o){if(""===e.trim()||f&&e.match(/^\s/))p.text=p.text+"\n",o=!1,f=!1;else if(f){const t=e.replace(b,"$1");p.text=p.text+"\n"+t}else p.text=p.text+"\n"+e;continue}let r=e.match(c);r||(r=e.match(u)),r&&t.get("message.badbox.show")?(""!==p.type&&this.buildLog.push(p),p={type:"typesetting",file:n,line:parseInt(r[2],10),text:r[1]},o=!1,s=!0):(r=e.match(l))?(""!==p.type&&this.buildLog.push(p),p={type:"warning",file:n,line:parseInt(r[4],10),text:r[3]},o=!0):(r=e.match(a))?(""!==p.type&&this.buildLog.push(p),p={type:"error",text:r[3]&&"LaTeX"!==r[3]?`${r[3]}: ${r[4]}`:r[4],file:r[1]?i.resolve(this.extension.manager.rootDir,r[1]):n,line:r[2]?parseInt(r[2],10):void 0},o=!0,f=!0):(g=this.parseLaTeXFileStack(e,d,g),0===d.length&&d.push(this.extension.manager.rootFile))}""===p.type||p.text.match(h)||this.buildLog.push(p),this.extension.logger.addLogMessage(`LaTeX log parsed with ${this.buildLog.length} messages.`),this.showCompilerDiagnostics()}parseLaTeXFileStack(e,t,n){const r=e.match(/(\(|\))/);if(r&&void 0!==r.index&&r.index>-1){if(e=e.substr(r.index+1),"("===r[1]){const r=e.match(/^"?((?:(?:[a-zA-Z]:|\.|\/)?(?:\/|\\\\?))[\w\-. \/\\#]*)/),i=e.match(/^"?([\w\-\/. #]*\.[a-z]{3,})/);r?t.push(r[1].trim()):i?t.push(`./${i[1].trim()}`):n+=1}else n>0?n-=1:t.pop();n=this.parseLaTeXFileStack(e,t,n)}return n}parseLinter(e,t){const n=/^(.*?):(\d+):(\d+):(\d+):(.*?):(\d+):(.*?)$/gm,o=[];let s=n.exec(e);for(;s;){const r=t||s[1];o.push({file:i.isAbsolute(r)?r:i.resolve(this.extension.manager.rootDir,r),line:parseInt(s[2]),position:parseInt(s[3]),length:parseInt(s[4]),type:s[5].toLowerCase(),code:parseInt(s[6]),text:`${s[6]}: ${s[7]}`}),s=n.exec(e)}this.extension.logger.addLogMessage(`Linter log parsed with ${o.length} messages.`),void 0===t?this.linterDiagnostics.clear():0===o.length&&this.linterDiagnostics.set(r.Uri.file(t),[]),this.showLinterDiagnostics(o)}showCompilerDiagnostics(){this.compilerDiagnostics.clear();const e={};for(const t of this.buildLog){const n=new r.Range(new r.Position(t.line-1,0),new r.Position(t.line-1,65535)),i=new r.Diagnostic(n,t.text,w[t.type]);i.source="LaTeX",void 0===e[t.file]&&(e[t.file]=[]),e[t.file].push(i)}for(const t in e)this.compilerDiagnostics.set(r.Uri.file(t),e[t])}showLinterDiagnostics(e){const t={};for(const n of e){const e=new r.Range(new r.Position(n.line-1,n.position-1),new r.Position(n.line-1,n.position-1+n.length)),i=new r.Diagnostic(e,n.text,w[n.type]);i.code=n.code,i.source="ChkTeX",void 0===t[n.file]&&(t[n.file]=[]),t[n.file].push(i)}for(const e in t)[".tex",".bbx",".cbx",".dtx"].indexOf(i.extname(e))>-1&&this.linterDiagnostics.set(r.Uri.file(e),t[e])}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(0),s=n(2),a=n(14),c=n(18);t.Linter=class{constructor(e){this.currentProcesses={},this.extension=e}get rcPath(){let e;const t=this.extension.manager.documentRoot();if(t&&(e=o.join(o.dirname(t),".chktexrc")),s.existsSync(e))return e;const n=i.workspace.workspaceFolders;return n&&n.length>0&&(e=o.join(n[0].uri.fsPath,".chktexrc")),s.existsSync(e)?e:void 0}lintRootFileIfEnabled(){i.workspace.getConfiguration("latex-workshop").get("chktex.enabled")&&this.lintRootFile()}lintActiveFileIfEnabled(){i.workspace.getConfiguration("latex-workshop").get("chktex.enabled")&&this.lintActiveFile()}lintActiveFileIfEnabledAfterInterval(){const e=i.workspace.getConfiguration("latex-workshop");if(e.get("chktex.enabled")){const t=e.get("chktex.interval");this.linterTimeout&&clearTimeout(this.linterTimeout),this.linterTimeout=setTimeout(()=>this.lintActiveFile(),t)}}lintActiveFile(){return r(this,void 0,void 0,function*(){if(!i.window.activeTextEditor||!i.window.activeTextEditor.document.getText())return;this.extension.logger.addLogMessage("Linter for active file started.");const e=i.window.activeTextEditor.document.fileName,t=i.window.activeTextEditor.document.getText(),n=i.workspace.getConfiguration("latex-workshop"),r=n.get("chktex.path"),s=[...n.get("chktex.args.active")];if(s.indexOf("-l")<0){const e=this.rcPath;e&&s.push("-l",e)}const a=["-I0","-f%f:%l:%c:%d:%k:%n:%m\n"];let c;try{c=yield this.processWrapper("active file",r,s.concat(a).filter(e=>""!==e),{cwd:o.dirname(e)},t)}catch(e){if(!("stdout"in e))return;c=e.stdout}this.extension.parser.parseLinter(c,e)})}lintRootFile(){return r(this,void 0,void 0,function*(){this.extension.logger.addLogMessage("Linter for root file started.");const e=this.extension.manager.rootFile,t=i.workspace.getConfiguration("latex-workshop"),n=t.get("chktex.path"),r=[...t.get("chktex.args.active")];if(r.indexOf("-l")<0){const e=this.rcPath;e&&r.push("-l",e)}const s=["-f%f:%l:%c:%d:%k:%n:%m\n","%DOC%".replace("%DOC%",e)];let a;try{a=yield this.processWrapper("root file",n,r.concat(s).filter(e=>""!==e),{cwd:o.dirname(this.extension.manager.rootFile)})}catch(e){if(!("stdout"in e))return;a=e.stdout}this.extension.parser.parseLinter(a)})}processWrapper(e,t,n,r,i){return this.extension.logger.addLogMessage(`Linter for ${e} running command ${t} with arguments ${n}`),new Promise((o,s)=>{this.currentProcesses[e]&&this.currentProcesses[e].kill();const u=process.hrtime();this.currentProcesses[e]=a.spawn(t,n,r);const l=this.currentProcesses[e];l.stdout.setEncoding("utf8"),l.stderr.setEncoding("utf8");let h="";l.stdout.on("data",e=>{h+=e});let f="";l.stderr.on("data",e=>{f+=e}),l.on("error",t=>(this.extension.logger.addLogMessage(`Linter for ${e} failed to spawn command, encountering error: ${t.message}`),s(t))),l.on("exit",t=>{if(0!==t)return this.extension.logger.addLogMessage(`Linter for ${e} failed with exit code ${t} and error:\n  ${f}`),s({exitCode:t,stdout:h,stderr:f});{const[t,n]=process.hrtime(u);return this.extension.logger.addLogMessage(`Linter for ${e} successfully finished in ${t}s ${Math.round(n/1e6)}ms`),o(h)}}),void 0!==i&&(l.stdin.write(i),i.endsWith(c.EOL)||l.stdin.write(c.EOL),l.stdin.end())})}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(0),s=n(15),a=n(47);t.Cleaner=class{constructor(e){this.extension=e}clean(){return r(this,void 0,void 0,function*(){void 0!==this.extension.manager.rootFile&&(yield this.extension.manager.findRoot());let e=i.workspace.getConfiguration("latex-workshop").get("latex.clean.fileTypes"),t=this.extension.manager.getOutputDir(this.extension.manager.rootFile);return t.endsWith("/")||t.endsWith("\\")||(t+=o.sep),"./"!==t&&(e=e.concat(e.map(e=>t+e),e.map(e=>t+"**/"+e))),Promise.all(e.map(e=>this.globP(e,{cwd:this.extension.manager.rootDir}))).then(e=>e.reduce((e,t)=>e.concat(t),[]).map(e=>o.resolve(this.extension.manager.rootDir,e))).then(e=>Promise.all(e.map(e=>s.unlink(e).then(()=>{this.extension.logger.addLogMessage(`File cleaned: ${e}`)},()=>s.rmdir(e).then(()=>{this.extension.logger.addLogMessage(`Folder removed: ${e}`)},()=>{this.extension.logger.addLogMessage(`Error removing file: ${e}`)}))))).then(()=>{}).catch(e=>{this.extension.logger.addLogMessage(`Error during deletion of files: ${e}`)})})}globP(e,t){return new Promise((n,r)=>{a(e,t,(e,t)=>{e?r(e):n(t)})})}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(2),s=n(0),a=n(14);t.Counter=class{constructor(e){this.extension=e}count(e,t=!0){return r(this,void 0,void 0,function*(){void 0!==this.extension.manager.rootFile&&(yield this.extension.manager.findRoot());const n=i.workspace.getConfiguration("latex-workshop"),r=n.get("texcount.args");t&&r.push("-merge");let c=n.get("texcount.path");n.get("docker.enabled")&&("win32"===process.platform?c=s.join(this.extension.extensionRoot,"scripts/texcount.bat"):(c=s.join(this.extension.extensionRoot,"scripts/texcount"),o.chmodSync(c,493)));const u=a.spawn(c,r.concat([s.basename(e)]),{cwd:s.dirname(e)});u.stdout.setEncoding("utf8"),u.stderr.setEncoding("utf8");let l="";u.stdout.on("data",e=>{l+=e});let h="";u.stderr.on("data",e=>{h+=e}),u.on("error",e=>{this.extension.logger.addLogMessage(`Cannot count words: ${e.message}, ${h}`),this.extension.logger.showErrorMessage("TeXCount failed. Please refer to LaTeX Workshop Output for details.")}),u.on("exit",e=>{if(0!==e)this.extension.logger.addLogMessage(`Cannot count words, code: ${e}, ${h}`),this.extension.logger.showErrorMessage("TeXCount failed. Please refer to LaTeX Workshop Output for details.");else{const e=/Words in text: ([0-9]*)/g.exec(l),n=/Number of floats\/tables\/figures: ([0-9]*)/g.exec(l);if(e){let r="";n&&parseInt(n[1])>0&&(r=`and ${n[1]} float${parseInt(n[1])>1?"s":""} (tables, figures, etc.) `),i.window.showInformationMessage(`There are ${e[1]} words ${r}in the ${t?"LaTeX project":"opened LaTeX file"}.`)}this.extension.logger.addLogMessage(`TeXCount log:\n${l}`)}})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(18);t.TeXMagician=class{constructor(e){this.extension=e}getFileName(e){const t=e.replace(/\\/g,"/").match(/([^\/]+$)/);return t?t[0]:""}getRelativePath(e,t){e=e.replace(/\\/g,"/");let n=t.replace(/\\/g,"/").replace(/[^\/]+$/gi,""),r=0;for(;e.charAt(r)===n.charAt(r);)r++;return e=e.substring(r),("./"+(n=(n=n.substring(r)).replace(/[^/]+/g,".."))+e).replace(/^\.\/\.\./,"..")}addTexRoot(){r.workspace.findFiles("**/*.{tex}").then(e=>{const t=e.map(e=>({description:e.fsPath,label:this.getFileName(e.fsPath),filePath:e.fsPath}));r.window.showQuickPick(t).then(e=>{const t=r.window.activeTextEditor;if(!e||!t)return;const n=`% !TeX root = ${this.getRelativePath(e.filePath,t.document.fileName)}`,o=t.document.lineAt(0).text,s=[o.match(/^\s*%\s*!TeX root/gim)?r.TextEdit.replace(new r.Range(0,0,0,o.length),n):r.TextEdit.insert(new r.Position(0,0),n+i.EOL)],a=t.document.uri,c=new r.WorkspaceEdit;c.set(a,s),r.workspace.applyEdit(c)})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(15),o=n(279),s=n(280),a=n(281),c=n(282),u=n(283),l=n(284);t.Completer=class{constructor(e){let t,n,r,h;this.extension=e,this.citation=new o.Citation(e),this.command=new s.Command(e),this.environment=new a.Environment(e),this.reference=new c.Reference(e),this.package=new u.Package(e),this.input=new l.Input(e),i.readFile(`${this.extension.extensionRoot}/data/environments.json`).then(e=>{t=e.toString()}).then(()=>i.readFile(`${this.extension.extensionRoot}/data/commands.json`)).then(e=>{n=e.toString()}).then(()=>i.readFile(`${this.extension.extensionRoot}/data/unimathsymbols.json`)).then(e=>{r=e.toString()}).then(()=>i.readFile(`${this.extension.extensionRoot}/data/packagenames.json`)).then(e=>{h=e.toString()}).then(()=>{const e=JSON.parse(t);this.command.initialize(JSON.parse(n),JSON.parse(r),e),this.environment.initialize(e),this.package.initialize(JSON.parse(h)),this.extension.logger.addLogMessage("Default data loaded.")}).catch(e=>this.extension.logger.addLogMessage(`Error reading data: ${e}.`))}provideCompletionItems(e,t,n){return new Promise((n,i)=>{const o=e.lineAt(t.line).text[t.character-1],s=e.lineAt(t.line).text;if(t.character>1&&"\\"===s[t.character-1]&&"\\"===s[t.character-2])return void n();if(this.command.specialBrackets&&this.command.specialBrackets.hasOwnProperty(o)&&t.character>1&&"\\"===s[t.character-2]){const i=Object.assign({},this.command.specialBrackets[o]);return r.workspace.getConfiguration("editor",e.uri).get("autoClosingBrackets")&&s.length>t.character&&[")","]","}"].indexOf(s[t.character])>-1?i.range=new r.Range(t.translate(0,-1),t.translate(0,1)):i.range=new r.Range(t.translate(0,-1),t),void n([i])}const a=e.lineAt(t.line).text.substr(0,t.character);for(const e of["citation","reference","environment","package","input","command"]){const t=this.completion(e,a);if(t.length>0){if("citation"===e){if("browser"===r.workspace.getConfiguration("latex-workshop").get("intellisense.citation.type"))return n(),void setTimeout(()=>this.citation.browser(),10)}else if("command"===e&&r.workspace.getConfiguration("latex-workshop").get("intellisense.surroundCommand.enabled")&&this.command.selection.length>0)return n(),void setTimeout(()=>{this.command.surround(this.command.selection),this.command.selection="",this.command.shouldClearSelection=!0},10);return void n(t)}}n()})}completion(e,t){let n,i,o;switch(e){case"citation":n=/(?:\\[a-zA-Z]*cite[a-zA-Z]*(?:\[[^\[\]]*\])*){([^}]*)$/,i=this.citation;break;case"reference":n=/(?:\\hyperref\[([^\]]*)(?!\])$)|(?:(?:\\(?!hyper)[a-zA-Z]*ref[a-zA-Z]*(?:\[[^\[\]]*\])?){([^}]*)$)/,i=this.reference;break;case"environment":n=/(?:\\begin(?:\[[^\[\]]*\])?){([^}]*)$/,i=this.environment;break;case"command":n=/\\([a-zA-Z]*)$/,i=this.command;break;case"package":n=/(?:\\usepackage(?:\[[^\[\]]*\])*){([^}]*)$/,i=this.package;break;case"input":n=/(?:\\(input|include|subfile|includegraphics)(?:\[[^\[\]]*\])*){([^}]*)$/,i=this.input;break;default:return this.extension.logger.addLogMessage(`Error - trying to complete unknown type ${e}`),[]}const s=t.match(n);let a=[];if(s){if("input"===e){const e=r.window.activeTextEditor;e&&(o=[s[1],e.document.fileName,s[2]])}a=i.provide(o)}return a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(2),o=["article","book","bookinbook","booklet","collection","conference","inbook","incollection","inproceedings","inreference","manual","mastersthesis","misc","mvbook","mvcollection","mvproceedings","mvreference","online","patent","periodical","phdthesis","proceedings","reference","report","set","suppbook","suppcollection","suppperiodical","techreport","thesis","unpublished"];t.Citation=class{constructor(e){this.citationInBib={},this.citationData={},this.extension=e}provide(){if(Date.now()-this.refreshTimer<1e3)return this.suggestions;this.refreshTimer=Date.now();const e=[];Object.keys(this.citationInBib).forEach(t=>{this.citationInBib[t].forEach(t=>e.push(t))});const t=r.workspace.getConfiguration("latex-workshop");return this.suggestions=e.map(e=>{const n=new r.CompletionItem(e.key,r.CompletionItemKind.Reference);switch(n.detail=e.title,t.get("intellisense.citation.label")){case"bibtex key":default:n.label=e.key;break;case"title":e.title?(n.label=e.title,n.detail=void 0):n.label=e.key;break;case"authors":e.author?(n.label=e.author,n.detail=void 0):n.label=e.key}return n.filterText=`${e.key} ${e.author} ${e.title} ${e.journal}`,n.insertText=e.key,n.documentation=Object.keys(e).filter(e=>"key"!==e).map(t=>`${t}: ${e[t]}`).join("\n"),n}),this.suggestions}browser(){this.provide();const e=[];Object.keys(this.citationInBib).forEach(t=>{this.citationInBib[t].forEach(t=>e.push(t))});const t=e.map(e=>({label:e.title?e.title:"",description:`${e.key}`,detail:`Authors: ${e.author?e.author:"Unknown"}, publication: ${e.journal?e.journal:e.publisher?e.publisher:"Unknown"}`}));r.window.showQuickPick(t,{placeHolder:"Press ENTER to insert citation key at cursor",matchOnDetail:!0,matchOnDescription:!0}).then(e=>{if(e&&r.window.activeTextEditor){const t=r.window.activeTextEditor,n=t.document.getText(new r.Range(new r.Position(0,0),t.selection.start));let i=t.selection.start;if(n.lastIndexOf("\\cite")>n.lastIndexOf("}")){const e=n.lastIndexOf("{")+1,r=n.lastIndexOf(",")+1;i=t.document.positionAt(e>r?e:r)}t.edit(n=>n.replace(new r.Range(i,t.selection.start),e.description||""))}})}parseBibFile(e){this.extension.logger.addLogMessage(`Parsing .bib entries from ${e}`);const t=[],n=r.workspace.getConfiguration("latex-workshop");if(i.statSync(e).size>=1024*n.get("intellisense.citation.maxfilesizeMB")*1024)return this.extension.logger.addLogMessage(`${e} is too large, ignoring it.`),void(this.citationInBib[e]=t);const s=i.readFileSync(e,"utf-8"),a=s.replace(/[\r\n]/g," "),c=/@(\w+)\s*{/g;let u=c.exec(a),l=null,h=0,f=0;for(;u||l;){if(l&&o.indexOf(l[1].toLowerCase())>-1){const n=a.substring(l.index,u?u.index:void 0).trim(),i=this.parseBibString(n);void 0!==i?(t.push(i),h+=s.substring(f,l.index).split("\n").length,f=l.index,this.citationData[i.key]={item:i,text:Object.keys(i).filter(e=>"key"!==e).sort((e,t)=>"title"===e.toLowerCase()?-1:"title"===t.toLowerCase()?1:"author"===e.toLowerCase()?-1:"author"===t.toLowerCase()?1:0).map(e=>`${e}: ${i[e]}`).join("\n\n"),position:new r.Position(h-1,0),file:e}):this.extension.logger.addLogMessage(`Warning - following .bib entry in ${e} has no cite key:\n${n}`)}l=u,u&&(u=c.exec(a))}this.extension.logger.addLogMessage(`Parsed ${t.length} .bib entries from ${e}.`),this.citationInBib[e]=t}forgetParsedBibItems(e){this.extension.logger.addLogMessage(`Forgetting parsed bib entries for ${e}`),delete this.citationInBib[e]}parseBibString(e){const t=/((@)[a-zA-Z]+)\s*(\{)\s*([^\s,]*)/g;let n=t.exec(e);if(!n)return;e=e.substr(t.lastIndex);const r={key:n[4]},i=/([a-zA-Z0-9\!\$\&\*\+\-\.\/\:\;\<\>\?\[\]\^\_\`\|]+)\s*(\=)/g;for(n=i.exec(e);n;){const t=n[1];e=e.substr(i.lastIndex),i.lastIndex=0;const o=/,/g.exec(e),s=/\"/g.exec(e),a=/{/g.exec(e);let c="";if(o&&(!s||s&&o.index<s.index)&&(!a||a&&o.index<a.index))c=e.substring(0,o.index).trim(),e=e.substr(o.index);else if(a&&(!s||s.index>a.index)){let t=0;for(let n=a.index;n<e.length;++n){const r=e[n];if("{"===r&&"\\"!==e[n-1]?t++:"}"===r&&"\\"!==e[n-1]&&t--,0===t){c=e.substring(a.index+1,n).replace(/(\\.)|({)/g,"$1").replace(/(\\.)|(})/g,"$1"),e=e.substr(n);break}}}else if(s)for(let t=s.index+1;t<e.length;++t)if('"'===e[t]){c=e.substring(s.index+1,t).replace(/(\\.)|({)/g,"$1").replace(/(\\.)|(})/g,"$1"),e=e.substr(t);break}r[t.toLowerCase()]=c,n=i.exec(e)}return r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(2);t.Command=class{constructor(e){this.selection="",this.shouldClearSelection=!0,this.commandInTeX={},this.defaultCommands={},this.newcommandData={},this.extension=e}initialize(e,t,n){Object.keys(e).forEach(n=>{n in t||(t[n]=e[n])});const i={};Object.keys(n).forEach(e=>{const t=n[e].text;i[e]={command:t,snippet:`begin{${t}}\n\t$0\n\\\\end{${t}}`},["enumerate","itemize"].indexOf(t)>-1&&(i[e].snippet=`begin{${t}}\n\t\\item $0\n\\\\end{${t}}`)}),Object.keys(t).forEach(e=>{const n=t[e];this.defaultCommands[e]=this.entryToCompletionItem(n)}),Object.keys(i).forEach(e=>{const t=i[e],n=new r.CompletionItem(`\\begin{${t.command}} ... \\end{${t.command}}`,r.CompletionItemKind.Snippet);n.filterText=t.command,n.insertText=new r.SnippetString(t.snippet),this.defaultCommands[e]=n});const o={latexinlinemath:"(",latexdisplaymath:"[",curlybrackets:"{",lrparen:"left(",lrbrack:"left[",lrcurly:"left\\{"};this.specialBrackets=Object.keys(this.defaultCommands).filter(e=>o.hasOwnProperty(e)).reduce((e,t)=>(e[o[t]]=this.defaultCommands[t],e),{})}provide(){if(Date.now()-this.refreshTimer<1e3)return this.suggestions;this.refreshTimer=Date.now();const e=Object.assign({},this.defaultCommands);if(Object.keys(this.extension.manager.texFileTree).forEach(t=>{t in this.commandInTeX&&Object.keys(this.commandInTeX[t]).forEach(n=>{n in e||(e[n]=this.entryToCompletionItem(this.commandInTeX[t][n]))})}),r.window.activeTextEditor){const t=this.getCommandItems(r.window.activeTextEditor.document.getText(),r.window.activeTextEditor.document.fileName);Object.keys(t).forEach(n=>{n in e||(e[n]=this.entryToCompletionItem(t[n]))})}return this.suggestions=Object.keys(e).map(t=>e[t]),this.suggestions}surround(e){if(!r.window.activeTextEditor)return;const t=r.window.activeTextEditor,n=[];this.provide().forEach(e=>{if(void 0===e.insertText)return;if("\\begin"===e.label)return;const t="string"!=typeof e.insertText?e.insertText.value:e.insertText;t.match(/(.*)(\${\d.*?})/)&&n.push(t.replace(/\n/g,"").replace(/\t/g,"").replace("\\\\","\\"))}),r.window.showQuickPick(n,{placeHolder:"Press ENTER to surround previous selection with selected command",matchOnDetail:!0,matchOnDescription:!0}).then(n=>{void 0!==n&&t.edit(i=>{let o=n,s=e;for(const a of t.selections)e||(s=t.document.getText(a),o="\\"+n),i.replace(new r.Range(a.start,a.end),o.replace(/(.*)(\${\d.*?})/,`$1${s}`).replace(/\${\d:?(.*?)}/g,"$1").replace("\\\\","\\").replace(/\$\d/,""))})})}entryToCompletionItem(e){const t=" "===e.command[0]?"":"\\",n=new r.CompletionItem(`${t}${e.command}`,r.CompletionItemKind.Function);return e.snippet?n.insertText=new r.SnippetString(e.snippet):n.insertText=e.command,n.documentation=e.documentation,n.detail=e.detail,n.sortText=e.sortText,e.postAction&&(n.command={title:"Post-Action",command:e.postAction}),n}getCommandsTeX(e){this.commandInTeX[e]=this.getCommandItems(i.readFileSync(e,"utf-8"),e)}getCommandItems(e,t){const n=/\\([a-zA-Z]+)({[^{}]*})?({[^{}]*})?({[^{}]*})?/g,i={};for(;;){const t=n.exec(e);if(null===t)break;i[t[1]]={command:t[1]},t[2]&&(i[t[1]].snippet=`${t[1]}{\${1}}`,t[1].match(/([a-zA-Z]*(cite|ref)[a-zA-Z]*)|(begin)/)&&(i[t[1]].postAction="editor.action.triggerSuggest")),t[3]&&(i[t[1]].snippet+="{${2}}"),t[4]&&(i[t[1]].snippet+="{${3}}")}const o=/\\(?:re|provide)?(?:new)?command(?:{)?\\(\w+)/g;for(;;){const n=o.exec(e);if(null===n)break;n[1]in this.newcommandData||(this.newcommandData[n[1]]={position:new r.Position(e.substr(0,n.index).split("\n").length-1,0),file:t})}return i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.Environment=class{constructor(e){this.suggestions=[],this.extension=e}initialize(e){Object.keys(e).forEach(t=>{const n=e[t],i=new r.CompletionItem(n.text,r.CompletionItemKind.Module);this.suggestions.push(i)})}provide(){return this.suggestions}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(2);t.Reference=class{constructor(e){this.referenceData={},this.extension=e}provide(){if(Date.now()-this.refreshTimer<1e3)return this.suggestions;this.refreshTimer=Date.now();const e={};if(Object.keys(this.referenceData).forEach(t=>{e[t]=this.referenceData[t].item}),r.window.activeTextEditor){const t=this.getReferenceItems(r.window.activeTextEditor.document.getText());Object.keys(t).map(n=>{n in e||(e[n]=t[n])})}return this.suggestions=[],Object.keys(e).map(t=>{const n=e[t],i=new r.CompletionItem(n.reference,r.CompletionItemKind.Reference);i.documentation=n.text,this.suggestions.push(i)}),this.suggestions}getReferencesTeX(e){const t=this.getReferenceItems(i.readFileSync(e,"utf-8"));Object.keys(this.referenceData).forEach(t=>{this.referenceData[t].file===e&&delete this.referenceData[t]}),Object.keys(t).forEach(n=>{this.referenceData[n]={item:t[n],text:t[n].text,file:e}})}getReferenceItems(e){const t=/^(?:(?!%).*\\label(?:\[[^\[\]\{\}]*\])?|label=){([^}]*)}/gm,n={},i=e.split("\n").filter(e=>""!==e).join("\n");for(;;){const o=t.exec(e);if(null===o)break;if(!(o[1]in n)){const t=i.substring(0,i.substring(0,o.index).lastIndexOf("\n")-1),s=i.substring(o.index,i.length).split("\n",4).join("\n").length,a=e.substring(0,o.index).split("\n");n[o[1]]={reference:o[1],text:`${i.substring(t.lastIndexOf("\n")+1,o.index+s)}\n...`,position:new r.Position(a.length-1,a[a.length-1].length)}}}return n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.Package=class{constructor(e){this.suggestions=[],this.extension=e}initialize(e){Object.keys(e).forEach(t=>{const n=e[t],i=new r.CompletionItem(n.command,r.CompletionItemKind.Module);i.detail=n.detail,i.documentation=n.documentation,this.suggestions.push(i)})}provide(){return this.suggestions}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(15),o=n(0),s=n(42),a=n(14),c=["**/.vscode","**/.vscodeignore","**/.gitignore"];t.Input=class{constructor(e){this.extension=e}provide(e){const t=e[0],n=e[1],u=e[2],l=[];let h;h="include"===t?o.dirname(n):o.dirname(this.extension.manager.rootFile),""!==u&&(h=o.join(h,u));try{const e=i.readdirSync(h),t=Object.keys(r.workspace.getConfiguration("files",null).get("exclude")||{}).concat(c);let n=[];if(r.workspace.getConfiguration("search",null).get("useIgnoreFiles"))try{n=a.execSync("git check-ignore "+e.join(" "),{cwd:h}).toString().split("\n")}catch(e){}e.forEach(e=>{const a=o.join(h,e);if(!(n.indexOf(e)>-1||s.any(a,t,{basename:!0})))if(i.lstatSync(a).isDirectory()){const t=new r.CompletionItem(`${e}/`,r.CompletionItemKind.Folder);t.command={title:"Post-Action",command:"editor.action.triggerSuggest"},l.push(t)}else l.push(new r.CompletionItem(e,r.CompletionItemKind.File))})}catch(e){}return l}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i={1:"Terminate command with empty statement",2:"Convert to non-breaking space (~)",4:"Remove italic correction \\/ (not in italic buffer)",5:"Remove extraneous italic correction(s)",6:"Add italic correction (\\/)",11:"Fix ellipsis",12:"Add interword space (\\ )",13:"Add intersentence space (\\@)",18:"Replace with ` or '",32:"Replace with `",33:"Replace with '",24:"Remove extraneous space",28:"Remove incorrect \\/",26:"Remove extraneous space",34:"Replace with ` or '",35:"Use suggested alternative",39:"Remove extraneous space",42:"Remove extraneous space",45:"Use \\[ ... \\] instead of $$ ... $$",46:"Use \\( ... \\) instead of $ ... $"};function o(e,t,n){const i=new r.Range(new r.Position(t.line,0),t),o=e.getText(i),s=/\s*$/.exec(o);if(!s)return r.workspace.applyEdit(new r.WorkspaceEdit);const a=s[0].length,c=new r.Range(new r.Position(t.line,t.character-a),t),u=new r.WorkspaceEdit;return u.replace(e.uri,c,n),r.workspace.applyEdit(u)}function s(e,t,n){const i=new r.WorkspaceEdit;return i.replace(e.uri,t,n),r.workspace.applyEdit(i)}function a(e,t,n){return s(e,t,n.repeat(t.end.character-t.start.character))}function c(e,t){return 0===t.start.character||" "===function(e,t){return e.getText(t.with(t.start.translate(0,-1)))[0]}(e,t)}function u(e,t,n,i,o){const s=n.length,a=t.with(t.end.translate(0,-s),t.end),c=e.getText(a);if(!new RegExp("^"+n.replace(/\$/g,"\\$")+"$").exec(c))return;const u=new r.WorkspaceEdit;u.replace(e.uri,a,o);const l=t.with(t.start,t.start.translate(0,s));return u.replace(e.uri,l,i),r.workspace.applyEdit(u)}t.CodeActions=class{constructor(e){this.extension=e}provideCodeActions(e,t,n,r){const o=[];return n.diagnostics.filter(e=>"ChkTeX"===e.source).forEach(t=>{let n=t.code;if(!n)return;"string"==typeof n&&(n=parseInt(n));const r=i[n];void 0!==r&&o.push({title:r,command:"latex-workshop.code-action",arguments:[e,t.range,t.code,t.message]})}),o}runCodeAction(e,t,n,r){let i,l;switch(n){case 24:case 26:case 39:case 42:o(e,t.end,"");break;case 4:case 5:case 28:s(e,t,"");break;case 1:o(e,t.end.translate(0,-1),"{}");break;case 2:o(e,t.end,"~");break;case 6:o(e,t.end.translate(0,-1),"\\/");break;case 11:if(!(l=/\\[cl]?dots/.exec(r)))break;s(e,t,i=l[0]+" ");break;case 12:s(e,t,"\\ ");break;case 13:o(e,t.end.translate(0,-1),"\\@");break;case 18:c(e,t)?a(e,t,"``"):a(e,t,"''");break;case 32:a(e,t,"`");break;case 33:a(e,t,"'");break;case 34:c(e,t)?a(e,t,"`"):a(e,t,"'");break;case 35:if(!(l=/`(.+)'/.exec(r)))break;s(e,t,i=l[1]);break;case 45:u(e,t,"$$","\\[","\\]");break;case 46:u(e,t,"$","\\(","\\)")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(15),o=n(0),s=n(287),a=n(107),c=n(108);t.HoverProvider=class{constructor(e){this.jaxInitialized=!1,this.extension=e,Promise.resolve().then(()=>n(288)).then(e=>{this.mj=e,e.config({MathJax:{jax:["input/TeX","output/SVG"],extensions:["tex2jax.js","MathZoom.js"],showMathMenu:!1,showProcessingMessages:!1,messageStyle:"none",SVG:{useGlobalCache:!1},TeX:{extensions:["AMSmath.js","AMSsymbols.js","autoload-all.js","color.js","noUndefined.js"]}}}),e.start(),this.jaxInitialized=!0})}provideHover(e,t,n){return this.getColor(),new Promise((n,i)=>{const o=r.workspace.getConfiguration("latex-workshop");if(o.get("hoverPreview.enabled")){const i=this.findHoverOnTex(e,t);if(i){const e=o.get("hoverPreview.scale"),[t,s]=i;return void this.mj.typeset({math:this.colorTeX(t),format:"TeX",svg:!0}).then(t=>this.scaleSVG(t.svg,e)).then(e=>this.svgToDataUrl(e)).then(e=>n(new r.Hover(new r.MarkdownString(`![equation](${e})`),s)))}}const s=c.tokenizer(e,t);if(void 0!==s)if(s in this.extension.completer.reference.referenceData){const e=this.extension.completer.reference.referenceData[s],t=e.item.position.line,i=new r.MarkdownString(`[View on pdf](command:latex-workshop.synctexto?${t})`);i.isTrusted=!0;const o="```latex\n"+e.text+"\n```\n";n(new r.Hover([o,i]))}else s in this.extension.completer.citation.citationData?n(new r.Hover(this.extension.completer.citation.citationData[s].text)):n();else n()})}scaleSVG(e,t){const n=e.match(/( width=")([\.\d]+)(\w*" )/),r=e.match(/( height=")([\.\d]+)(\w*" )/);return n&&r?e=(e=e.replace(/( width=")([\.\d]+)(\w*" )/,`${n[1]}${parseFloat(n[2])*t}${n[3]}`)).replace(/( height=")([\.\d]+)(\w*" )/,`${r[1]}${parseFloat(r[2])*t}${r[3]}`):e}svgToDataUrl(e){return"data:image/svg+xml;base64,"+Buffer.from(unescape(encodeURIComponent(e))).toString("base64")}hexToRgb(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16)/255,g:parseInt(t[2],16)/255,b:parseInt(t[3],16)/255}:null}colorTeX(e){const t="\\color[rgb]{"+this.color+"}";return(e=(e=e.replace(/^(\$|\\\(|\\\[|\\begin{.*?}({.*?})*)/,"$1"+t)).replace(/(\\begin{CD}[\s\S]*?\\end{CD}|((?:\\[^\\]|[^&\\])*&+|\\\\))/g,"$1"+t)).startsWith("$")&&e.endsWith("$")&&(e=e.slice(1,e.length-1)),e.startsWith("\\(")&&e.endsWith("\\)")&&(e=e.slice(2,e.length-2)),e.startsWith("\\[")&&e.endsWith("\\]")&&(e=e.slice(2,e.length-2)),e}getColor(){const e=r.workspace.getConfiguration("workbench").get("colorTheme");for(const t of r.extensions.all){if(void 0===t.packageJSON.contributes.themes)continue;const n=t.packageJSON.contributes.themes.filter(t=>t.label===e||t.id===e);if(0===n.length)continue;const r=o.join(t.extensionPath,n[0].path);let a=JSON.parse(s(i.readFileSync(r,"utf8")));for(;a.include;){const e=JSON.parse(s(i.readFileSync(o.join(o.dirname(r),a.include),"utf8")));a.include=void 0,a=Object.assign({},a,e)}const c=this.hexToRgb(a.colors["editor.background"]);if(c){const e=.2126*(c.r<=.03928?c.r/12.92:Math.pow((c.r+.055)/1.055,2.4))+.7152*(c.r<=.03928?c.g/12.92:Math.pow((c.g+.055)/1.055,2.4))+.0722*(c.r<=.03928?c.b/12.92:Math.pow((c.b+.055)/1.055,2.4));return void(this.color=e>.179?"0, 0, 0":"1, 1, 1")}if(a.type&&"dark"===a.type)return void(this.color="1, 1, 1")}this.color="0, 0, 0"}isCursorInTeXCommand(e){const t=r.window.activeTextEditor;if(!t)return!1;const n=t.selection.active,i=e.getWordRangeAtPosition(n,/\\(?:begin|end|label)\{.*?\}|\\[a-zA-Z]+\{?|\\[\(\)\[\]]|\\\\/);return!!(i&&i.start.isBefore(n)&&i.end.isAfter(n))}renderCursor(e,t){const n=r.window.activeTextEditor,i=r.workspace.getConfiguration("latex-workshop"),o=i.get("hoverPreview.cursor.enabled");if(n&&o&&!this.isCursorInTeXCommand(e)){const o=n.selection.active,s=i.get("hoverPreview.cursor.symbol"),a=i.get("hoverPreview.cursor.color");let c=`{\\color{${this.color}}${s}}`;if("auto"!==a&&(c=`{\\color{${a}}${s}}`),t.contains(o)&&!t.start.isEqual(o)&&!t.end.isEqual(o))return e.getText(new r.Range(t.start,o))+c+e.getText(new r.Range(o,t.end))}return e.getText(t)}mathjaxify(e,t){let n=e.replace(/^\s*%.*\r?\n/gm,"");return n=(n=n.replace(/^((?:\\.|[^%])*).*$/gm,"$1")).replace(/\\label\{.*?\}/g,""),t.match(/^(aligned|alignedat|array|Bmatrix|bmatrix|cases|CD|gathered|matrix|pmatrix|smallmatrix|split|subarray|Vmatrix|vmatrix)$/)&&(n="\\begin{equation}"+n+"\\end{equation}"),n}findHoverOnTex(e,t){const n=/\\begin\{(align|align\*|alignat|alignat\*|aligned|alignedat|array|Bmatrix|bmatrix|cases|CD|eqnarray|eqnarray\*|equation|equation\*|gather|gather\*|gathered|matrix|multline|multline\*|pmatrix|smallmatrix|split|subarray|Vmatrix|vmatrix)\}/;let r=e.getWordRangeAtPosition(t,n);if(r){const t=this.getFirstRmemberedSubstring(e.getText(r),n);return this.findHoverOnEnv(e,t,r.start)}const i=/(\\\[|\\\()/;if(r=e.getWordRangeAtPosition(t,i)){const t=this.getFirstRmemberedSubstring(e.getText(r),i);return this.findHoverOnParen(e,t,r.start)}return this.findHoverOnInline(e,t)}getFirstRmemberedSubstring(e,t){const n=e.match(t);return n&&n[1]?n[1]:"never return here"}removeComment(e){return e.replace(/^((?:\\.|[^%])*).*$/,"$1")}findEndPair(e,t,n){const i=e.lineAt(n).text.substring(n.character);let o=this.removeComment(i).match(t);if(o&&void 0!==o.index)return new r.Position(n.line,n.character+o.index+o[0].length);let s=n.line+1;for(;s<=e.lineCount;){if((o=this.removeComment(e.lineAt(s).text).match(t))&&void 0!==o.index)return new r.Position(s,o.index+o[0].length);s+=1}}findHoverOnEnv(e,t,n){const i=new RegExp("\\\\end\\{"+a.escapeRegExp(t)+"\\}"),o=new r.Position(n.line,n.character+t.length+"\\begin{}".length),s=this.findEndPair(e,i,o);if(s){const i=new r.Range(n,s);return[this.mathjaxify(this.renderCursor(e,i),t),i]}}findHoverOnParen(e,t,n){const i="\\["===t?/\\\]/:/\\\)/,o=new r.Position(n.line,n.character+t.length),s=this.findEndPair(e,i,o);if(s){const i=new r.Range(n,s);return[this.mathjaxify(this.renderCursor(e,i),t),i]}}findHoverOnInline(e,t){const n=e.lineAt(t.line).text;let i=n,o=0,s=i.match(/\$(?:\\.|[^\\])+?\$|\\\(.+?\\\)/);for(;s&&s&&void 0!==s.index;){{const a=o+s.index,c=o+s.index+s[0].length;if(a<=t.character&&t.character<=c){const n=new r.Range(t.line,a,t.line,c);return[this.mathjaxify(this.renderCursor(e,n),"$"),n]}o=c,i=n.substring(o)}s=i.match(/\$(?:\\.|[^\\])+?\$|\\\(.+?\\\)/)}}}},function(e,t,n){"use strict";function r(){return""}function i(e,t,n){return e.slice(t,n).replace(/\S/g," ")}e.exports=function(e,t){for(var n,o,s=!1,a=!1,c=0,u="",l=!1===(t=t||{}).whitespace?r:i,h=0;h<e.length;h++){if(n=e[h],o=e[h+1],!a&&'"'===n)"\\"===e[h-1]&&"\\"!==e[h-2]||(s=!s);if(!s)if(a||n+o!=="//"){if(1===a&&n+o==="\r\n"){a=!1,u+=l(e,c,++h),c=h;continue}if(1===a&&"\n"===n)a=!1,u+=l(e,c,h),c=h;else{if(!a&&n+o==="/*"){u+=e.slice(c,h),c=h,a=2,h++;continue}if(2===a&&n+o==="*/"){a=!1,u+=l(e,c,++h+1),c=h+1;continue}}}else u+=e.slice(c,h),c=h,a=1,h++}return u+(a?l(e.substr(c)):e.substr(c))}},function(e,t){e.exports=require("mathjax-node")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.DocSymbolProvider=class{constructor(e){this.sections=[],this.extension=e,r.workspace.getConfiguration("latex-workshop").get("view.outline.sections").forEach(e=>{this.sections=this.sections.concat(e.split("|"))})}provideDocumentSymbols(e){return new Promise((t,n)=>{const r=[];this.sectionToSymbols(r,this.extension.structureProvider.buildModel(e.fileName,void 0,void 0,!1)),t(r)})}sectionToSymbols(e,t){t.forEach(t=>{const n=new r.Range(t.lineNumber,0,t.toLine,65535);e.push(new r.DocumentSymbol(t.label,"",r.SymbolKind.String,n,n)),t.children.length>0&&this.sectionToSymbols(e,t.children)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.ProjectSymbolProvider=class{constructor(e){this.extension=e}provideWorkspaceSymbols(e,t){return new Promise((e,t)=>{const n=[];this.sectionToSymbols(n,this.extension.structureProvider.buildModel(this.extension.manager.rootFile)),e(n)})}sectionToSymbols(e,t,n="Document"){t.forEach(t=>{const i=new r.Location(r.Uri.file(t.fileName),new r.Range(t.lineNumber,0,t.toLine,65535));e.push(new r.SymbolInformation(t.label,r.SymbolKind.String,n,i)),t.children.length>0&&this.sectionToSymbols(e,t.children,t.label)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(2),o=n(0),s=n(108);t.DefinitionProvider=class{constructor(e){this.extension=e}provideDefinition(e,t,n){return new Promise((n,a)=>{const c=s.tokenizer(e,t);if(void 0!==c)if(c in this.extension.completer.reference.referenceData){const e=this.extension.completer.reference.referenceData[c];n(new r.Location(r.Uri.file(e.file),e.item.position))}else if(c in this.extension.completer.citation.citationData){const e=this.extension.completer.citation.citationData[c];n(new r.Location(r.Uri.file(e.file),e.position))}else if(c in this.extension.completer.command.newcommandData){const e=this.extension.completer.command.newcommandData[c];n(new r.Location(r.Uri.file(e.file),e.position))}else{if(r.window.activeTextEditor&&c.indexOf(".")>-1){const e=o.join(o.dirname(r.window.activeTextEditor.document.fileName),c);if(i.existsSync(e))return void n(new r.Location(r.Uri.file(e),new r.Position(0,0)))}n()}else n()})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(14),o=n(0),s=n(2),a=n(18),c=e=>e.validateRange(new r.Range(0,0,Number.MAX_VALUE,Number.MAX_VALUE));class u{constructor(e,t,n){this.name=e,this.fileExt=t,this.checker=n}}t.OperatingSystem=u;const l=new u("win32",".exe","where"),h=new u("linux",".pl","which"),f=new u("darwin",".pl","which");class p{constructor(e){this.extension=e,this.machineOs=a.platform()}formatDocument(e,t){return new Promise((n,i)=>{this.machineOs===l.name?this.currentOs=l:this.machineOs===h.name?this.currentOs=h:this.machineOs===f.name&&(this.currentOs=f);const a=r.workspace.getConfiguration("latex-workshop");this.formatter=a.get("latexindent.path")||"latexindent",a.get("docker.enabled")&&("win32"===process.platform?this.formatter=o.join(this.extension.extensionRoot,"scripts/latexindent.bat"):(this.formatter=o.join(this.extension.extensionRoot,"scripts/latexindent"),s.chmodSync(this.formatter,493))),this.formatterArgs=a.get("latexindent.args")||["-c","%DIR%/","%TMPFILE%","-y=\"defaultIndent: '%INDENT%'\""];const c=a.inspect("latexindent.path");c&&c.defaultValue&&c.defaultValue!==this.formatter?this.format(e,t).then(e=>n(e)):this.checkPath(this.currentOs.checker).then(r=>{if(!r)return this.extension.logger.addLogMessage("Can not find latexindent in PATH!"),this.extension.logger.showErrorMessage("Can not find latexindent in PATH!"),n();this.format(e,t).then(e=>n(e))})})}checkPath(e){return r.workspace.getConfiguration("latex-workshop").get("docker.enabled")?Promise.resolve(!0):new Promise((t,n)=>{i.exec(e+" "+this.formatter,(n,r,o)=>{n?(this.formatter+=this.currentOs.fileExt,i.exec(e+" "+this.formatter,(e,n,r)=>{t(!e)})):t(!0)})})}format(e,t){return new Promise((n,a)=>{const u=r.workspace.getConfiguration("editor",e.uri);if(!r.window.activeTextEditor)return;const l=r.window.activeTextEditor.options,h=l.tabSize?+l.tabSize:4,f=l.insertSpaces?" ".repeat(h):"\\t",p=o.dirname(e.fileName),d=e.getText(t),g=p+o.sep+"__latexindent_temp.tex";s.writeFileSync(g,d);const m=e.fileName.replace(/\.tex$/,"").split(o.sep).join("/"),y=o.basename(e.fileName,".tex").split(o.sep).join("/"),v=this.formatterArgs.map(t=>t.replace("%DOC%",u.get("docker.enabled")?y:m).replace("%DOCFILE%",y).replace("%DIR%",o.dirname(e.fileName).split(o.sep).join("/")).replace("%TMPFILE%",g.split(o.sep).join("/")).replace("%INDENT%",f));this.extension.logger.addLogMessage(`Formatting with arguments ${v}`);const b=i.spawn(this.formatter,v,{stdio:"pipe",cwd:o.dirname(e.fileName)}),w=[],x=[];b.stdout.on("data",e=>w.push(e.toString())),b.stderr.on("data",e=>x.push(e.toString())),b.on("error",e=>{this.extension.logger.showErrorMessage("Formatting failed. Please refer to LaTeX Workshop Output for details."),this.extension.logger.addLogMessage(`Formatting failed: ${e.message}`),this.extension.logger.addLogMessage(`stderr: ${x.join("")}`),n()}),b.on("close",i=>{if(0!==i)return this.extension.logger.showErrorMessage("Formatting failed. Please refer to LaTeX Workshop Output for details."),this.extension.logger.addLogMessage(`Formatting failed with exit code ${i}`),this.extension.logger.addLogMessage(`stderr: ${x.join("")}`),n();const a=w.join("");if(""!==a){const i=[r.TextEdit.replace(t||c(e),a)];try{s.unlink(g),s.unlinkSync(p+o.sep+"indent.log")}catch(e){}return this.extension.logger.addLogMessage("Formatted "+e.fileName),n(i)}return n()})})}}t.LaTexFormatter=p;t.LatexFormatterProvider=class{constructor(e){this.formatter=new p(e)}provideDocumentFormattingEdits(e,t,n){return e.save().then(()=>this.formatter.formatDocument(e))}provideDocumentRangeFormattingEdits(e,t,n,r){return e.save().then(()=>this.formatter.formatDocument(e,t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.FoldingProvider=class{provideFoldingRanges(e,t,n){return[...this.getSectionFoldingRanges(e),...this.getEnvironmentFoldingRanges(e)]}getSectionFoldingRanges(e){return e.getText().split(/\r?\n/g).map((e,t)=>{const n=/^\\((?:sub)*)section{.*}/.exec(e);if(n){const e={};return e.level=n[1].length/3+1,e.lineNumber=t,e}return{}}).filter(e=>e.level).map((t,n,i)=>{const o=t.lineNumber;let s;if(n<i.length-1){for(let e=n+1;e<i.length;e++)if(t.level>=i[e].level){s=i[e].lineNumber-1;break}}else for(s=e.lineCount-1;s>o;s--)if(/\\end{document}/.test(e.lineAt(s).text)){s--;break}return e.lineAt(s).isEmptyOrWhitespace&&s>=t.lineNumber+1&&(s-=1),new r.FoldingRange(o,s)})}getEnvironmentFoldingRanges(e){const t=[];let n=[{text:e.getText(),offset:0}];for(;n.length>0;){const i=[];n.forEach(n=>{const o=/(\\begin{(.*?)})([\w\W]*)\\end{\2}/g;let s=o.exec(n.text);for(;s;)t.push(new r.FoldingRange(e.positionAt(n.offset+o.lastIndex-s[0].length).line,e.positionAt(n.offset+o.lastIndex).line-1)),i.push({text:s[3],offset:n.offset+o.lastIndex-s[0].length+s[1].length}),s=o.exec(n.text)}),n=i}return t}}}]);
//# sourceMappingURL=main.js.map